<!DOCTYPE html>
<!-- saved from url=(0046)https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
   <!-- Premium Pack Version 1.54 for HM6 Template design Copyright (c) 2008-2011 by Tim Green -->
   <title>Управление рассылками через API</title> 
   <meta name="generator" content="Help &amp; Manual"> 
   <meta name="keywords" content="">
   <meta name="description" content="Управление рассылками через API">
   <meta name="copyright" content="© 2025 Business Software Products">
   
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <script type="text/javascript">
   var togglesReady = true;
   var tablesReady = true; 
   </script>
   <link type="text/css" href="./default.css" rel="stylesheet">
   <link type="text/css" href="./custom.css" rel="stylesheet">
   <script type="text/javascript" src="./jquery.js.download"></script>
   <script type="text/javascript" src="./jquery.scrollTo-min.js.download"></script>
   <script type="text/javascript" src="./nsh.js.download"></script><style type="text/css">body,html {overflow: hidden;}#idcontent {position: absolute; left: 0; right: 0; bottom: 0; overflow-x: auto; overflow-y: scroll;}#noScriptNavHead {display: none;}body {visibility: hidden;}</style>


   <script type="text/javascript">
var togTocButton = "";
$(document).ready(function() {
  chromeBugCheck("workaround",false);
   
   });
</script>



<!-- CSS set with project variables and local attributes -->
<style type="text/css">
   body { background: #fff; } 
   #breadcrumbs { width: 100%; background-color: white; border: 1px solid #2b3856; padding: 2px 0 1px 2px;
   margin: 3px 0; font-size: 8pt; color: #2b3856;}
   #breadcrumbs a { color: #2b3856; text-decoration: none;}
   #breadcrumbs a:visited { color: #2b3856; }
   #breadcrumbs a:hover { color: #5e687e; text-decoration: none; }
   .help-url { font-size: 8pt; font-family: Verdana, Helvetica, sans-serif; 
               color: #5e687e; text-align: center; margin: 15px 15px 0px 15px; 
               padding-top: 5px; padding-bottom: 15px; border-top: 1px solid #000;}
   .help-url a { color: #5e687e; text-decoration: none; }
   .help-url a:visited { color: #5e687e; }
   .help-url a:hover { color: #5e687e; text-decoration: underline; }
   .highlight {background-color: #ffff40;}
</style>



<!-- Adjustment for IE -->
<!--[if lte IE 9]>
<style type="text/css">
.topichead { padding-right: 0; }
#autoTocWrapper ul li { padding: 3px 3px 4px 3px;}
</style>
<![endif]-->
<!--[if lte IE 7]>
<style type="text/css">
#innerdiv {height: 100%;}
</style>
<![endif]-->
   


<script type="text/javascript"> 
$(document).ready(function() {
var doc = document;  
try {
if (parent.initialtocstate != null) doc = parent.document;
doc.title = $("<div/>").html("AMS Enterprise 2.x - Файл Справки - Управление рассылками через API").text();
window.onunload = function() {doc.title = $("<div/>").html("AMS Enterprise 2.x - Файл Справки").text();}
} catch(err) {}
});</script>

   <script type="text/javascript" src="./helpman_settings.js.download"></script>
   <script type="text/javascript" src="./helpman_topicinit.js.download"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "apitopic.htm");
   </script>
   <script type="text/javascript" src="./highlight.js.download"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head> 
<body style="visibility: visible;">
<!--ZOOMSTOP-->

<div id="printheader">
<span id="printtitle">AMS Enterprise 2.x - Файл Справки</span><br>
<h1 class="p_Heading1"><span class="f_Heading1">Управление рассылками через API</span></h1>
</div>
<div id="idheader" style="background: #626b81 url(&#39;bg_topichd.gif&#39;) repeat-x bottom;"> 
<table id="breadtable" width="100%" border="0" cellspacing="0" cellpadding="0"> 
  <tbody><tr>
  <td align="left" class="breadhead" height="5">
        
  </td>
  </tr>
</tbody></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" id="headtable"> 

<!-- Script version of NavHeader -->
<tbody><tr id="scriptNavHead" valign="middle" style="height: auto; display: table-row;">
   
   <td align="left" class="topichead">
   <h1 class="p_Heading1"><span class="f_Heading1">Управление рассылками через API</span></h1>

   </td>
   
   <td align="center" width="20" class="idnav" valign="bottom">
     <a href="https://www.bspdev.ru/Help/Ru/AMS/allmarcoreference.htm" onmouseover="document.images.prev.src=&#39;button_prev_h.gif&#39;" onmouseout="document.images.prev.src=&#39;button_prev.gif&#39;">
        <img name="prev" src="./button_prev.gif" border="0" alt="Предыдущий топик" title="Предыдущий топик"></a>
     
   </td>
   
   <td align="center" width="20" class="idnav" valign="bottom">
     <a href="https://www.bspdev.ru/Help/Ru/AMS/ipv6notes.htm" onmouseover="document.images.next.src=&#39;button_next_h.gif&#39;" onmouseout="document.images.next.src=&#39;button_next.gif&#39;"><img name="next" src="./button_next.gif" border="0" alt="Следующий топик" title="Следующий топик"></a>
        
   </td>
   
   
   
  
   <td width="4">&nbsp;</td>
  </tr>
<!-- End script navheader version -->

<!-- NoScript version of navheader -->
  <tr id="noScriptNavHead" valign="middle" style="height: auto;"> 
    <td align="left" class="topichead"> 
    <h1 class="p_Heading1"><span class="f_Heading1">Управление рассылками через API</span></h1>

    </td>
    <td align="center" width="20" class="idnav" valign="bottom">
     <a href="https://www.bspdev.ru/Help/Ru/AMS/allmarcoreference.htm">
        <img src="./button_prev.gif" border="0" alt="Предыдущий топик" title="Предыдущий топик"></a>
     
   </td>
   <td align="center" width="20" class="idnav" valign="bottom">
     <a href="https://www.bspdev.ru/Help/Ru/AMS/ipv6notes.htm">
        <img src="./button_next.gif" border="0" alt="Следующий топик" title="Следующий топик"></a>
        
   </td>
   
   
   
   
   <td width="4">&nbsp;</td>
  </tr>
<!-- End noscript navheader version -->
  </tbody></table>
<div id="autoTocWrapper"></div></div> 

<div id="idcontent" style="top: 43px;"><div id="innerdiv">

<!--[if lt IE 7]><div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;'><a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode"><img src="http://storage.ie6countdown.com/assets/100/images/banners/warning_bar_0000_us.jpg" border="0" height="42" width="820" alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today." /></a></div><![endif]-->
<!--ZOOMRESTART-->
<p>Перед использованием API необходимо зайти в окно Настройки-&gt;Настройки API, задать параметры и включить API сервер:</p>
<p>&nbsp;</p>
<p style="text-align: center;"><img src="./apisettings.png" width="372" height="343" alt="apisettings" style="border:none"></p>
<p style="text-align: center;">&nbsp;</p>
<h1 class="p_Heading1"><span class="f_Heading1">Настройка API сервера</span></h1>
<p>&nbsp;</p>
<p>В первую очередь выберите протоколы, через которые будет взаимодействие с API. Поддерживаются два варианта HTTP и защищенный HTTPS. Протокол HTTPS обеспечивает шифрование данных между клиентом и API сервером, однако из-за больших накладных расходов работает медленнее чем HTTP. Вы можете включить один или сразу оба протокола использовать любой на ваш выбор. Так же нужно указать номер порта, который будет слушать API сервер. По умолчанию используются стандартные порты - 80 для HTTP и 443 для HTTPS. Однако, если у вас уже установлено какое-то ПО (например web сервер), которое слушает этот же порт - при запуске API сервера вы получите ошибку, что порт уже занят. В это случае вы можете задать любой другой свободный порт и заново запустить сервер.</p>
<p>&nbsp;</p>
<p>Если вы хотите использовать защищенный HTTPS протокол вы можете установить SSL сертификат из .pem или .pfx файла, нажав кнопку <span style="font-weight: bold;">Установить SSL сертификат.</span> По умолчанию используется само-подписанный сертификат, который обеспечивает работу HTTPS сервера и шифрование обмена данными, но при обращении к API URL из браузера будет выдаваться предупреждение, что само-подписанный сертификат не может быть проверен браузером. Если этот момент является для вас критичным - вы можете использовать настоящий (платный) SSL сертификат. AMS использует сертификат в формате PKCS#12 (*.pfx) и сохраняет его в папку %appdata%\AMSEnt\Data\ApiServerSslCerts\Server.pfx</p>
<p>Обратите внимание, что производительность API сервера при использовании HTTPS протокола в несколько раз ниже чем с обычным HTTP. Это может быть проблемой если вы планируете делать частые вызовы команд API.</p>
<p>&nbsp;</p>
<p>При первом запуске программы генерируется новый уникальный <span style="font-weight: bold;">Ключ API</span>, которые необходимо использовать при вызове команд API. При желании вы можете <span style="font-weight: bold;">Создать новый ключ</span> с помощью соответствующей кнопки.</p>
<p>&nbsp;</p>
<p>После того, как все настройки были заданы нажмите кнопку <span style="font-weight: bold;">Включить API сервер</span>. </p>
<p>&nbsp;</p>
<p>Так же, в некоторых случаях, вам может потребоваться добавить AMS в исключения файрвола и, возможно, изменить настройки вашего роутера если вы хотите что API сервер AMS был доступен из вне (из интернета).</p>
<p>&nbsp;</p>
<h1 class="p_Heading1"><span class="f_Heading1">API URL, формат данных, авторизация </span></h1>
<p>&nbsp;</p>
<p>Для отправки команд API используйте URL <a href="http://127.0.0.1/api/v1" target="_blank" class="weblink">http://127.0.0.1/api/v1</a> или <a href="https://127.0.0.1/api/v1" target="_blank" class="weblink">https://127.0.0.1/api/v1</a> где 127.0.0.1 это IP адрес компьютера (сервера) где установлен AMS. Используются HTTP POST запросы, Content-Type для POST запроса должен быть application/json.</p>
<p>&nbsp;</p>
<p>API использует данные в формате JSON по спецификации JSON-RPC 2.0, подробная информация о спецификации здесь: <a href="https://www.jsonrpc.org/specification" target="_blank" class="weblink">https://www.jsonrpc.org/specification</a>, существует множество библиотек и фреймворков, поддерживающих этот формат обмена данными, которые вы можете использовать своем ПО или скриптах. </p>
<p>&nbsp;</p>
<p>Каждая команда API должна содержать обязательный параметр <span style="font-weight: bold;">apiKey</span>, в котором необходимо передавать ключ доступа к API, который вы можете взять в окне настроек API (см. скриншот выше). Ответы API сервера так же соответствуют спецификации JSON-RPC 2.0.</p>
<p>&nbsp;</p>
<h1 class="p_Heading1"><span class="f_Heading1">Пример вызова команд в формате JSON-RPC 2.0 и получения ответа</span></h1>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">Запрос в общепринятом виде для команды curl, красным цветом показаны параметры команды curl, синим цветом выделен непосредственно сам JSON запроса, зеленым цветом - имя вызываемой команды API и ее параметры:</span></p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;; color: #ff0000;">curl -X POST -H 'Content-Type: application/json' -i 'http://127.0.0.1/api/v1' --data '</span><span style="font-family: &#39;Courier New&#39;; font-weight: bold; color: #0000ff;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;; font-weight: bold; color: #0000ff;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;; font-weight: bold; color: #0000ff;"> &nbsp; </span><span style="font-family: &#39;Courier New&#39;; font-weight: bold; color: #008000;">"method":"getMailings",</span></p>
<p><span style="font-family: &#39;Courier New&#39;; font-weight: bold; color: #0000ff;"> &nbsp; </span><span style="font-family: &#39;Courier New&#39;; font-weight: bold; color: #008000;">"params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;; font-weight: bold; color: #008000;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875"</span></p>
<p><span style="font-family: &#39;Courier New&#39;; font-weight: bold; color: #008000;"> &nbsp; }</span><span style="font-family: &#39;Courier New&#39;; font-weight: bold; color: #0000ff;">,</span></p>
<p><span style="font-family: &#39;Courier New&#39;; font-weight: bold; color: #0000ff;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;; font-weight: bold; color: #0000ff;">}</span><span style="font-family: &#39;Courier New&#39;; color: #ff0000;">'</span></p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">method - </span>имя вызываемой команды</p>
<p><span style="font-weight: bold;">params - </span>параметры вызываемой команды.</p>
<p>&nbsp;</p>
<p>поля отмеченные синим - <span style="font-weight: bold;">jsonrpc </span>и<span style="font-weight: bold;"> id </span>относятся к спецификации JSON-RPC 2.0 и, обычно, никогда не меняются.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">Ответ:</span></p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;; color: #0000ff;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;; color: #0000ff;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">  </span><span style="font-family: &#39;Courier New&#39;; color: #008000;"> "result":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;; color: #008000;"> &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;; color: #008000;"> &nbsp; &nbsp; &nbsp; &nbsp; "id":73,</span></p>
<p><span style="font-family: &#39;Courier New&#39;; color: #008000;"> &nbsp; &nbsp; &nbsp; &nbsp; "name":"Example Mailing",</span></p>
<p><span style="font-family: &#39;Courier New&#39;; color: #008000;"> &nbsp; &nbsp; &nbsp; &nbsp; "type":"mailing",</span></p>
<p><span style="font-family: &#39;Courier New&#39;; color: #008000;"> &nbsp; &nbsp; &nbsp; &nbsp; "state":"idle",</span></p>
<p><span style="font-family: &#39;Courier New&#39;; color: #008000;"> &nbsp; &nbsp; &nbsp; &nbsp; "createDate":"2003-11-13",</span></p>
<p><span style="font-family: &#39;Courier New&#39;; color: #008000;"> &nbsp; &nbsp; &nbsp; &nbsp; "lastStartDate":"2023-10-18T08:13:15.568",</span></p>
<p><span style="font-family: &#39;Courier New&#39;; color: #008000;"> &nbsp; &nbsp; &nbsp; &nbsp; "approxSpeed":"0\/min",</span></p>
<p><span style="font-family: &#39;Courier New&#39;; color: #008000;"> &nbsp; &nbsp; &nbsp; &nbsp; "lastStopByPostmaster":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;; color: #008000;"> &nbsp; &nbsp; &nbsp; &nbsp; "enableCustomExcludeList":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;; color: #008000;"> &nbsp; &nbsp; &nbsp; &nbsp; "customExcludeListID":-1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;; color: #008000;"> &nbsp; &nbsp; &nbsp; &nbsp; "enableExcludeListFile":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;; color: #008000;"> &nbsp; &nbsp; &nbsp; &nbsp; "excludeListFileName":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;; color: #008000;"> &nbsp; &nbsp; &nbsp; &nbsp; "excludeListFileType":"emails",</span></p>
<p><span style="font-family: &#39;Courier New&#39;; color: #008000;"> &nbsp; &nbsp; &nbsp; &nbsp; "progressInfo":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;; color: #008000;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"percentDone":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;; color: #008000;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"total":1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;; color: #008000;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"sent":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;; color: #008000;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"notSent":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;; color: #008000;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"bad":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;; color: #008000;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"refused":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;; color: #008000;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"excluded":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;; color: #008000;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"opened":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;; color: #008000;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"clicks":0</span></p>
<p><span style="font-family: &#39;Courier New&#39;; color: #008000;"> &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;; color: #008000;"> &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;; color: #008000;"> &nbsp; ],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">  </span><span style="font-family: &#39;Courier New&#39;; color: #0000ff;"> "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;; color: #0000ff;">}</span></p>
<p>&nbsp;</p>
<p>Результат выполнения команды содержится в поле <span style="font-weight: bold;">result</span>, которое может быть числом, строкой, объектом или массивом в зависимости от того какая какая команда исполняется. Поля отмеченные синим <span style="font-weight: bold;">jsonrpc </span>и <span style="font-weight: bold;">id </span>относятся к спецификации JSON-RPC 2.0 и, обычно, никогда не меняются.</p>
<p>&nbsp;</p>
<p>В случае если были переданы не верные параметры команды или при ее выполнении возникла ошибка - ответ с ошибкой будет выглядеть таким образом:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; </span><span style="font-family: &#39;Courier New&#39;; color: #0000ff;">"jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">  </span><span style="font-family: &#39;Courier New&#39;; color: #008000;"> "error":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;; color: #008000;"> &nbsp; &nbsp; &nbsp;"code":-32603,</span></p>
<p><span style="font-family: &#39;Courier New&#39;; color: #008000;"> &nbsp; &nbsp; &nbsp;"message":"Mailing with id=716 not exists"</span></p>
<p><span style="font-family: &#39;Courier New&#39;; color: #008000;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">  </span><span style="font-family: &#39;Courier New&#39;; color: #0000ff;"> "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
<p>&nbsp;</p>
<p>Зеленым выделена информация об ошибке - <span style="font-weight: bold;">сode - </span>ее код и <span style="font-weight: bold;">message </span>- текст ошибки. Поля отмеченные синим <span style="font-weight: bold;">jsonrpc </span>и <span style="font-weight: bold;">id </span>относятся к спецификации JSON-RPC 2.0 и, обычно, никогда не меняются.</p>
<p>&nbsp;</p>
<h1 class="p_Heading1"><span class="f_Heading1">Дополнительные замечания по работе с API</span></h1>
<p>&nbsp;</p>
<p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 0px;"><span style="font-size:10pt; font-family: &#39;Arial Unicode MS&#39;,&#39;Lucida Sans Unicode&#39;,&#39;Arial&#39;;color:#000000;display:inline-block;width:13px;margin-left:-13px">•</span>Команды API всегда выполняются последовательно, одна за одной, в главном потоке AMS. Даже если вы отправите команды параллельно в несколько потоков - они встанут в очередь и будут выполнены последовательно.<br>
&nbsp;</p><p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 0px;"><span style="font-size:10pt; font-family: &#39;Arial Unicode MS&#39;,&#39;Lucida Sans Unicode&#39;,&#39;Arial&#39;;color:#000000;display:inline-block;width:13px;margin-left:-13px">•</span>Поскольку команды выполняются в главном потоке приложения - слишком частая отправка команд может привести к снижению отзывчивости интерфейса AMS.<br>
&nbsp;</p><p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 0px;"><span style="font-size:10pt; font-family: &#39;Arial Unicode MS&#39;,&#39;Lucida Sans Unicode&#39;,&#39;Arial&#39;;color:#000000;display:inline-block;width:13px;margin-left:-13px">•</span>Некоторые команды API не могут быть выполнены из-за текущих действий пользователя, работающего в интерфейсе AMS. Например, нельзя удалить список рассылки если в этот момент его просматривает или редактирует пользователь. В таких случаях вы получите ошибку, что данный ресурс сейчас занят и предложение повторить команду позднее.<br>
&nbsp;</p><p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 0px;"><span style="font-size:10pt; font-family: &#39;Arial Unicode MS&#39;,&#39;Lucida Sans Unicode&#39;,&#39;Arial&#39;;color:#000000;display:inline-block;width:13px;margin-left:-13px">•</span><span style="font-weight: bold;">Некоторые команды, например создающие/редактирующие Рассылки, Письма, Профили отправки, работают с относительно сложными объектами, чье JSON представление может быть довольно объемным. Чтобы было проще разобраться с тем, какие данные нужно отправлять - вы можете создать Рассылку, Письмо, Профиль отправки и т.д. с нужными настройками вручную в интерфейсе AMS, после чего получить JSON представление созданного объекта через команду getНужныйВамОбъект. Таким образом, вы получите JSON объекта с нужными вам настройками, чтобы в дальнейшем использовать его в качестве образца.</span></p><p>&nbsp;</p>
<p>&nbsp;</p>
<h1 class="p_Heading1"><span class="f_Heading1">Перечень команд API</span></h1>
<p>&nbsp;</p>
<div style="text-align: center; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="margin:0 auto; width:50%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:50%; background-color:#e0e0e0; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Команда API</p>
</td>
<td style="vertical-align:top; width:50%; background-color:#e0e0e0; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Описание</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="2" style="vertical-align:top; background-color:#e0e0e0; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><span style="font-weight: bold;">Управление рассылками</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apiaddmailing" class="topiclink">addMailing</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Создать новую рассылку</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apieditmailing" class="topiclink">editMailing</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Изменить настройки рассылки</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apideletemailing" class="topiclink">deleteMailing</a></p>
</td>
<td style="vertical-align:top; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Удалить рассылку</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apigetmailings" class="topiclink">getMailings</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Получить список имеющихся рассылок всех типов</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apigettransmailings" class="topiclink">getTransactionalMailings</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Получить список только транзакционных рассылок</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apigetmailing" class="topiclink">getMailing</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Получить детальную информацию о рассылке</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apistartmailing" class="topiclink">startMailing</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Запустить рассылку</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apistopmailing" class="topiclink">stopMailing</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Остановить рассылку</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apirestartrunningmailings" class="topiclink">restartRunningMailings</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Перезапуск работающих рассылок чтобы они увидели изменения различных настроек.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="2" style="vertical-align:middle; background-color:#e0e0e0; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><span style="font-weight: bold;">Управление учетными записями отправителя</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apiaddsenderaccount" class="topiclink">addSenderAccount</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Добавить учетную запись отправителя</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apieditsenderaccount" class="topiclink">editSenderAccount</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Редактировать настройки учетной записи</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apideletesenderaccount" class="topiclink">deleteSenderAccount</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Удалить учетную запись</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apigetsenderaccounts" class="topiclink">getSenderAccounts</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Получить список имеющихся учетных записей</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apigetsenderaccount" class="topiclink">getSenderAccount</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Получить детальную информацию об учетной записи</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="2" style="vertical-align:middle; background-color:#e0e0e0; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><span style="font-weight: bold;">Управление списками рассылки</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; height:16px; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apiaddmailinglist" class="topiclink">addMailingList</a></p>
</td>
<td style="vertical-align:middle; width:50%; height:16px; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Создать список рассылки</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apieditmailinglist" class="topiclink">editMailingList</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Изменить настройки списка рассылки</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apideletemailinglist" class="topiclink">deleteMailingList</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Удалить список рассылки (на данный момент команда не реализована)</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apigetmailinglists" class="topiclink">getMailingLists</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Получить список имеющихся списков рассылки</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apigetmailinglistsize" class="topiclink">getMailingListSize</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Получить размер списка рассылки</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apigetmailinglistdataset" class="topiclink">getMailingListDataSet</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Получить содержимое списка рассылки</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apiclearmailinglist" class="topiclink">clearMailingList</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Удалить все записи из списка рассылки</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="2" style="vertical-align:middle; background-color:#e0e0e0; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><span style="font-weight: bold;">Управление контактами (получателями)</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apiaddcontacts" class="topiclink">addContacts</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Добавить получателей в список рассылки</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apieditcontact" class="topiclink">editContact</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Редактировать получателя в списке рассылки</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apideletecontacts" class="topiclink">deleteContacts</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Удалить получателей из списка рассылки</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="2" style="vertical-align:middle; background-color:#e0e0e0; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><span style="font-weight: bold;">Управление письмами</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apiaddmessage" class="topiclink">addMessage</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Создать письмо</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apieditmessage" class="topiclink">editMessage</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Изменить письмо</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apideletemessage" class="topiclink">deleteMessage</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Удалить письмо</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apigetmessages" class="topiclink">getMessages</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Получить список имеющихся писем</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apigetmessage" class="topiclink">getMessage</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Получить детальную информацию о письме</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="2" style="vertical-align:middle; background-color:#e0e0e0; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><span style="font-weight: bold;">Управление профилями отправки</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apiadddeliverypreset" class="topiclink">addDeliveryPreset</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Создать профиль отправки</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apieditdeliverypreset" class="topiclink">editDeliveryPreset</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Изменить настройки профиля отправки</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apideletedeliverypreset" class="topiclink">deleteDeliveryPreset</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Удалить профиль отправки</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apigetdeliverypresets" class="topiclink">getDeliveryPresets</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Получить список имеющихся профилей отправки</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apigetdeliverypreset" class="topiclink">getDeliveryPreset</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Получить детальную информацию о профиле отправки</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apitogglerelaysinpreset" class="topiclink">toggleRelaysInPreset</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Массовое включение/выключение Smtp релеев в профиле отправки.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="2" style="vertical-align:middle; background-color:#e0e0e0; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><span style="font-weight: bold;">Управление ссылками для сбора статистики по кликам и открытым письмам (ссылками на скрипт amsweb.php)</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apiaddamsweblink" class="topiclink">addAmswebLink</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Добавить ссылку на amsweb.php</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apieditamsweblink" class="topiclink">editAmswebLink</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Изменить настройки ссылки</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apideleteamsweblink" class="topiclink">deleteAmswebLink</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Удалить ссылку</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apigetamsweblinks" class="topiclink">getAmswebLinks</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Получить список имеющихся ссылок на amsweb.php</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="2" style="vertical-align:middle; background-color:#e0e0e0; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><span style="font-weight: bold;">Управление DKIM подписями</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apiadddkimsignature" class="topiclink">addDkimSignature</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Добавить DKIM подпись</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apieditdkimsignature" class="topiclink">editDkimSignature</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Изменить DKIM подпись</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apideletedkimsignature" class="topiclink">deleteDkimSignature</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Удалить DKIM подпись</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apigetdkimsignatures" class="topiclink">getDkimSignatures</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Получить список имеющихся DKIM подписей</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apigetdkimsignature" class="topiclink">getDkimSignature</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Получить детальную информацию о DKIM подписи</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="2" style="vertical-align:middle; background-color:#e0e0e0; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><span style="font-weight: bold;">Управления аккаунтами для получения статистики от postmaster.mail.ru</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apiaddpostmasteraccount" class="topiclink">addPostmasterAccount</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Добавить аккаунт для получения статистики с postmaster.mail.ru</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apieditpostmasteraccount" class="topiclink">editPostmasterAccount</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Изменить настройки аккаунта </p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apideletepostmasteraccount" class="topiclink">deletePostmasterAccount</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Удалить аккаунт</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apigetpostmasteraccounts" class="topiclink">getPostmasterAccounts</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Получить список имеющихся аккаунтов postmaster.mail.ru</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="2" style="vertical-align:middle; background-color:#e0e0e0; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><span style="font-weight: bold;">Управление списками прокси</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apiaddproxylist" class="topiclink">addProxyList</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Создать список прокси</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apieditproxylist" class="topiclink">editProxyList</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Изменить настройки списка прокси</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apideleteproxylist" class="topiclink">deleteProxyList</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Удалить список прокси</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apiupdateproxylist" class="topiclink">updateProxyList</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Задать содержимое прокси листа (добавить прокси в список)</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apigetproxylists" class="topiclink">getProxyLists</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Получить список имеющихся списков прокси</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apigetproxylist" class="topiclink">getProxyList</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Получить информацию о прокси листе</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="2" style="vertical-align:middle; background-color:#e0e0e0; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><span style="font-weight: bold;">Получение статистики и изменение настроек smtp релеев, используемых в активных рассылках</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apigetrelayssendingstates" class="topiclink">getRelaysSendingStates</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Получить состояния релеев у активной рассылки (число отправленных писем, ошибки)</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apichangerelaysendingoption" class="topiclink">changeRelaySendingOption</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Изменить параметры заданного релея у активной рассылки</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="2" style="vertical-align:middle; background-color:#e0e0e0; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><span style="font-weight: bold;">Получение статистики и изменение настроек прокси, используемых в активных рассылках</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apigetproxiessendingstates" class="topiclink">getProxiesSendingStates</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Получить состояния прокси у активной рассылки (число отправленных писем, ошибки)</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apichangeproxysendingoption" class="topiclink">changeProxySendingOption</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Изменить параметры заданного прокси у активной рассылки</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="2" style="vertical-align:middle; background-color:#e0e0e0; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><span style="font-weight: bold;">Управление транзакционными рассылками</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apipostsendingjob" class="topiclink">postSendingJob</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Отправить задание на отправку в очередь транзакционной рассылки</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apigetsendingjobresult" class="topiclink">getSendingJobResult</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Получить результат отправки задания</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="2" style="vertical-align:middle; background-color:#e0e0e0; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><span style="font-weight: bold;">Управление расписанием запуска рассылок</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apiisschedulerrunning" class="topiclink">isSchedulerRunning</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Проверить запущен ли планировщик рассылок AMS</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;"><a href="https://www.bspdev.ru/Help/Ru/AMS/apitopic.htm#apirunscheduler" class="topiclink">runScheduler</a></p>
</td>
<td style="vertical-align:middle; width:50%; padding:2px; border:solid 1px #000000;"><p style="text-align: center;">Запустить планировщик рассылок AMS</p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 class="p_Heading1"><span class="f_Heading1">Описание команд API</span></h1>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:2076px; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apiaddmailing"></a><span class="f_Heading1">addMailing</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:2076px; padding:2px; border:solid 1px #000000;"><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="border:none; border-spacing:0px;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:1834px; padding:0px;"><p>Команда создает новую рассылку.</p>
<p>&nbsp;</p>
<p>В параметрах команды вы можете передать большую часть настроек рассылки, представленных на скриншоте. На данный момент (в версии 2.99.17) через API нельзя передать расписание запусков, а так же Действия в ответ на открытия писем и клики на ссылки в письмах. Остальные параметры доступны для изменения через API.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey - </span>ключ доступа к API</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">name - </span>имя создаваемой рассылки, обязательный параметр.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">type </span>- тип создаваемой рассылки. Возможные значения:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">mailing</span> - для создания обычной рассылки</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">validation</span> - для создания рассылки для валидации баз</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">transactional</span> - для создания транзакционной рассылки. Если не задан - тип по умолчанию - mailing.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">settings - </span>объект, в котором передаются настройки рассылки:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">senderAccount.id - </span>id Учетной записи отправителя, выбранной для рассылки. Список доступных учетных записей можно получить с помощью команды getSenderAccounts.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">mailList.id </span>- id Списка рассылки, выбранного для рассылки. Список доступных списков рассылки можно получить с помощью команды getMailingLists</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">message.id </span>- id письма, выбранного для рассылки. Список доступных писем можно получить с помощью команды getMessages.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">deliveryPreset.id - </span>id профиля отправки, выбранного для рассылки. Список доступных профилей отправки можно получить с помощью команды getDeliveryPresets.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">controlEmailSettings - </span>объект, в котором задаются настройки отправки писем на контрольные адреса в процессе рассылки.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">enabled </span>- разрешает отправку контрольных писем.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">controlEmails - </span>массив с email адресами, на которые будут уходить контрольные письма во время рассылки.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">sendingIntervalMode - </span>режим отправки контрольных писем.<span style="font-weight: bold;"> </span>Возможные значения:</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">byMessagesNumber </span>(отправлять контрольные письма на заданные адреса после отправки числа обычных писем).</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">byMailingProgress </span>(отправлять контрольные письма на заданные адреса через заданный % прогресса рассылки).</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">sendingIntervalValue - </span>в зависимости от значения параметра sendingIntervalMode - число писем или % прогресса, после которого должна выполняться отправка контрольных писем на адреса, заданные в массиве controlEmails.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">postmasterIntegration </span>- объект, в котором задаются настройки интеграции с postmaster.mail.ru</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">enabled - </span>разрешает интеграцию с postmaster.mail.ru</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">postmasterAccountID </span>- id аккаунта postmaster.mail.ru который содержит информацию по доменам, которые нужно отслеживать. Для получения списка доступных аккаунтов используйте команду getPostmasterAccounts.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">postmasterDomains </span>- массив с доменами, статистику по которым нужно отслеживать. Эти домены должны быть подключены к выбранному аккаунту постмастера на <a href="https://postmaster.mail.ru/" target="_blank" class="weblink">https://postmaster.mail.ru</a></p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">enableMailingAutoStop </span>- разрешить автоматическую остановку рассылки если статистика постмастера показывает, что письма стали уходить в "спам" или "возможно спам"</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">autoStopPostmasterData </span>- какие данные postmaster.mail.ru будут анализироваться для остановки рассылки. Возможные значения:</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">spam - </span>число или процент писем, попавших в Спам</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">probablySpam - </span>число или процент писем, попавших в Возможно спам</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">spamOrProbablySpam - </span>число или процент писем, попавших в Спам ИЛИ в Возможно спам.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">autoStopValueType</span> - определяет тип информации о письмах, поправших в спам или возможно спам, которые будут анализироваться для остановки рассылки. Возможные значения:</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">spamMsgNumber - </span>анализируется число писем, попавших в спам или возможно спам</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">spamPercent - </span>анализируется процент писем, попавших в спам или возможно спам.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">autoStopValue</span> - в зависимости от содержимого параметра autoStopValueType - число или процент писем, попавших в спам или возможно спам, при достижении которого рассылка будет автоматически остановлена.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">autoStopMode </span>- режим остановки рассылки, возможные значения:</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">fullStop</span> - полная остановка рассылки</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">suspend</span> - приостановить рассылку на заданное время.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">autoSuspendMinutes </span>- число минут, на которые нужно приостановить рассылку если параметр autoStopMode содержит значение "suspend".</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">disableSendingLog </span>- отключить запись логов рассылки для экономии места на диске.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">enableCustomExcludeList </span>- включить персональный список исключений для этой рассылки. В качестве персонального списка можно выбрать любой список рассылки На адреса, которые есть в этом списке почта отправляться не будет. Персональный список исключений работает совместно с "глобальным" списком исключений, который задается в окне управления списками рассылки.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">customExcludeListID </span>- id списка рассылки, который будет использоваться как персональный список исключений. Получить список доступных списков рассылки можно командой getMailingLists</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">enableExcludeLisfFile - </span>включить дололнительный список исключений в виде текстового файла файла на диске. Этот дополнительный список исключений работает совместно с персональным списком исключений, заданным в параметре customExcludeListID и глобальным списком исключений, заданным в окне управления списками рассылки. Таким образом, у рассылки может быть 3 разных списка исключений - глобальный и два персональных дополнительных.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">excludeListFileName </span>- путь к файлу на диске с дополнительным списком исключений.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">excludeListFileType </span>- содержимое файла со списком исключений, возможные значения:</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">emails</span> - файл содержит email адреса</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">md5Hashes</span> - файл содержит MD5 хэши email адресов</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">sha1Hashes</span> - файл содержит sha1 хэши email адресов</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">sha256Hashes</span> - файл содержит sha256 хэши email адресов.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">CustomFields </span>- массив строк (до 10 строк) в которых можно задать любые пользовательские данные, привязанные к этой рассылке. В последствии, эти данные могут быть подставлены в любое место письма или его заголовка с помощью макросов [%%MailingCustomField1%%] ... [%%MailingCustomField10%%]</p>
</td>
<td style="vertical-align:top; width:358px; padding:0px;"><p style="text-align: right;"><img src="./api_mailingopts_zoom56.png" width="357" height="353" alt="api_mailingopts" style="border:none"></p>
</td>
</tr>
</tbody></table>
</div>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:2076px; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"addMailing",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"name":"New Mailing from API",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"type":"mailing",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"settings":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "senderAccount":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"id":22</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "mailList":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"id":263</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "message":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"id":189</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "deliveryPreset":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"id":1026</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "controlEmailsSending":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"enabled":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"controlEmails":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "seed1@email.com"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"sendingIntervalMode":"byMessagesNumber",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"sendingIntervalValue":1000</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "postmasterIntegration":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"enabled":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"postmasterAccountID":4,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"postmasterDomains":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "mydomain.com"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"enableMailingAutoStop":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"autoStopPostmasterData":"spam",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"autoStopValueType":"spamPercent",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"autoStopValue":1.5,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"autoStopMode":"suspend",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"autoSuspendMinutes":122</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "disableSendingLog":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "enableCustomExcludeList":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "customExcludeListID":-1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "enableExcludeListFile":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "excludeListFileName":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "excludeListFileType":"emails",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "customFields":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;""</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; ]</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:2076px; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит ID созданной рассылки или ошибку:</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:2076px; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"newResourceID":243</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apieditmailing"></a><span class="f_Heading1">editMailing</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда редактирует рассылку.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey - </span>ключ доступа к API</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id </span>- id рассылки, которую нужно отредактировать. Обязательный параметр. Получить список имеющихся рассылок можно с помощью команды getMailings.</p>
<p>&nbsp;</p>
<p>Все остальные параметры могут быть такими же как и у команды addMailing, но не обязательно передавать их все если нужно изменить только какую-то конкретную настройку. Например, если вы хотите только выбрать для рассылки другой профиль отправки - достаточно будет передать объект settings.DeliveryPreset.id и больше ничего. Те объекты, которые не передавались в параметрах команды - останутся без изменений.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"editMailing",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"id":238,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"name":"Edited Mailing Name",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"type":"mailing",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"settings":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "senderAccount":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"id":22</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "mailList":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"id":263</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "message":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"id":189</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "deliveryPreset":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"id":1026</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "controlEmailsSending":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"enabled":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"controlEmails":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "seed1@email.com"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"sendingIntervalMode":"byMessagesNumber",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"sendingIntervalValue":1000</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "postmasterIntegration":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"enabled":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"postmasterAccountID":4,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"postmasterDomains":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "mydomain.com"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"enableMailingAutoStop":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"autoStopPostmasterData":"spam",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"autoStopValueType":"spamPercent",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"autoStopValue":1.5,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"autoStopMode":"suspend",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"autoSuspendMinutes":122</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "disableSendingLog":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "enableCustomExcludeList":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "customExcludeListID":-1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "enableExcludeListFile":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "excludeListFileName":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "excludeListFileType":"emails",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "customFields":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"my string 1",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"my string 2",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;""</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; ]</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p>}</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит строку "ОК" или ошибку:</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":"OK",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apideletemailing"></a><span class="f_Heading1">deleteMailing</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда удаляет рассылку. </p>
<p>&nbsp;</p>
<p>Нельзя удалить работающую рассылку, для этого ее вначале нужно остановить с помощью команды stopMailing</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id </span>- ID рассылки, которую нужно удалить. Список ID имеющихся рассылок можно получить с помощью команды getMailings</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"deleteMailing",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"id":204</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит строку "ОК" или ошибку:</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":"OK",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apigetmailings"></a><span class="f_Heading1">getMailings</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:1935px; padding:0px;"><p>Команда выдает список имеющихся рассылок, их состояния и прогресс работы</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API</p>
</td>
<td style="vertical-align:top; width:257px; padding:0px;"><p style="text-align: right;"><img src="./api_getmailings.png" width="254" height="204" alt="api_getmailings" style="border:none"></p>
</td>
</tr>
</tbody></table>
</div>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp;"jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp;"method":"getMailings",</span></p>
<p><span style="width:48px">&nbsp;</span><span style="font-family: &#39;Courier New&#39;;"> "params": {"apiKey": "38091FE7-5516-4F5B-9455-4A340BFEC875"},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит массив с имеющимися рассылками и их состояниями:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id - </span>id рассылки. Этот id может использоваться в параметрах для команд editMailing, deleteMailing, startMailing, stopMailing, getMailing и других.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">name </span>- имя рассылки.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">type </span>- тип рассылки. Возможные значения:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">mailing</span> - обычная рассылка</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">validation</span> - рассылка для валидации базы</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">transactional</span> - транзакционная рассылка.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">state </span>- состояние рассылки. Возможные значения: </p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">idle</span> - рассылка остановлена</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">working</span> - рассылка работает</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">stopping</span> - рассылка в процессе остановки. Поскольку остановка рассылки может занимать некоторое время - для него выделен отдельный статус. Пока рассылка останавливается ее нельзя удалить или запустить, эти операции возможны только если состояние рассылки "idle".</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">createDate - </span>дата создания рассылки</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">lastStartDate </span>- дата и время последнего запуска рассылки.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">approxSpeed </span>- средняя скорость рассылки (доступна для работающих рассылок).</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">lastStopByPostmaster </span>- последняя остановка рассылки была вызвана функцией интеграции с postmaster.mail.ru т.е. письма стали попадать в "спам" или в "возможно спам" на mail.ru</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">progressInfo </span>- объект с прогрессом рассылки.</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">percentDone </span>- % прогресса выполнения рассылки (всегда 0 если <span style="font-weight: bold;">type</span> = transactional)</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">total </span>- общее число адресов в списке контактов, по которому идет рассылка.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">sent </span>- число отправленных писем</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">notSent - </span>число не отправленных писем</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">bad - </span>число адресов получателей, которые определились как не существующие/плохие (см. окно Настройки-&gt;Smtp правила).</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">refused - </span>число адресов получателей, на которые не удалось доставить почту в режиме встроенного smtp сервера по причине ошибок, связанных с блокировкой IP, домена или содержимого письма (см. окно Настройки-&gt;Smtp правила).</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">exсluded - </span>число адресов получателей, на которые не были отправлены письма т.к. эти адреса находились в списках исключений или попадали под правила исключений.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">opened </span>- число писем, открытых получателями.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">clicks </span>- число кликов по ссылкам внутри писем.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">jobsQueued - </span>число заданий в очереди транзакционной рассылки (доступно только если <span style="font-weight: bold;">type</span> = transactional).</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">contactsQueued - </span>число адресов в очереди транзакционной рассылки (доступно только если <span style="font-weight: bold;">type</span> = transactional).</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">good </span>- число адресов, определившиеся как "хорошие" в процессе валидации базы &nbsp;(доступно только если <span style="font-weight: bold;">type</span> = validation).</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">undetermined </span>- число адресов, чей результат валидации не удалось определить из-за каких-либо ошибок &nbsp;(доступно только если <span style="font-weight: bold;">type</span> = validation).</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "id":73,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "name":"Example Mailing",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "type":"mailing",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "state":"idle",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "createDate":"2003-11-13",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "lastStartDate":"2023-10-18T08:13:15.568",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "approxSpeed":"0\/min",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "lastStopByPostmaster":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "progressInfo":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"percentDone":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"total":1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"sent":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"notSent":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"bad":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"refused":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"excluded":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"opened":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"clicks":0</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "id":76,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "name":"Another mailing",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "type":"transactional",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "state":"idle",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "createDate":"2024-03-02",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "lastStartDate":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "approxSpeed":"0\/min",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "lastStopByPostmaster":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "progressInfo":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"jobsQueued":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"contactsQueued":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"percentDone":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"total":2,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"sent":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"notSent":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"bad":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"refused":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"excluded":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"opened":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"clicks":0</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "id":81,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "name":"Validation mailing",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "type":"validation",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "state":"idle",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "createDate":"2024-03-02",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "lastStartDate":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "approxSpeed":"0\/min",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "lastStopByPostmaster":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "progressInfo":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"percentDone":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"total":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"good":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"bad":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"undetermined":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"excluded":0</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; ],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apigettransmailings"></a><span class="f_Heading1">getTransactionalMailings</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда выдает список имеющихся транзакционных рассылок.</p>
<p>&nbsp;</p>
<p>Фактически, это почти то же самое, что команда getMailings, но выдает только те рассылки, у которых поле <span style="font-weight: bold;">type</span> содержит "transactional"</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp;"jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp;"method":"getTransactionalMailings",</span></p>
<p><span style="width:48px">&nbsp;</span><span style="font-family: &#39;Courier New&#39;;"> "params": {"apiKey": "38091FE7-5516-4F5B-9455-4A340BFEC875"},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит массив с имеющимися транзакционными рассылками и их состояниями. Описание возвращаемых полей дано у команды getMailings выше.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>{</p>
<p> &nbsp; "jsonrpc":"2.0",</p>
<p> &nbsp; "result":[</p>
<p> &nbsp; &nbsp; &nbsp;{</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; "id":76,</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; "name":"Another mailing",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; "type":"transactional",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; "state":"idle",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; "createDate":"2024-03-02",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; "lastStartDate":"",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; "progressInfo":{</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"jobsQueued":0,</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"contactsQueued":0,</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"total":0,</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"sent":0,</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"notSent":0,</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"bad":0,</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"refused":0,</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"excluded":0,</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"opened":0,</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"clicks":0</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; }</p>
<p> &nbsp; &nbsp; &nbsp;}</p>
<p> &nbsp; ],</p>
<p> &nbsp; "id":1</p>
<p>}</p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apigetmailing"></a><span class="f_Heading1">getMailing</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда выдает подробную информацию о рассылке: ее состояние и настройки.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API</p>
<p><span style="font-weight: bold;">id - </span>id рассылки, данные о которой нужно получить. Список имеющихся рассылок можно получить с помощью команды getMailings.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p>{</p>
<p> &nbsp; "jsonrpc":"2.0",</p>
<p> &nbsp; "method":"getMailing",</p>
<p> &nbsp; "params":{</p>
<p> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</p>
<p> &nbsp; &nbsp; &nbsp;"id":73</p>
<p> &nbsp; },</p>
<p> &nbsp; "id":"1"</p>
<p>}</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит объект с информацией о рассылке. Вы можете использовать полученный объект как образец для создания или редактирования рассылок (см. команды addMailing и editMailing).</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id - </span>id рассылки, обязательный параметр</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">name </span>- имя рассылки.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">type </span>- тип рассылки. Возможные значения:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">mailing</span> - обычная рассылка</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">validation</span> - рассылка для валидации базы</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">transactional</span> - транзакционная рассылка..</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">state </span>- состояние рассылки. Возможные значения: </p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">idle</span> - рассылка остановлена</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">working</span> - рассылка работает</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">stopping</span> - рассылка в процессе остановки. Поскольку остановка рассылки может занимать некоторое время - для него выделен отдельный статус. Пока рассылка останавливается ее нельзя удалить или запустить, эти операции возможны только если состояние рассылки "idle".</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">createDate - </span>дата создания рассылки</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">lastStartDate </span>- дата и время последнего запуска рассылки.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">approxSpeed </span>- средняя скорость рассылки (доступна для работающих рассылок).</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">lastStopByPostmaster </span>- последняя остановка рассылки была вызвана функцией интеграции с postmaster.mail.ru т.е. письма стали попадать в "спам" или в "возможно спам" на mail.ru</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">progressInfo </span>- объект с прогрессом рассылки.</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">percentDone </span>- % прогресса выполнения рассылки (всегда 0 если <span style="font-weight: bold;">type</span> = transactional)</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">total </span>- общее число адресов в списке контактов, по которому идет рассылка.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">sent </span>- число отправленных писем</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">notSent - </span>число не отправленных писем</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">bad - </span>число адресов получателей, которые определились как не существующие/плохие (см. окно Настройки-&gt;Smtp правила).</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">refused - </span>число адресов получателей, на которые не удалось доставить почту в режиме встроенного смтп сервера по причине ошибок, связанных с блокировкой IP, домена или содержимого письма (см. окно Настройки-&gt;Smtp правила).</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">exсluded - </span>число адресов получателей, на которые не были отправлены письма т.к. эти адреса находились в списках исключений или попадали под правила исключений.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">opened </span>- число писем, открытых получателями.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">clicks </span>- число кликов по ссылкам внутри писем.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">jobsQueued - </span>число заданий в очереди транзакционной рассылки (доступно только если <span style="font-weight: bold;">type</span> = transactional).</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">contactsQueued - </span>число адресов в очереди транзакционной рассылки (доступно только если <span style="font-weight: bold;">type</span> = transactional).</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">good </span>- число адресов, определившиеся как "хорошие" в процессе валидации базы &nbsp;(доступно только если <span style="font-weight: bold;">type</span> = validation).</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">undetermined </span>- число адресов, чей результат валидации не удалось определить из-за каких-либо ошибок &nbsp;(доступно только если <span style="font-weight: bold;">type</span> = validation).</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">settings - </span>объект, в котором передаются настройки рассылки:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">senderAccount.id - </span>id Учетной записи отправителя, выбранной для рассылки.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">mailList.id </span>- id Списка рассылки, выбранного для рассылки.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">message.id </span>- id письма, выбранного для рассылки.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">deliveryPreset.id - </span>id профиля отправки, выбранного для рассылки.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">controlEmailSettings - </span>объект, в котором задаются настройки отправки писем на контрольные адреса в процессе рассылки.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">enabled </span>- разрешает отправку контрольных писем.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">controlEmails - </span>массив с email адресами, на которые будут уходить контрольные письма во время рассылки.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">sendingIntervalMode - </span>режим отправки контрольных писем.<span style="font-weight: bold;"> </span>Возможные значения:</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">byMessagesNumber - </span>отправлять контрольные письма на заданные адреса после отправки числа обычных писем</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">byMailingProgress - </span>отправлять контрольные письма на заданные адреса через заданный % прогресса рассылки.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">sendingIntervalValue - </span>в зависимости от значения параметра sendingIntervalMode - число писем или % прогресса, после которого должна выполняться отправка контрольных писем на адреса, заданные в массиве controlEmails.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">postmasterIntegration </span>- объект, в котором задаются настройки интеграции с postmaster.mail.ru</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">enabled - </span>разрешает интеграцию с postmaster.mail.ru</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">postmasterAccountID </span>- id аккаунта postmaster.mail.ru который содержит информацию по доменам, которые нужно отслеживать. Для получения списка доступных аккаунтов используйте команду getPostmasterAccounts.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">postmasterDomains </span>- массив с доменами, статистику по которым нужно отслеживать. Эти домены должны быть подключены к выбранному аккаунту постмастера на <a href="https://postmaster.mail.ru/" target="_blank" class="weblink">https://postmaster.mail.ru</a></p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">enableMailingAutoStop </span>- разрешить автоматическую остановку рассылки если статистика постмастера показывает, что письма стали уходить в "спам" или "возможно спам"</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">autoStopPostmasterData </span>- какие данные postmaster.mail.ru будут анализироваться для остановки рассылки. Возможные значения:</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">spam - </span>число или процент писем, попавших в Спам</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">probablySpam - </span>число или процент писем, попавших в Возможно спам</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">spamOrProbablySpam - </span>число или процент писем, попавших в Спам ИЛИ в Возможно спам.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">autoStopValueType</span> - определяет тип информации о письмах, поправших в спам или возможно спам, которые будут анализироваться для остановки рассылки. Возможные значения:</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">spamMsgNumber - </span>анализируется число писем, попавших в спам или возможно спам</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">spamPercent </span>-<span style="font-weight: bold;"> </span>анализируется процент писем, попавших в спам или возможно спам.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">autoStopValue</span> - в зависимости от содержимого параметра autoStopValueType - число или процент писем, попавших в спам или возможно спам, при достижении которого рассылка будет автоматически остановлена.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">autoStopMode </span>- режим остановки рассылки, возможные значения:</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">fullStop </span>- полная остановка рассылки</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">suspend </span>- приостановить рассылку на заданное время.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">autoSuspendMinutes </span>- число минут, на которые нужно приостановить рассылку если параметр autoStopMode содержит значение "suspend".</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">disableSendingLog </span>- отключить запись логов рассылки для экономии места на диске.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">enableCustomExcludeList </span>- включить персональный список исключений для этой рассылки. В качестве персонального списка можно выбрать любой список рассылки На адреса, которые есть в этом списке почта отправляться не будет. Персональный список исключений работает совместно с "глобальным" списком исключений, который задается в окне управления списками рассылки.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">customExcludeListID </span>- id списка рассылки, который будет использоваться как персональный список исключений. Получить список доступных списков рассылки можно командой getMailingLists</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">enableExcludeLisfFile - </span>включить дололнительный список исключений в виде текстового файла файла на диске. Этот дополнительный список исключений работает совместно с персональным списком исключений, заданным в параметре customExcludeListID и глобальным списком исключений, заданным в окне управления списками рассылки. Таким образом, у рассылки может быть 3 разных списка исключений - глобальный и два персональных дополнительных.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">excludeListFileName </span>- путь к файлу на диске с дополнительным списком исключений.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">excludeListFileType </span>- содержимое файла со списком исключений, возможные значения:</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">emails</span> - файл содержит email адреса</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">md5Hashes</span> - файл содержит MD5 хэши email адресов</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">sha1Hashes</span> - файл содержит sha1 хэши email адресов</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">sha256Hashes</span> - файл содержит sha256 хэши email адресов.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">CustomFields </span>- массив строк (до 10 строк) в которых можно задать любые пользовательские данные, привязанные к этой рассылке. В последствии, эти данные могут быть подставлены в любое место письма или его заголовка с помощью макросов [%%MailingCustomField1%%] ... [%%MailingCustomField10%%]</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"id":73,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"name":"Example Mailing",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"type":"mailing",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"state":"idle",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"createDate":"2003-11-13",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"lastStartDate":"2023-10-18T08:13:15.568",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"approxSpeed":"0\/min",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"lastStopByPostmaster":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"progressInfo":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "percentDone":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "total":1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "sent":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "notSent":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "bad":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "refused":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "excluded":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "opened":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "clicks":0</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"settings":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "senderAccount":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"id":17,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"name":"Example sender account"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "mailList":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"id":270,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"name":"Example list"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "message":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"id":1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"subject":"Example message",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"name":"my test message"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "deliveryPreset":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"id":18,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"name":"Example preset"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "controlEmailsSending":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"enabled":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"controlEmails":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"sendingIntervalMode":"byMessagesNumber",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"sendingIntervalValue":1000</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "postmasterIntegration":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"enabled":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"postmasterAccountID":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"postmasterDomains":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"enableMailingAutoStop":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"autoStopPostmasterData":"spam",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"autoStopValueType":"spamMsgNumber",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"autoStopValue":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"autoStopMode":"fullStop",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"autoSuspendMinutes":120</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "disableSendingLog":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "enableCustomExcludeList":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "customExcludeListID":-1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "enableExcludeListFile":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "excludeListFileName":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "excludeListFileType":"emails",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "customFields":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;""</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; ]</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apistartmailing"></a><span class="f_Heading1">startMailing</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:1586px; padding:0px;"><p>Команда запускает рассылку.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id - </span>id рассылки, которую нужно запустить, обязательный параметр.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">startMode </span>- режим запуска рассылки, обязательный параметр. Возможные значения: </p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">continue</span> - продолжить рассылку с места остановки (если рассылка ранее не запускалась - то запустить с начала)</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">resendNotSent</span> - заново переотправить на не отправленные адреса,</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">resendBad</span> - заново переотправить на плохие адреса, </p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">resendRefused</span> - заново переотправить на "не принятые" адреса,</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">resendNotOpened</span> - заново отправить на адреса получателей, которые не открыли письмо</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">restart</span> - обнулить прогресс и перезапустить рассылку с начала.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">stopMode - </span>опциональный параметр, задающий режим автоматической остановки рассылки. Возможные значения:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">LimitWorkMinutes</span> - остановить рассылку через заданное число минут после старта</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">LimitProcessedMessages</span> - остановить рассылку после обработки заданного числа писем (под обработкой понимается попытка отправить письма на адреса получателей без учета результата отправки). Если данный параметр отсутствует - рассылка будет работать до завершения или пока ее не остановит пользователь.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">stopValue </span>- число минут или число писем, в зависимости от значения параметра stopMode.</p>
</td>
<td style="vertical-align:top; width:358px; padding:0px;"><p style="text-align: right;"><img src="./apistartmailing.png" width="360" height="164" alt="apistartmailing" style="border:none"></p>
</td>
</tr>
</tbody></table>
</div>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"startMailing",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"id":164,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"startMode":"continue",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"stopMode":"LimitProcessedMessages",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"stopValue":10000</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит строку "ОК" или ошибку запуска.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":"OK",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apistopmailing"></a><span class="f_Heading1">stopMailing</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда останавливает рассылку.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id - </span>id рассылки, которую нужно остановить, обязательный параметр.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"stopMailing",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"id":164</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит строку "ОК" или ошибку.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":"OK",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apirestartrunningmailings"></a><span class="f_Heading1">restartRunningMailings</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px; border:solid 1px #000000;"><p>Команда перезапускает заданные работающие рассылки чтобы они "увидели" изменения различных настроек - в первую очередь изменения в Профиле отправки (если в Профиле были добавлены или удалены/выключены Smtp релеи) или изменилось письмо, учетная запись отправителя и т.д. Пока рассылки работают - они не видят никаких изменений настроек до тех пор пока не будут остановлены и запущены снова, данная команда позволяет упростить этот процесс.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">mailingsIDs </span>- массив с ID рассылок, которые нужно перезапустить обязательный параметр. Получить список имеющихся рассылок и их ID можно получить с помощью команды getMailings</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">startMode </span>- режим запуска рассылки, опциональный параметр. Возможные значения: </p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">continue</span> - продолжить рассылку с места остановки (если рассылка ранее не запускалась - то запустить с начала)</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">resendNotSent</span> - заново переотправить на не отправленные адреса,</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">resendBad</span> - заново переотправить на плохие адреса, </p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">resendRefused</span> - заново переотправить на "не принятые" адреса,</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">resendNotOpened</span> - заново отправить на адреса получателей, которые не открыли письмо</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">restart</span> - обнулить прогресс и перезапустить рассылку с начала.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p>Если параметр startMode не задан - по умолчанию используется режим continue.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"restartRunningMailings",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"mailingsIDs":[133,134,135],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"startMode":"continue"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px; border:solid 1px #000000;"><p>Результат содержит массивы с ID рассылок, которые удалось и не удалось перезапустить:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">mailingsRestarted </span>- массив с ID рассылок, которые удалось перезапустить.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">mailingsNotFound </span>- массив с ID рассылок, которые не были найдены среди имеющихся рассылок.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">mailingsNotRunning </span>- массив с ID рассылок, которые не были запущены на момент вызова данной команды. Команда restartRunningMailings перезапускает только работающие рассылки (у которых State=working).</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"mailingsRestarted":[133],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"mailingsNotFound":[],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"mailingsNotRunning":[134,135]</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apiaddsenderaccount"></a><span class="f_Heading1">addSenderAccount</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="border:none; border-spacing:0px;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:1477px; padding:0px;"><p>Команда создает учетную запись отправителя.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">accountName</span> - имя учетной записи.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">senderName</span> - имя отправителя.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">senderEmail</span> - email отправителя, обязательный параметр.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">replyToEmail</span> - reply-to email</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">organization</span> - значение поля Организация</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">espDomain</span> - значение поля ESP домен (для этого домена может быть добавлена вторая DKIM подпись в заголовок письма).</p>
<p>&nbsp;</p>
<p>Во всех полях возможно использование <a href="https://www.bspdev.ru/Help/Ru/AMS/allmarcoreference.htm" class="topiclink">любых [%%..%%] макросов</a> для генерации случайных строк, случайных email адресов и т.д.</p>
</td>
<td style="vertical-align:top; width:467px; padding:0px;"><p style="text-align: right;"><img src="./api_senderaccount.png" width="465" height="266" alt="api_senderaccount" style="border:none"></p>
</td>
</tr>
</tbody></table>
</div>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"addSenderAccount",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"accountName":"Example account",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"senderName":"John Smith",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"senderEmail":"maillist@mailserver.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"replyToEmail":"sales@mailserver.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"organization":"My Company",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"espDomain":"espdomain.com"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит ID созданной учетной записи или ошибку:</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"newResourceID":18</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apieditsenderaccount"></a><span class="f_Heading1">editSenderAccount</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда редактирует учетную запись отправителя.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id </span>- id учетной записи, которую нужно изменить, обязательный параметр.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">accountName</span> - имя учетной записи.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">senderName</span> - имя отправителя.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">senderEmail</span> - email отправителя, обязательный параметр.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">replyToEmail</span> - reply-to email</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">organization</span> - значение поля Организация</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">espDomain</span> - значение поля ESP домен (для этого домена может быть добавлена вторая DKIM подпись в заголовок письма).</p>
<p>&nbsp;</p>
<p>Вы можете передать только те поля, которые желаете изменить. Если какой-то параметр отсутствует - его значение останется без изменений.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"editSenderAccount",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"id":18,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"accountName":"New account name",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"senderName":"Bill Gates",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"senderEmail":"bill@mailserver.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"replyToEmail":"sales@microsoft.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"organization":"Microsoft",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"espDomain":""</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит строку "ОК" или ошибку.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":"OK",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apideletesenderaccount"></a><span class="f_Heading1">deleteSenderAccount</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда удаляет учетную запись отправителя</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id </span>- id учетной записи, которую нужно удалить, обязательный параметр. Получить список имеющихся учетных записей можно с помощью команды getSenderAccounts.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"deleteSenderAccount",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"id":18</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит строку "ОК" или ошибку.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":"OK",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apigetsenderaccounts"></a><span class="f_Heading1">getSenderAccounts</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:1513px; padding:0px;"><p>Команда выдает список имеющихся Учетных записей отправителя.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API.</p>
</td>
<td style="vertical-align:top; width:431px; padding:0px;"><p style="text-align: right;"><img src="./apiaccslist_zoom61.png" width="427" height="211" alt="apiaccslist" style="border:none"></p>
</td>
</tr>
</tbody></table>
</div>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"getSenderAccounts",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит массив с имеющимися Учетными записями отправителя:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id </span>- id учетной записи, которую нужно изменить, обязательный параметр.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">accountName</span> - имя учетной записи.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">senderName</span> - имя отправителя.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">senderEmail</span> - email отправителя, обязательный параметр.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">replyToEmail</span> - reply-to email</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">organization</span> - значение поля Организация</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">espDomain</span> - значение поля ESP домен (для этого домена может быть добавлена вторая DKIM подпись в заголовок письма).</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "id":1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "accountName":"Example account 1",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "senderName":"Bill Gates",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "senderEmail":"bill@microsoft.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "replyToEmail":"reply@microsoft.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "organization":"Microsoft",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "espDomain":"domain.com"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "id":2,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "accountName":"Example account 2",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "senderName":"Jeff Bezos",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "senderEmail":"jeff@amazon.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "replyToEmail":"reply@amazon.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "organization":"Amazon",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "espDomain":"somedomain.com"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; ],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apigetsenderaccount"></a><span class="f_Heading1">getSenderAccount</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда возвращает Учетную запись отправителя.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id</span> - id учетной записи, которую нужно получить. Список всех имеющихся учетных записей можно получить с помощью команды getSenderAccounts</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"getSenderAccount",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"id":17</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит объект Учетной записи отправителя или ошибку:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id </span>- id учетной записи, которую нужно изменить, обязательный параметр.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">accountName</span> - имя учетной записи.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">senderName</span> - имя отправителя.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">senderEmail</span> - email отправителя, обязательный параметр.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">replyToEmail</span> - reply-to email</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">organization</span> - значение поля Организация</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">espDomain</span> - значение поля ESP домен (для этого домена может быть добавлена вторая DKIM подпись в заголовок письма).</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"id":17,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"accountName":"Example sender account",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"senderName":"Jhon Smith",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"senderEmail":"maillist@mailserver.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"replyToEmail":"sales@mailserver.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"organization":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"espDomain":""</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apiaddmailinglist"></a><span class="f_Heading1">addMailingList</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:1475px; padding:0px;"><p>Команда создает список рассылки (список контактов)</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">listName</span> - имя создаваемого списка рассылки, обязательный параметр.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">parentID</span> - id списка-родителя в дереве списков рассылки. Получить ID списков рассылки можно командой getMailingLists Если параметр не задан - новы список будет создан внутри корневого элемента "Все списки". </p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">listType </span>- тип списка рассылки. Возможные значения:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">Local</span> <span style="font-weight: bold;">- </span>будет создан обычный локальный список рассылки.</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">Remote</span> - будет создано подключение к внешней базе данных через ADO/ODBC.</p>
<p style="margin: 0px 0px 0px 24px;">если параметр не задан - значение по умолчанию - local.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p><span style="font-weight: bold;">remoteDBOptions </span>- если listType=Remote, то в этом объекте передаются настройки подключения к внешней базе данных:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">adoConnectionString </span>- строка подключения к базе данных. Чтобы получить строку подключения - вы можете вначале создать подключение вручную в интерфейсе AMS, после чего использовать полученную строку подключения для создания новых подключений через API.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">remoteAccessMode </span>- режим подключения к внешней базе данных. Возможные значения:</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">DirectConnection </span>- прямое подключение к базе данных. Сервер базы данных должен быть доступен, в противном случае получить данные будет не возможно. Так же таблица во внешней БД должна обязательно содержать поле ID с уникальным идентификатором записи. Лучше всего подойдет автоинкрементное поле типа Integer. Если поля ID в таблице нет - используйте режим LocalCopy !</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">LocalCopy </span>- создание копии данных из вашей БД в локальной таблице AMS. Копия данных создается при каждом перезапуске рассылки с начала, далее используется локальная копия данных без обращение к вашему серверу БД.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">remoteTableName - </span>имя таблицы во внешней базе данных к которой выполняется подключение. Равносильно SQL запросу SELECT * FROM remoteTableName</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">remoteSqlQuery </span>- SQL запрос, который возвратит из внешней базы данных нужные вам данные.<br>
&nbsp;<br>
Обратите внимание: параметры <span style="font-weight: bold;">remoteTableName </span>и <span style="font-weight: bold;">remoteSqlQuery </span>- взаимно исключающие ! Т.е. вы можете использовать либо имя таблицы, либо sql запрос !</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">remoteEmailMapping </span>- имя поля в таблице внешней БД, содержащее email адреса получателей. Обязательно должно быть задано.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">remoteFullNameMapping </span>- имя поля в таблице внешней БД, содержащее имена получателей (которые будут использованы воле Кому: (To:) отправляемых писем).</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">remoteIDMapping </span>- имя поля в таблице внешней БД, содержащее уникальные идентификаторы записей. Лучше всего - автоинкрементное поле типа Integer. Значение обязательно должно быть задано если remoteAccessMode=DirectConnection !</p>
</td>
<td style="vertical-align:top; width:717px; padding:0px;"><p style="text-align: right;">&nbsp;</p>
<p style="text-align: right;"><img src="./api_addmaillist.png" width="359" height="263" alt="api_addmaillist" style="border:none"><img src="./api_remotedb_zoom64.png" width="350" height="467" alt="api_remotedb" style="border:none"></p>
<p style="text-align: right;">&nbsp;</p>
</td>
</tr>
</tbody></table>
</div>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример создания локального списка рассылки:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"addMailingList",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"listName":"New MailList from API",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"parentID":468,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"listType":"local"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
<p>&nbsp;</p>
<p>Пример создания подключения к внешней базе данных через ADO/ODBC:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"addMailingList",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"listName":"New DB Connection from API",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"parentID":468,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"listType":"Remote",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"remoteDBOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "adoConnectionString":"Provider=MSDASQL.1;Persist Security Info=False;Data Source=SqliteTest",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "remoteAccessMode":"DirectConnection",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "remoteTableName":"List90",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "remoteEmailMapping":"Email",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "remoteFullNameMapping":"FullName",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "remoteIDMapping":"ID"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит ID созданного списка рассылки или ошибку:</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"newResourceID":21</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apieditmailinglist"></a><span class="f_Heading1">editMailingList</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда редактирует настройки списка рассылки или подключения к внешней базе данных.</p>
<p>&nbsp;</p>
<p>Описание параметров: команда может принимать все те же параметры, что и команда addMailingList, но так же требует обязательный параметр c ID редактируемого списка.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id </span>- id списка рассылки, который требуется отредактировать, обязательный параметр. Получить список списков рассылки и их ID можно с помощью команды getMailingLists.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">parentID </span>- id списка-родителя в дереве списков рассылки. Может использоваться чтобы изменить список-родитель для данного списка. Получить список списков рассылки и их ID можно с помощью команды getMailingLists.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">listType </span>- тип списка рассылки. Возможные значения:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">Local</span> <span style="font-weight: bold;">- </span>будет создан обычный локальный список рассылки.</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">Remote</span> - будет создано подключение к внешней базе данных через ADO/ODBC.</p>
<p style="margin: 0px 0px 0px 24px;">если параметр не задан - значение по умолчанию - local.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p><span style="font-weight: bold;">remoteDBOptions </span>- если listType=Remote, то в этом объекте передаются настройки подключения к внешней базе данных:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">adoConnectionString </span>- строка подключения к базе данных. Чтобы получить строку подключения - вы можете вначале создать подключение вручную в интерфейсе AMS, после чего использовать полученную строку подключения для создания новых подключений через API.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">remoteAccessMode </span>- режим подключения к внешней базе данных. Возможные значения:</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">DirectConnection </span>- прямое подключение к базе данных. Сервер базы данных должен быть доступен, в противном случае получить данные будет не возможно. Так же таблица во внешней БД должна обязательно содержать поле ID с уникальным идентификатором записи. Лучше всего подойдет автоинкрементное поле типа Integer. Если поля ID в таблице нет - используйте режим LocalCopy !</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">LocalCopy </span>- создание копии данных из вашей БД в локальной таблице AMS. Копия данных создается при каждом перезапуске рассылки с начала, далее используется локальная копия данных без обращение к вашему серверу БД.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">remoteTableName - </span>имя таблицы во внешней базе данных к которой выполняется подключение. Равносильно SQL запросу SELECT * FROM remoteTableName</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">remoteSqlQuery </span>- SQL запрос, который возвратит из внешней базы данных нужные вам данные.<br>
&nbsp;<br>
Обратите внимание: параметры <span style="font-weight: bold;">remoteTableName </span>и <span style="font-weight: bold;">remoteSqlQuery </span>- взаимно исключающие ! Т.е. вы можете использовать либо имя таблицы, либо sql запрос !</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">remoteEmailMapping </span>- имя поля в таблице внешней БД, содержащее email адреса получателей. Обязательно должно быть задано.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">remoteFullNameMapping </span>- имя поля в таблице внешней БД, содержащее имена получателей (которые будут использованы воле Кому: (To:) отправляемых писем).</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">remoteIDMapping </span>- имя поля в таблице внешней БД, содержащее уникальные идентификаторы записей. Лучше всего - автоинкрементное поле типа Integer. Значение обязательно должно быть задано если remoteAccessMode=DirectConnection !</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова для изменения имени списка рассылки:</p>
<p>&nbsp;</p>
<p>{</p>
<p> &nbsp; "jsonrpc":"2.0",</p>
<p> &nbsp; "method":"editMailingList",</p>
<p> &nbsp; "params":{</p>
<p> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</p>
<p> &nbsp; &nbsp; &nbsp;"id":261,</p>
<p> &nbsp; &nbsp; &nbsp;"listName":"New List Name"</p>
<p> &nbsp; &nbsp; &nbsp;}</p>
<p> &nbsp; },</p>
<p> &nbsp; "id":"1"</p>
<p>}</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит строку "ОК" или ошибку.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":"OK",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apideletemailinglist"></a><span class="f_Heading1">deleteMailingList</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда удаляет список рассылки.</p>
<p>&nbsp;</p>
<p>В текущей версии AMS еще не реализована !</p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apigetmailinglists"></a><span class="f_Heading1">getMailingLists</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px;"><p>Команда возвращает список имеющихся списков рассылки.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API.</p>
</td>
<td style="vertical-align:top; padding:0px;"><p style="text-align: right;"><img src="./api_getmailinglists.png" width="303" height="321" alt="api_getmailinglists" style="border:none"></p>
</td>
</tr>
</tbody></table>
</div>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; height:14px; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"getMailingLists",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит массив с имеющимися списками рассылки:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id </span>- id списка рассылки.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">parentID </span>- id списка-родителя в дереве списков рассылки. Корневой список "Все списки" (в английской версии - Mailing Lists) имеет parentID=-1, у всех остальных списков он больше 0.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">listName </span>- имя списка рассылки.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">size </span>- размер списка рассылки (число адресов получателей).</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">lastMailing </span>- дата последнего запуска рассылки по этому списку.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "id":102,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "parentID":-1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "listName":"Mailing Lists",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "listType":"Local",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "size":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "lastMailing":""</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "id":270,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "parentID":102,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "listName":"Example list",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "listType":"Local",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "size":2,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "lastMailing":""</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "id":271,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "parentID":270,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "listName":"Sub list",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "listType":"Local",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "size":6900,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "lastMailing":""</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; ],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">} </span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apigetmailinglistsize"></a><span class="f_Heading1">getMailingListSize</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда число записей в списке рассылки.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id </span>- id списка рассылки, размер которого нужно получить. Получить список списков рассылки и их ID можно с помощью команды getMailingLists.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"getMailingListSize",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"id":270</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит число записей в списке рассылки или ошибку.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":4800,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apigetmailinglistdataset"></a><span class="f_Heading1">getMailingListDataSet</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда возвращает содержимое списка рассылки.</p>
<p>&nbsp;</p>
<p>Поскольку список рассылки может содержать миллионы адресов - команда отдает данные постранично.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id </span>- id списка рассылки, содержимое которого нужно получить, обязательный параметр.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">getPageNo </span>- номер страницы, которую вы хотите получить, обязательный параметр.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">recordsPerPage </span>- число записей на странице, обязательный параметр. Максимальное число записей на странице - 65535.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">sortByField </span>- опциональный параметр с именем поля списка рассылки, по которому нужно сделать сортировку.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">sortDescending</span> - если true - сортировка по полю sortByField будет выполнена в обратном порядке.</p>
<p>&nbsp;</p>
<p>Число страниц с записями можно посчитать разделив общее число записей в списке рассылки на желаемый размер записей на странице, передаваемый в параметре recordsPerPage. Общее число записей можно получить с помощью команды getMailingListSize, а так же вызвав команду getMailingListDataSet - ее результат так же содержит текущий размер списка рассылки.</p>
<p>&nbsp;</p>
<p>Обратите внимание, что размер списка рассылка может измениться в любой момент если пользователь добавил или удалил записи в интерфейсе AMS или если сработали какие-либо правила, модифицирующие списки рассылки (клик на ссылку для отписки, правила обработки почты в Процессоре входящей почты и т.д.). Поэтому вам нужно пересчитывать размер доступных страниц после каждого вызова getMailingListDataSet (или командой getMailingListSize перед каждым вызовом).</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"getMailingListDataSet",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"id":270,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"getPageNo":1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"recordsPerPage":100,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"sortByField":"FullName",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"sortDescending":false</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит информацию о полях списка рассылки и содержимое запрошенных записей или ошибку:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">totalRowsCount </span>- текущий размер списка рассылки на момент выполнения команды. Используйте это число для подсчета числа страниц с данными (totalRowsCount / recordsPerPage). Обратите внимание, что размер списка рассылка может измениться в любой момент ! Поэтому, если вы отображаете число доступных страниц в каком-то своем интерфейсе, вам нужно пересчитывать число страниц после каждого вызова команды.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">dataSetFields </span>- массив с информацией о полях списка рассылки:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">name</span> - имя поля списка рассылки.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">type </span>- тип поля в базе данных: autoinc, string, integer, float, memo, blob и т.д.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;">Обратите внимание, что набор и тип полей может измениться в любой момент если пользователь изменил структуру списка рассылки в интерфейсе AMS или изменил SQL запрос для подключения к внешней базе данных ! Если вы хотите отображать данные в каком-то своем интерфейсе - вам нужно быть готовым изменить набор полей таблицы в вашем интерфейсе после каждого вызова команды getMailingListDataSet</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p><span style="font-weight: bold;">dataSetRows </span>- массив с содержимым записей списка рассылки. Данные идут в том же порядке, что и перечень полей в массиве dataSetFields. Тип данных может быть различным в зависимости от типа поля - строка, число и т.д. Если возвращаются данные blob поля - они будут закодированы в base64.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"totalRowsCount":2,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"dataSet":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "dataSetFields":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "name":"ID",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "type":"ft_AutoInc"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "name":"Email",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "type":"ft_String"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "name":"FullName",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "type":"ft_String"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "name":"City",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "type":"ft_String"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; ],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "dataSetRows":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "billgates@microsoft.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "Bill Gates",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "Redmont"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "user@mailserver.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "Jhon Smith",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "New York"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;]</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; ]</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apiclearmailinglist"></a><span class="f_Heading1">clearMailingList</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда удаляет все записи из списка рассылки.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id </span>- id списка рассылки, который нужно очистить, обязательный параметр. Получить список списков рассылки и их ID можно с помощью команды getMailingLists.</p>
<p>&nbsp;</p>
<p>Очистить можно только локальный список рассылки. Подключения к внешним базам данных всегда открываются в режиме только для чтения. Нельзя удалить список, если он используется в запущенных рассылках или если с ним работает пользователь в интерфейсе AMS (загружает или просматривает записи и т.д.).</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"clearMailingList",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"id":270</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит строку "ОК" или ошибку.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":"OK",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apiaddcontacts"></a><span class="f_Heading1">addContacts</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда добавляет получателей в список рассылки</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">listID </span>- id списка рассылки, в который нужно добавить записи, обязательный параметр. Список доступных списков рассылки можно получить с помощью команды getMailingLists. Можно добавлять записи только в локальные списки рассылки, подключения к внешним базам данных всегда открываются в режиме Только для чтения. Нельзя изменять (добавлять, изменять, удалять) записи в списках рассылки, которые в данный момент используются в запущенных рассылках.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">allowDuplicates </span>- если true то разрешает добавление дубликатов (email) в список рассылки. По умолчанию false.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">contacts</span> - массив с получателями, которых нужно добавить в список рассылки. При формировании массива Contacts придерживайтесь следующих правил:</p>
<p>&nbsp;</p>
<p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 0px;"><span style="font-size:10pt; font-family: &#39;Arial Unicode MS&#39;,&#39;Lucida Sans Unicode&#39;,&#39;Arial&#39;;color:#000000;display:inline-block;width:13px;margin-left:-13px">•</span>Массив должен содержать минимум 1 и максимум 10000 получателей.</p><p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 0px;"><span style="font-size:10pt; font-family: &#39;Arial Unicode MS&#39;,&#39;Lucida Sans Unicode&#39;,&#39;Arial&#39;;color:#000000;display:inline-block;width:13px;margin-left:-13px">•</span>Все элементы массива contacts должны содержать одинаковый набор полей в одинаковой последовательности ! Т.е. не может быть, что у одного контакта есть поле City, а у другого нет (может быть пустое значение поля, но само поле должно быть).</p><p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 0px;"><span style="font-size:10pt; font-family: &#39;Arial Unicode MS&#39;,&#39;Lucida Sans Unicode&#39;,&#39;Arial&#39;;color:#000000;display:inline-block;width:13px;margin-left:-13px">•</span>Массив должен содержать как минимум одно поле Email.</p><p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 0px;"><span style="font-size:10pt; font-family: &#39;Arial Unicode MS&#39;,&#39;Lucida Sans Unicode&#39;,&#39;Arial&#39;;color:#000000;display:inline-block;width:13px;margin-left:-13px">•</span>Если массив содержит поле ID - его значение игнорируется т.к. ID контакта генерируется автоматически в автоинкрементном поле базы данных, вы не можете задавать или изменять его значение.</p><p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 0px;"><span style="font-size:10pt; font-family: &#39;Arial Unicode MS&#39;,&#39;Lucida Sans Unicode&#39;,&#39;Arial&#39;;color:#000000;display:inline-block;width:13px;margin-left:-13px">•</span>Набор полей, который имеется в целевом списке рассылки можно получить с помощью команды getMailingListDataSet. </p><p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 0px;"><span style="font-size:10pt; font-family: &#39;Arial Unicode MS&#39;,&#39;Lucida Sans Unicode&#39;,&#39;Arial&#39;;color:#000000;display:inline-block;width:13px;margin-left:-13px">•</span>У разных списков рассылки может быть разный набор полей. И он может быть изменен пользователем в интерфейсе AMS.</p><p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 0px;"><span style="font-size:10pt; font-family: &#39;Arial Unicode MS&#39;,&#39;Lucida Sans Unicode&#39;,&#39;Arial&#39;;color:#000000;display:inline-block;width:13px;margin-left:-13px">•</span>Значения всех полей контакта должны передаваться в виде строк (например, передавать не число 10, а строку “10”), при добавлении записи в базу данных значение будет автоматически приведено к типу, который ожидает целевое поле списка рассылки (например строка "10" автоматически преобразуется в число если целевое поле типа Integer). В случае не удачной конверсии полю будет присвоено пустое значение.</p></td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"addContacts",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"listID":270,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"allowDuplicates":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"contacts":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; {</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"Email":"test@mail.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"FullName":"User 1",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"City":"Moscow"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; {</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"Email":"test2@mail.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"FullName":"User 2",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"City":""</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;]</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова команды содержит следующие данные:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">recordsAdded </span>- число успешно добавленных записей.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">badEmailSyntax </span>- число записей, которые не были добавлены из-за не верного синтаксиса email адреса (отсутствие @, не допустимые символы и т.д.). </p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">badSyntax </span>- если badEmailSyntax &gt; 0 - ответ содержит массив badSyntax с копией записей из входного массива contacts, которые не прошли контроль синтаксиса email.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">excluded </span>- число записей, которые не были добавлены из-за того, что попали под "Правила Исключений", запрещающие загрузку таких записей. Сам список Правил исключений задается в окне управления списками рассылки в интерфейсе AMS.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">excludedByRules </span>- если excluded &gt; 0 - ответ содержит массив excludedByRules с копией записей из входного массива contacts, которые попали под Правила исключений.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">duplicatesFound</span> - число записей, которые не были добавлены из-за того, что такой email уже есть в целевом списке рассылки (контроль дубликатов выполняется если allowDuplicates=false).</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">duplicates </span>- если duplicatesFound &gt; 0 - ответ содержит массив duplicates с копией записей из входного массива contacts, которые не прошли контроль дубликатов.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"duplicates":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; {</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"Email":"test@mail.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"FullName":"User 1",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"City":"Spb"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"recordsAdded":1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"badEmailSyntax":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"excluded":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"duplicatesFound":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apieditcontact"></a><span class="f_Heading1">editContact</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда редактирует контакт в списке рассылки.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">listID </span>- id списка рассылки, в котором нужно отредактировать запись, обязательный параметр. Список доступных списков рассылки можно получить с помощью команды getMailingLists. Можно изменять записи только в локальных списках рассылки, подключения к внешним базам данных всегда открываются в режиме Только для чтения. Нельзя изменять (добавлять, изменять, удалять) записи в списках рассылки, которые в данный момент используются в запущенных рассылках.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">contactID </span>- id контакта, который нужно отредактировать. Список контактов можно получить с помощью команды getMailingListDataSet.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">allowDuplicates </span>- если true то разрешает изменение контакта если новое значение поля Email уже есть в целевом списке рассылки. По умолчанию значение false и при нахождении дубликата будет ошибка.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">contactData - </span>объект с данными контакта для редактирования. Вы можете передать только те поля, значения которых хотите отредактировать. У остальных полей значение не изменится.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"editContact",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"listID":270,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"contactID":1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"allowDuplicates":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"contactData":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "Email":"new-email@mail.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "FullName":"New name"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит строку "ОК" или ошибку.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":"OK",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apideletecontacts"></a><span class="f_Heading1">deleteContacts</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда удаляет контакты из списка рассылки.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">listID </span>- id списка рассылки, из которого нужно удалить записи, обязательный параметр. Список доступных списков рассылки можно получить с помощью команды getMailingLists. Можно удалять записи только в локальных списках рассылки, подключения к внешним базам данных всегда открываются в режиме Только для чтения. Нельзя изменять (добавлять, изменять, удалять) записи в списках рассылки, которые в данный момент используются в запущенных рассылках.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">deleteID </span>- массив с id контактов, которые нужно удалить. Должен содержать не менее 1 и не более 5000 id. Список контактов можно получить с помощью команды getMailingListDataSet.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"deleteContacts",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"listID":270,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"deleteID":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; 1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; 2</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;]</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит число удаленных контактов или ошибку.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>{</p>
<p> &nbsp; "jsonrpc":"2.0",</p>
<p> &nbsp; "result":{</p>
<p> &nbsp; &nbsp; &nbsp;"contactsDeleted":2</p>
<p> &nbsp; },</p>
<p> &nbsp; "id":1</p>
<p>}</p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apiaddmessage"></a><span class="f_Heading1">addMessage</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:1253px; padding:0px;"><p>Команда создает новое письмо.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">messageName </span>- имя письма (не участвует в рассылке, используется только для удобства выбора нужного письма из множества писем с одинаковой темой).</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">subject </span>- тема (subject) письма. Должна быть в виде строки в кодировке UTF-8, дополнительно закодированной в base64.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">messageType </span>- тип письма. Возможные значения:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">Html</span> - тип письма html, так же для письма может быть задана и текстовая часть (multipart/alternative), см. параметр textPartMode</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">Text </span>- тип письма текст (plain text без html части).</p>
<p style="margin: 0px 0px 0px 24px;">Значение по умолчанию - Html.<br>
&nbsp;</p>
<p><span style="font-weight: bold;">textPartMode</span> - определяет способ формирования текстовой части для html писем. Возможные значения:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">ExtractFromHtml </span>- автоматически сформировать текстовую часть путем извлечения текста из html части</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">CustomTextPart </span>- задать свою текстовую часть, текст которой будет отличаться от html части.</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">NoTextPart </span>- отключить текстовую часть, в этом случае типа письма будет text/html вместо multipart/alternative.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">htmlPart </span>- содержимое Html части письма. Это должен быть Html код в кодировке UTF-8 (желательно чтобы html код содержал META тэг с указанием кодировки). Html код должен передаваться в виде строки закодированной в base64.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">textPart </span>- текстовая часть письма. Должна быть в кодировке UTF-8 и передаваться в виде строки, закодированной в base64. Значение параметра должно быть задано если messageType=Text или textPartMode=CustomTextPart.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">priority </span>- приоритет письма (значение для поля заголовка X-Priority). Возможные значения: <span style="font-weight: bold;">Low</span>, <span style="font-weight: bold;">Normal</span>, <span style="font-weight: bold;">High</span>. По умолчанию - Normal</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">requestReadReceipt</span> - если true - добавить в заголовок письма запрос уведомления о прочтении (поле Disposition-Notification-To:). В запросе будет использован обратный (From:) email. Значение по умолчанию false.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">asIsMode </span>- если true для письма будет включен режим "как есть" сохраняющий исходное форматирование. При открытии такого письма в редакторе не будет производится преобразование его кода во внутреннее представление редактора (которое может немного изменить его изначальный html код), при этом в редакторе не будет доступно визуальное редактирование письма (редактирование будет возможно только на вкладке Исходный код).</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">charset </span>- желаемая кодировка письма, рекомендуется использовать значение по умолчанию utf-8.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">contentTransferEncoding </span>- выбор транспортной кодировки для html и текстовых частей письма. Возможные значения:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">auto </span>- автоматический выбор наилучшего варианта в зависимости от типа письма, в большинстве случаев это quoted-printable. Значение по умолчанию. </p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">quoted-printable </span>- использовать кодировку quoted-printable</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">base64 </span>- использовать кодировку base64.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">headerInlineEncoding </span>- выбор inline кодировки для полей заголовка письма, содержащих non-ascii символы. Возможные значения:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">auto </span>- автоматический выбор наилучшего варианта в зависимости от типа письма, в большинстве случаев это base64. Значение по умолчанию. </p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">quoted-printable </span>- использовать кодировку quoted-printable</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">base64 </span>- использовать кодировку base64.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p><span style="font-weight: bold;">customHeaderLines </span>- массив пользовательских строк, которые будут добавлены в конец служебного заголовка письма.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">attachments </span>- массив, в котором передаются вложения.</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">fileName </span>- имя приложенного файла.</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">fileContent </span>- содержимое приложенного файла. Должно быть закодировано в base64.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">htmlAttachments</span> - если письмо содержит встроенные картинки - они передаются в этом массиве.</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">fileName </span>- имя файла картинки. Например, если html код содержит фрагмент c описаниеv картинки &lt;img src="NetworkIcon.png"&gt; то fileName должен быть NetworkIcon.png</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">fileContent </span>- содержимое файла картинки. Должно быть закодировано в base64</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p><span style="font-weight: bold;">trackingOptions </span>- объект содержит настройки по отслеживанию открытия письма и кликам по ссылкам в письме.</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">openTracking </span>- если true разрешает отслеживание открытий письма.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">clicksTracking </span>- если true разрешает отслеживание кликов по ссылкам в письме.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">trackingMethod </span>- способ отслеживания кликов. Возможные значения:</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">AmswebOnly </span>- используется только штатный механизм статистики AMS через скрипт amsweb.php. Значение по умолчанию.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">UtmOnly </span>- используется только Google analytics и/или Яндекс-метрика (ко всем ссылкам в письме добавляются utm метки).</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">AmswebAndUtm </span>- используется оба метода сразу - к ссылкам добавляются utm метки, при этом клик происходит через штатный скрипт AMS amsweb.php</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">amswebLinkID </span>- id ссылки на скрипт amsweb.php, которая будет использоваться для сбора статистики для этого письма. Получить список имеющихся ссылок можно с помощью команды getAmswebLinks.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">amswebLinkUsageMode </span>- режим выбора ссылки на скрипт amsweb.php. Возможные значения:</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">useAmswebLinkID</span> - использовать ссылку, заданную в параметре <span style="font-weight: bold;">trackingOptions.amswebLinkID</span></p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">selectAmswebLinkBySenderDomain </span>- пытаться выбрать ссылку на amsweb.php чей домен совпадает с доменом from адреса. Например, если обратный адрес это <a href="mailto:info@" class="weblink">info@</a><span style="font-weight: bold;"><a href="mailto:domain.com" class="weblink">domain.com</a></span> то будет выбрана ссылка на скрипт http://<span style="font-weight: bold;">domain.com</span>/amsweb.php. Если подходящую ссылку найти не удастся - будет использована ссылка, заданная в параметре <span style="font-weight: bold;">trackingOptions.amswebLinkID</span></p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">useRandomAmswebLink - </span>для каждого письма будет выбираться случайная ссылка на amsweb.php из имеющихся.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">trackingOptions.utmParams </span>- объект в котором задаются utm метки если <span style="font-weight: bold;">trackingOptions.trackingMethod </span>равен UtmOnly или AmswebAndUtm. Информацию о назначении utm меток смотрите в спарвке по google analytics и яндекс-метрике.</p>
</td>
<td style="vertical-align:top; width:691px; padding:0px;"><p style="text-align: right;"><img src="./api_addmessage_zoom68.png" width="689" height="319" alt="api_addmessage" style="border:none"></p>
</td>
</tr>
</tbody></table>
</div>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"addMessage",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"messageName":"New message from API",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"subject":"RXhhbXBsZSBtZXNzYWdl",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"messageType":"Html",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"textPartMode":"ExtractFromHtml",</span></p>
<p><span style="font-family: &#39;Courier New&#39;; word-break:break-all;"> &nbsp; &nbsp; &nbsp;"htmlPart":"PGh0bWw+PGhlYWQ+DQo8bWV0YSBjb250ZW50PSJ0ZXh0L2h0bWw7IGNoYXJzZXQ9LVtDSEFSU0VUXS0iIGh0dHAtZXF1aXY9Q29udGVudC1UeXBlPg0KPG1ldGEgbmFtZT1HRU5FUkFUT1IgY29udGVudD0iLVtPVVRMT09LX1ZFUl0tIj48L2hlYWQ+DQo8Ym9keSBib3R0b21NYXJnaW49NSBiZ0NvbG9yPSIjZmZmZmZmIiBsZWZ0TWFyZ2luPTUgdG9wTWFyZ2luPTUgcmlnaHRNYXJnaW49NT48Zm9udCBjb2xvcj0iIzAwMDAwMCIgc2l6ZT0yIGZhY2U9QXJpYWw+DQo8ZGl2PlRoaXMgaXMgYSBtZXNzYWdlIGJvZHkgd2l0aCBpbWFnZTwvZGl2Pg0KPGRpdj48aW1nIGJvcmRlcj0wIGhzcGFjZT0wIGFsdD0iIiBzcmM9Ik5ldHdvcmtJY29uLnBuZyIgd2lkdGg9MTYgaGVpZ2h0PTE2PjwvZGl2PjwvZm9udD48L2JvZHk+PC9odG1sPg0K",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"textPart":"77u\/VGhpcyBpcyBhIG1lc3NhZ2UgYm9keSB3aXRoIGltYWdl",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"priority":"Normal",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"requestReadReceipt":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"asIsMode":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"charset":"utf-8",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"contentTransferEncoding":"auto",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"headerInlineEncdoing":"auto",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"customHeaderLines":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "X-My-Custom-Header-Field: My value",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "List-Unsubscribe: &lt;[%%TUnsubscribeLink,9,AE%%]&gt;"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"attachments":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; {</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"fileName":"ExampleAttachment.txt",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"fileContent":"Q29udGVudCBvZiBhdHRhY2hlZCB0ZXh0IGZpbGU="</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"htmlAttachments":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; {</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"fileName":"NetworkIcon.png",</span></p>
<p><span style="font-family: &#39;Courier New&#39;; word-break:break-all;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"fileContent":"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8\/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAg1JREFUeNqkU01rE1EUPS+Thnx0nBnTIlMXLgRFAkHp2q1uKqiUFMWVLgxUFPwPWetCF91kpe3OjwpVdwF3GiEE1JWtBktbJzNvzHwk0Xx43ziOSa246IXDu2\/eu+edc+c9NhwOsZ+IFwqF0fk5gv6fmi3Cs4hgdKXdbuvlcnnJcRx0Oh00mx5ct4dMZhLaQQ1T2SyKxYVFSZKwJ4GIXq8Hy7Jg2zZMy4NDBJqmIp5gUJTMX3KkXC43VlytVmcYY8cMw8DnTx\/RNL7gm70Dm2\/j+dqTl5zzh7FYbPNfCmZLpdJcZMFyYDttpDKpQMXcxYWzN4vXVmnf64hgMBhE1SIfs2A74J4HWZURSwwgK8lgDyn8Y0HX9eA0Ad\/3Wa1WO0xN+mVhYx3W1214nMO1ONaerr5oNBor3W5383cNy+fzoz24ValU7kYWeAumayORjkPVFGTpT8yfOX+bFNyJLNTr9SBJJpPUZUUes9BqwfA5MmoSTFg4kIJpmrJYEweIYCMNPEIk83QzD\/X7\/WCN8pnApyRtUeeHofcdui+PaFzfTaASUtG3XAJ49\/1GmN+jfOzOEfhugvFYnl7Chx+zQX5i4i0uG9f3fAuEKcJRwknCKcJxgoxlFxfKlwKCx1dXxFAlCG8bYf6G8F4omAilT4ZIC9tYTF\/BNDsdHGMMX+G+\/2BEvhPCZ\/t9zj8FGAAyaftHYMhilQAAAABJRU5ErkJggg=="</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"trackingOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "openTracking":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "clicksTracking":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "trackingMethod":"AmswebOnly",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "amswebLinkID":9,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "amswebLinkUsageMode":"selectAmswebLinkBySenderDomain",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "utmParams":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"utmMedium":"email",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"utmSource":"AMS Enterprise",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"utmCampaign":"[%%MailingName%%]",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"utmContent":"[%%MessageName%%]"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит ID созданного письма рассылки или ошибку:</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"newResourceID":21</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apieditmessage"></a><span class="f_Heading1">editMessage</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда редактирует письмо.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey - </span>ключ доступа к API</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id </span>- id письма, которое нужно отредактировать. Обязательный параметр. Получить список имеющихся писем можно с помощью команды getMessages.</p>
<p>&nbsp;</p>
<p>Все остальные параметры могут быть такими же как и у команды addMessage, но не обязательно передавать их все если нужно изменить только какую-то конкретную настройку. Например, если вы хотите только изменить тему письма - достаточно будет subject и больше ничего. Те объекты, которые не передавались в параметрах команды - останутся без изменений.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"editMessage",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"id":1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"messageName":"New subject from API",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"subject":"RXhhbXBsZSBtZXNzYWdl",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"messageType":"Html",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"textPartMode":"ExtractFromHtml",</span></p>
<p><span style="font-family: &#39;Courier New&#39;; word-break:break-all;"> &nbsp; &nbsp; &nbsp;"htmlPart":"PGh0bWw+PGhlYWQ+DQo8bWV0YSBjb250ZW50PSJ0ZXh0L2h0bWw7IGNoYXJzZXQ9LVtDSEFSU0VUXS0iIGh0dHAtZXF1aXY9Q29udGVudC1UeXBlPg0KPG1ldGEgbmFtZT1HRU5FUkFUT1IgY29udGVudD0iLVtPVVRMT09LX1ZFUl0tIj48L2hlYWQ+DQo8Ym9keSBib3R0b21NYXJnaW49NSBiZ0NvbG9yPSIjZmZmZmZmIiBsZWZ0TWFyZ2luPTUgdG9wTWFyZ2luPTUgcmlnaHRNYXJnaW49NT48Zm9udCBjb2xvcj0iIzAwMDAwMCIgc2l6ZT0yIGZhY2U9QXJpYWw+DQo8ZGl2PlRoaXMgaXMgYSBtZXNzYWdlIGJvZHkgd2l0aCBpbWFnZTwvZGl2Pg0KPGRpdj48aW1nIGJvcmRlcj0wIGhzcGFjZT0wIGFsdD0iIiBzcmM9Ik5ldHdvcmtJY29uLnBuZyIgd2lkdGg9MTYgaGVpZ2h0PTE2PjwvZGl2PjwvZm9udD48L2JvZHk+PC9odG1sPg0K",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"textPart":"77u\/VGhpcyBpcyBhIG1lc3NhZ2UgYm9keSB3aXRoIGltYWdl",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"priority":"Normal",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"requestReadReceipt":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"asIsMode":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"charset":"utf-8",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"contentTransferEncoding":"auto",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"customHeaderLines":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "X-My-Custom-Header-Field: My value",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "List-Unsubscribe: &lt;[%%TUnsubscribeLink,9,AE%%]&gt;"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"attachments":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; {</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"fileName":"ExampleAttachment.txt",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"fileContent":"Q29udGVudCBvZiBhdHRhY2hlZCB0ZXh0IGZpbGU="</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"htmlAttachments":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; {</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"fileName":"NetworkIcon.png",</span></p>
<p><span style="font-family: &#39;Courier New&#39;; word-break:break-all;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"fileContent":"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8\/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAg1JREFUeNqkU01rE1EUPS+Thnx0nBnTIlMXLgRFAkHp2q1uKqiUFMWVLgxUFPwPWetCF91kpe3OjwpVdwF3GiEE1JWtBktbJzNvzHwk0Xx43ziOSa246IXDu2\/eu+edc+c9NhwOsZ+IFwqF0fk5gv6fmi3Cs4hgdKXdbuvlcnnJcRx0Oh00mx5ct4dMZhLaQQ1T2SyKxYVFSZKwJ4GIXq8Hy7Jg2zZMy4NDBJqmIp5gUJTMX3KkXC43VlytVmcYY8cMw8DnTx\/RNL7gm70Dm2\/j+dqTl5zzh7FYbPNfCmZLpdJcZMFyYDttpDKpQMXcxYWzN4vXVmnf64hgMBhE1SIfs2A74J4HWZURSwwgK8lgDyn8Y0HX9eA0Ad\/3Wa1WO0xN+mVhYx3W1214nMO1ONaerr5oNBor3W5383cNy+fzoz24ValU7kYWeAumayORjkPVFGTpT8yfOX+bFNyJLNTr9SBJJpPUZUUes9BqwfA5MmoSTFg4kIJpmrJYEweIYCMNPEIk83QzD\/X7\/WCN8pnApyRtUeeHofcdui+PaFzfTaASUtG3XAJ49\/1GmN+jfOzOEfhugvFYnl7Chx+zQX5i4i0uG9f3fAuEKcJRwknCKcJxgoxlFxfKlwKCx1dXxFAlCG8bYf6G8F4omAilT4ZIC9tYTF\/BNDsdHGMMX+G+\/2BEvhPCZ\/t9zj8FGAAyaftHYMhilQAAAABJRU5ErkJggg=="</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"trackingOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "openTracking":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "clicksTracking":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "trackingMethod":"AmswebOnly",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "amswebLinkID":9,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "amswebLinkUsageMode":"selectAmswebLinkBySenderDomain",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "utmParams":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"utmMedium":"email",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"utmSource":"AMS Enterprise",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"utmCampaign":"[%%MailingName%%]",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"utmContent":"[%%MessageName%%]"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит строку "ОК" или ошибку.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":"OK",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apideletemessage"></a><span class="f_Heading1">deleteMessage</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда удаляет письмо.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id </span>- id письма которое нужно удалить, обязательный параметр. Получить список имеющихся писем можно с помощью команду getMessages</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"deleteMessage",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"id":6</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит строку "ОК" или ошибку.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":"OK",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apigetmessages"></a><span class="f_Heading1">getMessages</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:1376px; padding:0px;"><p>Команда возвращает список имеющихся писем</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API.</p>
</td>
<td style="vertical-align:top; width:568px; padding:0px;"><p style="text-align: right;"><img src="./api_getmessages_zoom81.png" width="555" height="333" alt="api_getmessages" style="border:none"></p>
</td>
</tr>
</tbody></table>
</div>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"getMessages",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит массив имеющихся писем.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id - </span>id письма.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">subject </span>- тема письма.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">messageName </span>- имя письма.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">messageType </span>- тип письма. Html или Text.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">openTracking </span>- для письма разрешено отслеживание открытий.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">clicksTracking </span>- для письма разрешено отслеживание кликов.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "id":1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "subject":"Example message",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "messageName":"New message from API",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "messageType":"Html",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "openTracking":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "clicksTracking":true</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "id":7,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "subject":"Weekly newsletter",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "messageName":"my site news",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "messageType":"Html",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "openTracking":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "clicksTracking":false</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; ],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apigetmessage"></a><span class="f_Heading1">getMessage</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда возвращает подробную информацию о письме.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id - </span>id письма, данные о котором нужно получить. Список имеющихся писем можно получить с помощью команды getMessages.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"getMessage",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит объект с информацией о письме. Вы можете использовать полученный объект как образец для создания или редактирования писем (см. команды addMessage и editMessage).</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id - </span>id письма.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">messageName </span>- имя письма (не участвует в рассылке, используется только для удобства выбора нужного письма из множества писем с одинаковой темой).</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">subject </span>- тема (subject) письма.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">messageType </span>- тип письма. Возможные значения:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">Html</span> - тип письма html, так же для письма может быть задана и текстовая часть (multipart/alternative), см. параметр textPartMode</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">Text </span>- тип письма текст (plain text без html части).</p>
<p style="margin: 0px 0px 0px 24px;">Значение по умолчанию - Html.<br>
&nbsp;</p>
<p><span style="font-weight: bold;">textPartMode</span> - определяет способ формирования текстовой части для html писем. Возможные значения:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">ExtractFromHtml </span>- автоматически сформировать текстовую часть путем извлечения текста из html части</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">CustomTextPart </span>- задать свою текстовую часть, текст которой будет отличаться от html части.</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">NoTextPart </span>- отключить текстовую часть, в этом случае типа письма будет text/html вместо multipart/alternative.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">htmlPart </span>- содержимое Html части письма. Это должен быть Html код в кодировке UTF-8 (желательно чтобы html код содержал META тэг с указанием кодировки). Html код должен передаваться в виде строки закодированной в base64.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">textPart </span>- текстовая часть письма. Должна быть в кодировке UTF-8 и передаваться в виде строки, закодированной в base64. Значение параметра должно быть задано если messageType=Text или textPartMode=CustomTextPart.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">priority </span>- приоритет письма (значение для поля заголовка X-Priority). Возможные значения: <span style="font-weight: bold;">Low</span>, <span style="font-weight: bold;">Normal</span>, <span style="font-weight: bold;">High</span>. По умолчанию - Normal</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">requestReadReceipt</span> - если true - добавить в заголовок письма запрос уведомления о прочтении (поле Disposition-Notification-To:). В запросе будет использован обратный (From:) email. Значение по умолчанию false.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">asIsMode </span>- если true для письма будет включен режим "как есть" сохраняющий исходное форматирование. При открытии такого письма в редакторе не будет производится преобразование его кода во внутреннее представление редактора (которое может немного изменить его изначальный html код), при этом в редакторе не будет доступно визуальное редактирование письма (редактирование будет возможно только на вкладке Исходный код).</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">charset </span>- желаемая кодировка письма, рекомендуется использовать значение по умолчанию utf-8.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">contentTransferEncoding </span>- выбор транспортной кодировки для html и текстовых частей письма. Возможные значения:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">auto </span>- автоматический выбор наилучшего варианта в зависимости от типа письма, в большинстве случаев это quoted-printable. Значение по умолчанию. </p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">quoted-printable </span>- использовать кодировку quoted-printable</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">base64 </span>- использовать кодировку base64.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">headerInlineEncoding </span>- выбор inline кодировки для полей заголовка письма, содержащих non-ascii символы. Возможные значения:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">auto </span>- автоматический выбор наилучшего варианта в зависимости от типа письма, в большинстве случаев это base64. Значение по умолчанию. </p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">quoted-printable </span>- использовать кодировку quoted-printable</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">base64 </span>- использовать кодировку base64.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p><span style="font-weight: bold;">customHeaderLines </span>- массив пользовательских строк, которые будут добавлены в конец служебного заголовка письма.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">attachments </span>- массив, в котором передаются вложения.</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">fileName </span>- имя приложенного файла.</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">fileContent </span>- содержимое приложенного файла. Должно быть закодировано в base64.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">htmlAttachments</span> - если письмо содержит встроенные картинки - они передаются в этом массиве.</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">fileName </span>- имя файла картинки. Например, если html код содержит фрагмент c описаниеv картинки &lt;img src="NetworkIcon.png"&gt; то fileName должен быть NetworkIcon.png</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">fileContent </span>- содержимое файла картинки. Должно быть закодировано в base64</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p><span style="font-weight: bold;">trackingOptions </span>- объект содержит настройки по отслеживанию открытия письма и кликам по ссылкам в письме.</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">openTracking </span>- если true разрешает отслеживание открытий письма.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">clicksTracking </span>- если true разрешает отслеживание кликов по ссылкам в письме.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">trackingMethod </span>- способ отслеживания кликов. Возможные значения:</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">AmswebOnly </span>- используется только штатный механизм статистики AMS через скрипт amsweb.php. Значение по умолчанию.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">UtmOnly </span>- используется только Google analytics и/или Яндекс-метрика (ко всем ссылкам в письме добавляются utm метки).</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">AmswebAndUtm </span>- используется оба метода сразу - к ссылкам добавляются utm метки, при этом клик происходит через штатный скрипт AMS amsweb.php</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">amswebLinkID </span>- id ссылки на скрипт amsweb.php, которая будет использоваться для сбора статистики для этого письма. Получить список имеющихся ссылок можно с помощью команды getAmswebLinks.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">amswebLinkUsageMode </span>- режим выбора ссылки на скрипт amsweb.php. Возможные значения:</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">useAmswebLinkID</span> - использовать ссылку, заданную в параметре <span style="font-weight: bold;">trackingOptions.amswebLinkID</span></p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">selectAmswebLinkBySenderDomain </span>- пытаться выбрать ссылку на amsweb.php чей домен совпадает с доменом from адреса. Например, если обратный адрес это <a href="mailto:info@" class="weblink">info@</a><span style="font-weight: bold;"><a href="mailto:domain.com" class="weblink">domain.com</a></span> то будет выбрана ссылка на скрипт http://<span style="font-weight: bold;">domain.com</span>/amsweb.php. Если подходящую ссылку найти не удастся - будет использована ссылка, заданная в параметре <span style="font-weight: bold;">trackingOptions.amswebLinkID</span></p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">useRandomAmswebLink - </span>для каждого письма будет выбираться случайная ссылка на amsweb.php из имеющихся.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">utmParams </span>- объект в котором задаются utm метки если <span style="font-weight: bold;">trackingOptions.trackingMethod </span>равен UtmOnly или AmswebAndUtm. Информацию о назначении utm меток смотрите в спарвке по google analytics и яндекс-метрике.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"id":1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"messageName":"New message from API",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"subject":"RXhhbXBsZSBtZXNzYWdl",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"messageType":"Html",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"textPartMode":"ExtractFromHtml",</span></p>
<p><span style="font-family: &#39;Courier New&#39;; word-break:break-all;"> &nbsp; &nbsp; &nbsp;"htmlPart":"PGh0bWw+PGhlYWQ+DQo8bWV0YSBjb250ZW50PSJ0ZXh0L2h0bWw7IGNoYXJzZXQ9LVtDSEFSU0VUXS0iIGh0dHAtZXF1aXY9Q29udGVudC1UeXBlPg0KPG1ldGEgbmFtZT1HRU5FUkFUT1IgY29udGVudD0iLVtPVVRMT09LX1ZFUl0tIj48L2hlYWQ+DQo8Ym9keSBib3R0b21NYXJnaW49NSBiZ0NvbG9yPSIjZmZmZmZmIiBsZWZ0TWFyZ2luPTUgdG9wTWFyZ2luPTUgcmlnaHRNYXJnaW49NT48Zm9udCBjb2xvcj0iIzAwMDAwMCIgc2l6ZT0yIGZhY2U9QXJpYWw+DQo8ZGl2PlRoaXMgaXMgYSBtZXNzYWdlIGJvZHkgd2l0aCBpbWFnZTwvZGl2Pg0KPGRpdj48aW1nIGJvcmRlcj0wIGhzcGFjZT0wIGFsdD0iIiBzcmM9Ik5ldHdvcmtJY29uLnBuZyIgd2lkdGg9MTYgaGVpZ2h0PTE2PjwvZGl2PjwvZm9udD48L2JvZHk+PC9odG1sPg0K",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"textPart":"77u\/VGhpcyBpcyBhIG1lc3NhZ2UgYm9keSB3aXRoIGltYWdl",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"priority":"Normal",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"requestReadReceipt":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"asIsMode":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"charset":"utf-8",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"contentTransferEncoding":"auto",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"headerInlineEncdoing":"auto",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"customHeaderLines":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "X-My-Custom-Header-Field: My value",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "List-Unsubscribe: &lt;[%%TUnsubscribeLink,9,AE%%]&gt;"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"attachments":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; {</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"fileName":"ExampleAttachment.txt",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"fileContent":"Q29udGVudCBvZiBhdHRhY2hlZCB0ZXh0IGZpbGU="</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"htmlAttachments":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; {</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"fileName":"NetworkIcon.png",</span></p>
<p><span style="font-family: &#39;Courier New&#39;; word-break:break-all;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"fileContent":"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8\/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAg1JREFUeNqkU01rE1EUPS+Thnx0nBnTIlMXLgRFAkHp2q1uKqiUFMWVLgxUFPwPWetCF91kpe3OjwpVdwF3GiEE1JWtBktbJzNvzHwk0Xx43ziOSa246IXDu2\/eu+edc+c9NhwOsZ+IFwqF0fk5gv6fmi3Cs4hgdKXdbuvlcnnJcRx0Oh00mx5ct4dMZhLaQQ1T2SyKxYVFSZKwJ4GIXq8Hy7Jg2zZMy4NDBJqmIp5gUJTMX3KkXC43VlytVmcYY8cMw8DnTx\/RNL7gm70Dm2\/j+dqTl5zzh7FYbPNfCmZLpdJcZMFyYDttpDKpQMXcxYWzN4vXVmnf64hgMBhE1SIfs2A74J4HWZURSwwgK8lgDyn8Y0HX9eA0Ad\/3Wa1WO0xN+mVhYx3W1214nMO1ONaerr5oNBor3W5383cNy+fzoz24ValU7kYWeAumayORjkPVFGTpT8yfOX+bFNyJLNTr9SBJJpPUZUUes9BqwfA5MmoSTFg4kIJpmrJYEweIYCMNPEIk83QzD\/X7\/WCN8pnApyRtUeeHofcdui+PaFzfTaASUtG3XAJ49\/1GmN+jfOzOEfhugvFYnl7Chx+zQX5i4i0uG9f3fAuEKcJRwknCKcJxgoxlFxfKlwKCx1dXxFAlCG8bYf6G8F4omAilT4ZIC9tYTF\/BNDsdHGMMX+G+\/2BEvhPCZ\/t9zj8FGAAyaftHYMhilQAAAABJRU5ErkJggg=="</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"trackingOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "openTracking":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "clicksTracking":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "trackingMethod":"AmswebOnly",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "amswebLinkID":9,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "amswebLinkUsageMode":"selectAmswebLinkBySenderDomain",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "utmParams":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"utmMedium":"email",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"utmSource":"AMS Enterprise",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"utmCampaign":"[%%MailingName%%]",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"utmContent":"[%%MessageName%%]"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apiadddeliverypreset"></a><span class="f_Heading1">addDeliveryPreset</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:1810px; padding:0px;"><p>Команда добавляет профиль отправки.</p>
<p>&nbsp;</p>
<p>Поскольку объект профиля отправки довольно сложный - вы можете вначале создать профиль отправки с нужными настройками в интерфейсе AMS, после чего получить его json представление с помощью команды getDeliveryPreset и использовать его как шаблон для создания новых похожих профилей - &nbsp;внести в шаблон необходимые изменения, после чего передать его в команду addDeliveryPreset.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">name </span>- имя создаваемого профиля отправки. Обязательный параметр. Имя профиля отправки должны быть уникальным ! Если уже найдется имеющийся профиль отправки с таким именем будет ошибка !</p>
<p>&nbsp;</p>
<p>Все остальные параметры являются опциональными. Фактически, создается "пустой" профиль отправки со всеми настройками по умолчанию (как если бы вы создали пустой профиль отправки в интерфейсе AMS), после чего те параметры, которые вы передали вместе с командой "накладываются" на пустой профиль отправки. Поэтому вы можете передать только те параметры, которые вы хотите задать/изменить.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">deliveryMode </span>- режим рассылки. Возможные значения:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">RelaysOnly</span> - отправка только через внешние smtp серверы (релеи).</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">RelaysAndBuiltInServerOnErrors </span>- вначале попытка отправить через внешние smtp релеи, а в случае ошибки доставки попробовать отправить через встроенный smtp сервер AMS.</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">BuiltInServerAndRelaysOnErrors </span>- вначале попытка отправить через встроенный smtp сервер, в случае не удачи попробовать через внешние smtp серверы (релеи).</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">BuiltInServerOnly </span>- отправка только встроенный Smtp сервер AMS.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">commonOptions</span> <span style="font-weight: bold;">-</span> объект, который содержит общие настройки профиля для всех режимов рассылки:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">dnsResolverAttempts </span>- число попыток получить MX и A записи через DNS запросы.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">sendingAttempts </span>- число попыток отправить письмо.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">netTimeout </span>- сетевой таймаут соединения (в секундах).</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">maxMessagesPerSmtpSession </span>- число писем, которые будут отправлены в рамках одного подключения к smtp серверу (отправка последовательности писем разделяется Smtp командой RSET).</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">sendingMethod </span>- метод рассылки. Возможные значения: <span style="font-weight: bold;">To, Cc, Bcc, PersonalCopy</span>.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">useProxy </span>- если true то использовать прокси для рассылки.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">proxyListID </span>- id списка прокси, который будет использоваться для рассылки. Обязателен если useProxy=true. Получить список имеющихся списков прокси можно с помощью команды getProxyLists.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">advancedProxyOptions </span>- объект содержит настройки по авто-отключению и ротации прокси:</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">maxThreadsPerProxy </span>- максимальное число потоков отправки (параллельных соединений), которые могут быть использованы через каждый прокси. Если 0 - ограничения нет.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">proxyRotationOptions </span>- объект с настройками ротации прокси:</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">enableProxyRotation </span>- если true то ротация включена.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">rotationPoolSize </span>- размер пула ротации. Т.е. сколько прокси (из числа доступных) будут использоваться в ротации.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">rotationPoolSwithInterval </span>- число писем после обработки которых прокси уходит из пула ротации, а вместо него в пул попадает новый прокси. Под обработкой понимается попытка отправить письмо без учета результата отправки.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">syncProxyRotationWithRelaysRotation </span>- с помощью этого параметра можно автоматически связать каждый smtp сервер с одним и только одним прокси сервером. Таким образом, для каждого smtp сервера соединение будет приходить только с одного и того же "своего" прокси. Обратите внимание, что связка действует до конца рассылки ! После перезапуска рассылки для smtp сервера может быть выбран другой прокси.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">restartSyncRotationIfAllProxiesUsed </span>- если параметр syncProxyRotationWithRelaysRotation=true И при этом число прокси меньше чем число smtp серверов - в какой-то момент для очередного smtp сервера уже не найдется свободного прокси, не связанного с другим smtp сервером. В этом случае формирование связок прокси&lt;-&gt;Smtp сервер начнется заново начиная с smtp сервера, для которого не нашлось свободного прокси.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">proxyAutoExclusionOptions </span>- объект содержит настройки по автоматическому исключению прокси из рассылок в случае множества ошибок отправки:</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">enableAutoExclusion </span>- если true то прокси будет исключаться из рассылки в случае если через него стали плохо отправляться письма.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">proxyExclusionMode </span>- режим автоматического исключения прокси. Возможные значения:</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">ByNumberOfFailedConnections </span>- прокси будет исключен из рассылки если число неудачных попыток соединений подряд превысило заданное значение.</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">ByNumberOfUnsentMsgInRow </span>- прокси будет исключен из рассылки если число не отправленных подряд писем превысило заданное значение.</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">ByProxyEffeciency </span>- прокси будет исключен из рассылки если его эффективность (% удачных соединений) стало ниже заданного процента.</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">proxyExclusionValue </span>- в зависимости от значения параметра proxyExclusionMode - число не удачных соединений подряд, число не отправленных писем подряд или % эффективности прокси при достижении которого прокси будет исключен из рассылки.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">proxyExclusionTime </span>- время (в минутах) на которое прокси будет исключен из рассылки. Если значение 0 - прокси будет исключен до остановки рассылки.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">useMultiHomeIP </span>- если AMS установлен на сервер, имеющего множество IP адресов - можно выбрать какие IP будут использован для рассылки. Если true - разрешено использовать заданные IP адреса. </p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">multiHomeIpList </span>- массив со списком локальных IP, с которых разрешена отправка писем.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">multiHomeIpList.ip </span>- локальный ip адрес, который будет использован для рассылки.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">multiHomeIpList.hostName </span>- имя хоста (значение PTR записи, привязанной к IP). Если значение задано - оно может быть использовано в smtp команде EHLO. См. описание параметра heloMode ниже.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">multiHomeIpList.comment </span>- любой пользовательский комментарий (строка). Во время рассылки может быть подставлен в любое место тела или заголовка письма с помощью макроса [%%PMultiHomeIPComment%%]</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">heloMode </span>- режим формирования строки с именем хоста для команды Smtp HELO/EHLO. Возможные значения:</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">Default </span>- используется значение HELO по умолчанию - это имя компьютера, на котором установлен AMS, или глобальное значение HELO, заданное в окне Настройки-&gt;Доп. Настройки.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">UseProxyHosts </span>- если разрешена рассылка через прокси - будут использоваться имена хостов прокси (содержимое поля Host в списки прокси).</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">UseRelaysHelo</span> - если рассылка через внешние smtp серверы - будет использовано индивидуальное helo, заданное для каждого smtp сервера, см. параметр relaysOptions.relaysList.additionalOptions.customHelo.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">UseMultiHomeIPHosts </span>- если разрешена отправка с заданных локальных IP адресов - будет использовано имя хоста, связанного с IP адресом, см параметр multiHomeIpList.hostName.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">Custom </span>- значение для HELO задает пользователь. Зачастую он формируется макросами [%%ORandStr%%], [%%ORandText%%] и другими.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">customHelo </span>- если heloMode=Custom - в этом параметре передается пользовательское значение HELO для профиля отправки.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">globalSpeedThrottle </span>- объект содержит настройки глобального ограничения скорости рассылки.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">throttleEnabled </span>- если true то глобальное ограничение скорости рассылки включено.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">msgNumber </span>- число писем, после отправки которых программа приостановит рассылку на заданное время.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">perSeconds </span>- число секунд, на которые будет приостановлена рассылки после отправки числа писем, заданных в параметре msgNumber.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p><span style="font-weight: bold;">relaysOptions -</span> объект содержит список smtp серверов а так же настройки рассылки через релеи:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">relaysList </span>- массив с smtp серверами, которые будут использоваться для рассылки этим профилем отправки:</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">enabled </span>- smtp сервер включен.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">uniqID </span>- уникальный идентификатор smtp сервера. <span style="font-weight: bold;">Уникальность и обработку этих ID выполняет AMS ! Никогда не задавайте и не меняйте значения этого поля.</span></p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">primaryOptions -</span> объект с основными настройками smtp сервера:</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">serverName </span>- имя smtp сервера.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">port </span>- номер порта smtp сервера</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">threads </span>- число потоков рассылки (параллельных соединений) через этот smtp сервер.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">bccSize </span>- размер BCC пакета т.е. число получателей для одного тела письма если sendingMethod<span style="font-weight: bold;"> = </span>To или Cc или Bcc.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">authOptions </span>- объект содержит настройки авторизации для прокси сервера:</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">enableAuthentication </span>- если true то авторизация включена, в противном случае программа не будет отправлять команду smtp AUTH.</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">authType </span>- тип авторизации. Рекомендуемое значение <span style="font-weight: bold;">Auto </span>- в этом случае будет выбран оптимальный способ авторизации в зависимости от содержимого ответа smtp сервера на команду EHLO. Так же есть возможность задать в качестве типа авторизации одно из этих значений <span style="font-weight: bold;">Auth-plain, Auth-login, Auth-cram-md5, Auth-cram-sha1, Auth-ntlm</span>.</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">login </span>- логин для smtp сервера.</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">password </span>- пароль для smtp сервера.</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">useLoginAsFromEmail </span>- использовать логин smtp сервера как обратный адрес при рассылке. По умолчанию включено т.к. почти всегда почтовые сервера требуют чтобы логин и обратный адрес совпадали. Если логин smtp сервера не в ввиде email адреса, но вы хотите задать нужный вам обратный адрес для smtp сервера - укажите этот адрес в логине, отделив его от логина тремя двоеточиями. Например, <a href="mailto:pmtauser:::from@mydomain.com" class="weblink">pmtauser:::from@mydomain.com</a></p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">sslOptions </span>- объект содержит настройки защищенного SSL/TLS соединения:</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">sslEnabled </span>- если true то защищенное соединение включено.</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">sslMode </span>- режим защищенного соединения. Возможные значения:</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 120px;"><span style="font-weight: bold;">Auto </span>- режим выбирается автоматически в зависимости от номера порта smtp сервера. Рекомендуемое значение.</p>
<p style="margin: 0px 0px 0px 120px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 120px;"><span style="font-weight: bold;">SslConnection </span>- устанавливается защищенное соединение, обычно если номер порта 465.</p>
<p style="margin: 0px 0px 0px 120px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 120px;"><span style="font-weight: bold;">StartTls </span>- вначале устанавливается обычное соединение, а потом переводится в защищенное с помощью команды smtp STARTTLS. Обычно если номер порта 25 или 587.</p>
<p style="margin: 0px 0px 0px 120px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">throttleOptions </span>- объект содержит настройки ограничения скорости отправки через этот smtp сервер.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">throttleEnabled </span>- если true то ограничение скорости включено.</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">msgNumber </span>- максимальное число писем, которые могут быть отправлены за указанное время.</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">perSeconds </span>- число секунд за которые может быть отправлено не больше писем, чем указано в параметре msgNumber.</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">additionalOptions </span>- объект с дополнительными настройками smtp сервера:</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">socksRelayLink </span>- с помощью этого параметра вы можете жестко связать smtp сервер с некоторым прокси сервером. В качестве значения можно передать IP адрес прокси - 1.1.1.1 или IP:Port - 1.1.1.1:1080 или маску прокси 1.1.1.* &nbsp;- если указана маска - будет выбран случайный прокси из числа подходящих под маску. Чтобы связка работала - должна быть разрешена рассылка через прокси - commonOptions.useProxy=true и выбранный список прокси должен содержать прокси чей IP или IP:Port вы указали.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">customHelo </span>- в этом параметре можно задать строку для smtp команды HELO, которая будет использоваться только с этим smtp сервером. Обратите внимание, что при этом параметр commonOptions.heloMode должен содержать значение UseRelaysHelo.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">customFromName </span>- в этом параметре можно задать имя отправителя, которое будет использоваться только с этим smtp сервером и переопределит значение, заданное в Учетной записи отправителя.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">comment </span>- любой пользовательский комментарий (строка), привязанный к этому smtp серверу. Во время рассылки значение комментария может быть подставлено в любое место тела или заголовка письма с помощью макроса [%%PSmtpServerComment%%]</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">customMsgBodyFileName </span>- для каждого smtp сервера можно задать свое тело письма. В этом параметре задается имя файла c телом письма, например MyRelayBody1.html. При этом папка, в которой выполняется поиск указанного файла задается в редакторе писем с помощью макроса [%%OMessageBodyByRelay%%]</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">advancedRelaysOptions </span>- объект содержит дополнительные настройки, общие для режима отправки через smtp сервера:</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">relaysResendingOptions </span>- объект содержит настройки по переотправке письма через другой smtp сервер в случае каких-либо ошибок:</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">enableResendViaRandomRelay </span>- если true то в случае ошибок доставки программа попытается повторно отправить письмо через любой случайный smtp сервер из перечня доступных.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">resendViaRandomRelayAttempts </span>- число попыток переотправить письмо через случайный smtp сервер. Для каждой попытки выбирается новый случайный smtp сервер из перечня доступных.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">enableResendViaBuiltInServer </span>- если true то в случае ошибок отправки программа попытается переотправить письмо через встроенный smtp сервер. Для работы этой опции параметр deliveryMode должен содержать RelaysAndBuiltInServerOnErrors.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">resendViaBuiltInServerAttempts </span>- число попыток переотправить письмо через встроенный smtp сервер. </p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">relaysAutoExclusionMode </span>- объект содержит настройки по автоматическому исключению smtp сервера из рассылки в случае множества ошибок доставки:</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">enableAutoExclusion </span>- если true то авто исключение smtp серверов включено.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">excludeOnErrorsCount </span>- число ошибок отправки подряд после которых smtp сервер будет исключен из рассылки.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">excludeForSeconds </span>- число секунд на которые smtp сервер будет исключен из рассылки.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">markRelayAsBadOnExclusionOrAuthErrors </span>- если true и во время рассылки smtp сервер выдал ошибку авторизации или был исключен из рассылки из-за множества ошибок - он будет помечен как "Плохой" и отключен в профиле отправки. В результате при следующем запуске рассылки данный smtp сервер в нее не попадет пока не будет снова включен пользователем в профиле отправки.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">relaysRotationOptions </span>- объект содержит настройки ротации smtp серверов.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">enableRelaysRotation </span>- если true то ротация smtp серверов включена.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">rotationPoolSize </span>- размер пула ротации. Т.е. сколько smtp серверов (из числа доступных) будут использоваться в ротации.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">rotationPoolSwitchInterval </span>- число писем после обработки которых smtp сервер уходит из пула ротации, а вместо него в пул попадает новый smtp сервер. Под обработкой понимается попытка отправить письмо без учета результата отправки.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">alwaysUseRelaysForDomains </span>- массив с доменами, письма на которые будут отправляться только через smtp сервера в случае если используется смешанный режим рассылки т.е. параметр deliveryMode содержит RelaysAndBuiltInServerOnErrors или BuiltInServerAndRelaysOnErrors.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">relaysSpeedThrottleForTargetDomains</span> - объект содержит настройки скоростных ограничений рассылки на заданные домены получателей (например, на <a href="mailto:@gmail.com" class="weblink">@gmail.com</a> и <a href="mailto:@hotmai.com" class="weblink">@hotmai.com</a> отправлять медленнее чем на остальные домены в списке рассылки).</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">domainsThrottleUsageMode </span>- режим ограничения скорости. Возможные значения:</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">ShareBetweenRelays </span>- заданные лимиты для целевых доменов являются общими для всех smtp серверов в профиле отправки. Т.е. через ВСЕ smtp сервера нельзя отправлять быстрее чем задано.</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">IndividualPerRelay </span>- каждый smtp сервер работает со своей копией скоростных лимитов для целевых доменов. Т.е. через КАЖДЫЙ smtp сервер нельзя отправлять быстрее чем задано.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">domainsThrottleList </span>- массив содержит домены получателей и настройки по скоростным лимитам для каждого домена.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">domainName </span>- имя домена получателя для которого нужно ограничить скорость отправки.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">throttleOptions </span>- объект с настройкой скоростного лимита для указанного домена:</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">msgNumber </span>- максимальное число писем, которые могут быть отправлены за указанное время.</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">perMinutes </span>- число минут за которые может быть отправлено не больше писем, чем указано в параметре msgNumber</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">builtInServerOptions - </span>объект содержит настройки отправки через встроенный smtp сервер:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">builtInServerThreads </span>- число потоков отправки через встроенный smtp сервер.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">maxBccSize </span>- размер BCC пакета т.е. число получателей для одного тела письма если sendingMethod<span style="font-weight: bold;"> = </span>To или Cc или Bcc.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">maxThreadsPerTargetDomain - </span>максимальное число потоков на MX серверы целевых доменов. Например, если ваш список рассылки содержит адреса только от 2-3 доменов (gmail.com, hotmail.com, yahoo.com) - то при использовании 150-200 потоков отправки вы будете получать ошибки вида "to may connections from IP" т.к. MX сервера могут содержать лимиты на максимальное число одновременных подключений с одного IP адреса. С помощью этого параметра вы можете ограничить максимальное число одновременных подключений для ВСЕХ доменов получателей. Если значение параметра 0 - ограничения нет.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">builtInServerResendingOptions </span>- объект содержит настройки переотправки писем через внешние smtp серверы если отправить через встроенный smtp сервер не удалось из-за каких-либо ошибок. Настройка принимается во внимание только если deliveryMode=BuiltInServerAndRelaysOnErrors.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">enableResendViaRandomRelayOnErrors </span>- если true то переотправка через случайный smtp сервер из перечня доступных разрешена.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">resendViaRandomRelayAttempts </span>- число попыток переотправить письмо через случайный smtp сервер. Для каждой попытки выбирается новый случайный smtp сервер из перечня доступных (заданных в массиве relaysOptions.relaysList).</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">alwaysUseBuiltInServerForDomains </span>- массив с доменами, письма на которые будут отправляться только через встроенный smtp сервер в случае если используется смешанный режим рассылки т.е. параметр deliveryMode содержит RelaysAndBuiltInServerOnErrors или BuiltInServerAndRelaysOnErrors.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">builtInServerTargetDomainsThrottleList </span>- содержит настройки скоростных ограничений рассылки через встроенный smtp сервер на заданные домены получателей (например, на <a href="mailto:@gmail.com" class="weblink">@gmail.com</a> и <a href="mailto:@hotmai.com" class="weblink">@hotmai.com</a> отправлять медленнее чем на остальные домены в списке рассылки):</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">domainName </span>- имя целевого домена, для которого нужно установить скоростной лимит.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">limitSendingThreads </span>- если true то будет введено ограничение на число одновременных соединений (потоков отправки) на MX сервер указанного домена.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">maxSendingThreads </span>- если limitSendingThreads=true - в этом параметре передается число одновременных соединений (потоков отправки), которое нельзя превышать.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">throttleOptions </span>- объект содержит настройки ограничений скорости отправки на указанный домен:</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">throttleEnabled </span>- если true то ограничение скорости включено.</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">msgNumber </span>- максимальное число писем, которые могут быть отправлены за указанное время.</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">perMinutes </span>- число минут за которые может быть отправлено не больше писем, чем указано в параметре msgNumber.</p>
</td>
<td style="vertical-align:top; width:382px; padding:0px;"><p style="text-align: right;"><img src="./api_addpreset_zoom64.png" width="380" height="307" alt="api_addpreset" style="border:none"></p>
</td>
</tr>
</tbody></table>
</div>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"addDeliveryPreset",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"name":"Example preset",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"deliveryMode":"RelaysOnly",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"commonOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "dnsResolverAttempts":2,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "sendingAttempts":3,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "netTimeout":60,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "maxMessagesPerSmtpSession":2,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "sendingMethod":"PersonalCopy",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "useProxy":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "proxyListID":1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "advancedProxyOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"maxThreadsPerProxy":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"proxyRotationOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enableProxyRotation":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "rotationPoolSize":10,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "rotationPoolSwitchInterval":100,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "syncProxyRotationWithRelaysRoation":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "restartSyncRotationIfAllProxiesUsed":false</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"proxyAutoExclusionOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enableAutoExclusion":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "proxyExclusionMode":"ByNumberOfFailedConnections",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "proxyExclusionValue":50,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "proxyExclusionTime":20</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "useMultiHomeIP":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "muiltiHomeIpList":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "ip":"192.168.1.21",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "hostName":"mail.domain.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "comment":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "ip":"192.168.122.1",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "hostName":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "comment":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; ],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "heloMode":"Default",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "customHelo":"[%%ORandText,HeloStrings%%]",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "globalSpeedThrottle":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"throttleEnabled":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"msgNumber":10,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"perSeconds":60</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"relaysOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "relaysList":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "uniqID":"9TMdmnerZUeOpRSdm_lhKA",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "primaryOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"serverName":"smtp.mailserver.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"port":25,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"threads":3,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"bccSize":10,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"authOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enableAuthentication":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "authType":"Auto",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "login":"from@mailserver.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "password":"mailboxpass",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "useLoginAsFromEmail":true</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"sslOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "sslEnabled":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "sslMode":"Auto"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"throttleOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "throttleEnabled":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "msgNumber":25,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "perSeconds":120</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "additionalOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"socksRelayLink":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"customHelo":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"customFromName":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"comment":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"customMsgBodyFileName":""</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "speedThrottleListForTargetDomains":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "domainName":"gmail.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "throttleOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"msgNumber":100,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"perMinutes":5</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ]</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; ],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "advancedRelaysOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"relaysResendingOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enableResendViaRandomRelay":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "resendViaRandomRelayAttempts":2,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enableResendViaBuiltInServer":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "resendViaBuiltInServerAttempts":2</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"relaysAutoExclusionOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enableAutoExclusion":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "excludeOnErrorsCount":5,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "excludeForSeconds":300,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "markRelayAsBadOnExclusionOrAuthErrors":true</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"relaysRotationOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enableRelaysRotation":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "rotationPoolSize":3,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "rotationPoolSwitchInterval":20</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"alwaysUseRelaysForDomains":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "domain1.com"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;]</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "relaysSpeedThrottleForTargetDomains":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"domainsThrottleUsageMode":"ShareBetweenRelays",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"domainsThrottleList":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"domainName":"hotmail.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"throttleOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "msgNumber":100,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "perMinutes":10</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;]</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"builtInServerOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "builtInServerThreads":100,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "maxBccSize":10,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "maxThreadsPerTargetDomain":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "builtInServerResendingOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"enableResendViaRandomRelayOnErrors":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"resendViaRandomRelayAttempts":2</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "alwaysUseBuiltInServerForDomains":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"domain2.com"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; ],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "builtInServerTargetDomainsThrottleList":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "domainName":"yahoo.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "limitSendingThreads":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "maxSendingThreads":3,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "throttleOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"throttleEnabled":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"msgNumber":100,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"perMinutes":10</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; ]</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит ID созданного профиля отправки или ошибку:</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"newResourceID":21</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apieditdeliverypreset"></a><span class="f_Heading1">editDeliveryPreset</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда редактирует профиль отправки.</p>
<p>&nbsp;</p>
<p>Поскольку объект профиля отправки довольно сложный - вы можете вначале получить json представление профиля отправки с помощью команды getDeliveryPreset, внести необходимые изменения, после чего передать измененный профиль в команду editDeliveryPreset.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey - </span>ключ доступа к API</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id </span>- id профиля отправки, который нужно отредактировать. Обязательный параметр. Получить список имеющихся профилей отправки можно с помощью команды geDeliveryPresets.</p>
<p>&nbsp;</p>
<p>Все остальные параметры могут быть такими же как и у команды addDeliveryPresets, но не обязательно передавать их все если нужно изменить только какую-то конкретную настройку. Например, если вы хотите только изменить список smtp серверов (или отредактировать отдельный smtp сервер) - достаточно передать только массив <span style="font-family: &#39;Courier New&#39;;">relaysOptions.relaysList</span>. <span style="font-weight: bold;">Обратите внимание, что даже если вы хотите отредактировать только один smtp сервер из имеющихся в профиле - вам нужно передавать массив со всеми smtp серверами, в том числе с отредактированным т.к. содержимое массива полностью перезаписывается новыми данными ! Это же касается и других массивов в объекте профиля - их содержимое полностью перезаписывается новыми данными.</span> Те объекты, которые не передавались в параметрах команды - останутся без изменений.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"editDeliveryPreset",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"id":21,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"name":"Renamed preset",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"deliveryMode":"RelaysOnly",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"commonOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "dnsResolverAttempts":2,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "sendingAttempts":3,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "netTimeout":60,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "maxMessagesPerSmtpSession":2,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "sendingMethod":"PersonalCopy",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "useProxy":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "proxyListID":1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "advancedProxyOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"maxThreadsPerProxy":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"proxyRotationOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enableProxyRotation":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "rotationPoolSize":10,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "rotationPoolSwitchInterval":100,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "syncProxyRotationWithRelaysRoation":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "restartSyncRotationIfAllProxiesUsed":false</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"proxyAutoExclusionOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enableAutoExclusion":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "proxyExclusionMode":"ByNumberOfFailedConnections",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "proxyExclusionValue":50,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "proxyExclusionTime":20</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "useMultiHomeIP":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "muiltiHomeIpList":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  </span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; ],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "heloMode":"Default",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "globalSpeedThrottle":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"throttleEnabled":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"msgNumber":10,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"perSeconds":60</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"relaysOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "relaysList":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "uniqID":"9TMdmnerZUeOpRSdm_lhKA",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "primaryOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"serverName":"smtp.mailserver.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"port":25,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"threads":3,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"bccSize":10,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"authOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enableAuthentication":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "authType":"Auto",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "login":"from@mailserver.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "password":"mailboxpass",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "useLoginAsFromEmail":true</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"sslOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "sslEnabled":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "sslMode":"Auto"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"throttleOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "throttleEnabled":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "msgNumber":25,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "perSeconds":120</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "additionalOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"socksRelayLink":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"customHelo":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"customFromName":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"comment":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"customMsgBodyFileName":""</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "speedThrottleListForTargetDomains":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "domainName":"gmail.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "throttleOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"msgNumber":100,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"perMinutes":5</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ]</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; ],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "advancedRelaysOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"relaysResendingOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enableResendViaRandomRelay":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "resendViaRandomRelayAttempts":2,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enableResendViaBuiltInServer":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "resendViaBuiltInServerAttempts":2</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"relaysAutoExclusionOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enableAutoExclusion":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "excludeOnErrorsCount":5,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "excludeForSeconds":300,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "markRelayAsBadOnExclusionOrAuthErrors":true</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"relaysRotationOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enableRelaysRotation":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "rotationPoolSize":3,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "rotationPoolSwitchInterval":20</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"alwaysUseRelaysForDomains":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "domain1.com"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;]</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "relaysSpeedThrottleForTargetDomains":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"domainsThrottleUsageMode":"ShareBetweenRelays",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"domainsThrottleList":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"domainName":"hotmail.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"throttleOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "msgNumber":100,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "perMinutes":10</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;]</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"builtInServerOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "builtInServerThreads":100,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "maxBccSize":10,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "maxThreadsPerTargetDomain":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "builtInServerResendingOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"enableResendViaRandomRelayOnErrors":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"resendViaRandomRelayAttempts":2</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "alwaysUseBuiltInServerForDomains":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"domain2.com"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; ],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "builtInServerTargetDomainsThrottleList":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "domainName":"yahoo.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "limitSendingThreads":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "maxSendingThreads":3,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "throttleOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"throttleEnabled":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"msgNumber":100,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"perMinutes":10</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; ]</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит строку "ОК" или ошибку.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":"OK",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apideletedeliverypreset"></a><span class="f_Heading1">deleteDeliveryPreset</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда удаляет профиль отправки.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id </span>- id профиля отправки, который нужно удалить, обязательный параметр. Получить список имеющихся профиле отправки можно с помощью команды getDeliveryPresets.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"deleteDeliveryPreset",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"id":20</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит строку "ОК" или ошибку.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":"OK",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apigetdeliverypresets"></a><span class="f_Heading1">getDeliveryPresets</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="border:none; border-spacing:0px;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:1677px; padding:0px;"><p>Команда выдает список имеющихся профилей отправки.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API</p>
</td>
<td style="vertical-align:top; width:515px; padding:0px;"><p style="text-align: right;"><img src="./apipresets.png" width="513" height="287" alt="apipresets" style="border:none"></p>
</td>
</tr>
</tbody></table>
</div>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"getDeliveryPresets",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит массив с краткой информацией об имеющихся профилях отправки:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id</span> - id профиля отправки</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">name </span>- имя профиля отправки.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">sendingMethod </span>- метод рассылки, выбранный для этого профиля. Возможные значения: <span style="font-weight: bold;">To, Cс, Bcc, PersonalCopy</span></p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">deliveryMode </span>- режим рассылки, выбранный для этого профиля. Возможные значения:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">RelaysOnly</span> - отправка только внешние smtp серверы (релеи).</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">RelaysAndBuiltInServerOnErrors </span>- вначале попытка отправить через внешние smtp релеи, а в случае ошибки доставки попробовать отправить через встроенный smtp сервер AMS.</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">BuiltInServerAndRelaysOnErrors </span>- вначале попытка отправить через встроенный smtp сервер, в случае не удачи попробовать через внешние smtp серверы (релеи).</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">BuiltInServerOnly </span>- отправка только встроенный Smtp сервер AMS.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p><span style="font-weight: bold;">proxyUsed </span>- если true то для рассылки используются прокси.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">sendingThreads </span>- число потоков отправки (параллельных соединений), которые будут использованы при рассылке через этот профиль отправки.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "id":18,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "name":"Example preset",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "sendingMethod":"PersonalCopy",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "deliveryMode":"RelaysOnly",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "proxyUsed":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "sendingThreads":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "id":20,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "name":"Another preset",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "sendingMethod":"PersonalCopy",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "deliveryMode":"BuiltInServerOnly",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "proxyUsed":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "sendingThreads":30</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; ],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apigetdeliverypreset"></a><span class="f_Heading1">getDeliveryPreset</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда возвращает подробную информацию о профиле отправки.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id - </span>id профиля отправки, чье json представление нужно получить. Обязательный параметр. Получить список имеющихся профилей отправки можно с помощью команды getDeliveryPresets</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"getDeliveryPreset",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"id":18</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит json представление объекта профиля отправки или ошибку. Вы можете использовать полученное представление как образец для создания новым профилей или для редактирования настроек имеющихся профилей:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id - </span>id профиля отправки.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">name </span>- имя профиля отправки.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">deliveryMode </span>- режим рассылки. Возможные значения:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">RelaysOnly</span> - отправка только через внешние smtp серверы (релеи).</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">RelaysAndBuiltInServerOnErrors </span>- вначале попытка отправить через внешние smtp релеи, а в случае ошибки доставки попробовать отправить через встроенный smtp сервер AMS.</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">BuiltInServerAndRelaysOnErrors </span>- вначале попытка отправить через встроенный smtp сервер, в случае не удачи попробовать через внешние smtp серверы (релеи).</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">BuiltInServerOnly </span>- отправка только встроенный Smtp сервер AMS.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">commonOptions</span> <span style="font-weight: bold;">-</span> объект, который содержит общие настройки профиля для всех режимов рассылки:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">dnsResolverAttempts </span>- число попыток получить MX и A записи через DNS запросы.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">sendingAttempts </span>- число попыток отправить письмо.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">netTimeout </span>- сетевой таймаут соединения (в секундах).</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">maxMessagesPerSmtpSession </span>- число писем, которые будут отправлены в рамках одного подключения к smtp серверу (отправка последовательности писем разделяется Smtp командой RSET).</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">sendingMethod </span>- метод рассылки. Возможные значения: <span style="font-weight: bold;">To, Cc, Bcc, PersonalCopy</span>.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">useProxy </span>- если true то использовать прокси для рассылки.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">proxyListID </span>- id списка прокси, который будет использоваться для рассылки. Обязателен если useProxy=true. Получить список имеющихся списков прокси можно с помощью команды getProxyLists.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">advancedProxyOptions </span>- объект содержит настройки по авто-отключению и ротации прокси:</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">maxThreadsPerProxy </span>- максимальное число потоков отправки (параллельных соединений), которые могут быть использованы через каждый прокси. Если 0 - ограничения нет.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">proxyRotationOptions </span>- объект с настройками ротации прокси:</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">enableProxyRotation </span>- если true то ротация включена.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">rotationPoolSize </span>- размер пула ротации. Т.е. сколько прокси (из числа доступных) будут использоваться в ротации.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">rotationPoolSwithInterval </span>- число писем после обработки которых прокси уходит из пула ротации, а вместо него в пул попадает новый прокси. Под обработкой понимается попытка отправить письмо без учета результата отправки.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">syncProxyRotationWithRelaysRotation </span>- с помощью этого параметра можно автоматически связать каждый smtp сервер с одним и только одним прокси сервером. Таким образом, для каждого smtp сервера соединение будет приходить только с одного и того же "своего" прокси. Обратите внимание, что связка действует до конца рассылки ! После перезапуска рассылки для smtp сервера может быть выбран другой прокси.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">restartSyncRotationIfAllProxiesUsed </span>- если параметр syncProxyRotationWithRelaysRotation=true И при этом число прокси меньше чем число smtp серверов - в какой-то момент для очередного smtp сервера уже не найдется свободного прокси, не связанного с другим smtp сервером. В этом случае формирование связок прокси&lt;-&gt;Smtp сервер начнется заново начиная с smtp сервера, для которого не нашлось свободного прокси.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">proxyAutoExclusionOptions </span>- объект содержит настройки по автоматическому исключению прокси из рассылок в случае множества ошибок отправки:</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">enableAutoExclusion </span>- если true то прокси будет исключаться из рассылки в случае если через него стали плохо отправляться письма.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">proxyExclusionMode </span>- режим автоматического исключения прокси. Возможные значения:</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">ByNumberOfFailedConnections </span>- прокси будет исключен из рассылки если число неудачных попыток соединений подряд превысило заданное значение.</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">ByNumberOfUnsentMsgInRow </span>- прокси будет исключен из рассылки если число не отправленных подряд писем превысило заданное значение.</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">ByProxyEffeciency </span>- прокси будет исключен из рассылки если его эффективность (% удачных соединений) стало ниже заданного процента.</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">proxyExclusionValue </span>- в зависимости от значения параметра proxyExclusionMode - число не удачных соединений подряд, число не отправленных писем подряд или % эффективности прокси при достижении которого прокси будет исключен из рассылки.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">proxyExclusionTime </span>- время (в минутах) на которое прокси будет исключен из рассылки. Если значение 0 - прокси будет исключен до остановки рассылки.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">useMultiHomeIP </span>- если AMS установлен на сервер, имеющего множество IP адресов - можно выбрать какие IP будут использован для рассылки. Если true - разрешено использовать заданные IP адреса. </p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">multiHomeIpList </span>- массив со списком локальных IP, с которых разрешена отправка писем.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">multiHomeIpList.ip </span>- локальный ip адрес, который будет использован для рассылки.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">multiHomeIpList.hostName </span>- имя хоста (значение PTR записи, привязанной к IP). Если значение задано - оно может быть использовано в smtp команде EHLO. См. описание параметра heloMode ниже.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">multiHomeIpList.comment </span>- любой пользовательский комментарий (строка). Во время рассылки может быть подставлен в любое место тела или заголовка письма с помощью макроса [%%PMultiHomeIPComment%%]</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">heloMode </span>- режим формирования строки с именем хоста для команды Smtp HELO/EHLO. Возможные значения:</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">Default </span>- используется значение HELO по умолчанию - это имя компьютера, на котором установлен AMS, или глобальное значение HELO, заданное в окне Настройки-&gt;Доп. Настройки.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">UseProxyHosts </span>- если разрешена рассылка через прокси - будут использоваться имена хостов прокси (содержимое поля Host в списки прокси).</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">UseRelaysHelo</span> - если рассылка через внешние smtp серверы - будет использовано индивидуальное helo, заданное для каждого smtp сервера, см. параметр relaysOptions.relaysList.additionalOptions.customHelo.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">UseMultiHomeIPHosts </span>- если разрешена отправка с заданных локальных IP адресов - будет использовано имя хоста, связанного с IP адресом, см параметр multiHomeIpList.hostName.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">Custom </span>- значение для HELO задает пользователь. Зачастую он формируется макросами [%%ORandStr%%], [%%ORandText%%] и другими.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">customHelo </span>- если heloMode=Custom - в этом параметре передается пользовательское значение HELO для профиля отправки.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">globalSpeedThrottle </span>- объект содержит настройки глобального ограничения скорости рассылки.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">throttleEnabled </span>- если true то глобальное ограничение скорости рассылки включено.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">msgNumber </span>- число писем, после отправки которых программа приостановит рассылку на заданное время.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">perSeconds </span>- число секунд, на которые будет приостановлена рассылки после отправки числа писем, заданных в параметре msgNumber.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p><span style="font-weight: bold;">relaysOptions -</span> объект содержит список smtp серверов а так же настройки рассылки через релеи:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">relaysList </span>- массив с smtp серверами, которые будут использоваться для рассылки этим профилем отправки:</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">enabled </span>- smtp сервер включен.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">uniqID </span>- уникальный идентификатор smtp сервера. <span style="font-weight: bold;">Уникальность и обработку этих ID выполняет AMS ! Никогда не задавайте и не меняйте значения этого поля.</span></p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">primaryOptions -</span> объект с основными настройками smtp сервера:</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">serverName </span>- имя smtp сервера.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">port </span>- номер порта smtp сервера</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">threads </span>- число потоков рассылки (параллельных соединений) через этот smtp сервер.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">bccSize </span>- размер BCC пакета т.е. число получателей для одного тела письма если sendingMethod<span style="font-weight: bold;"> = </span>To или Cc или Bcc.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">authOptions </span>- объект содержит настройки авторизации для прокси сервера:</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">enableAuthentication </span>- если true то авторизация включена, в противном случае программа не будет отправлять команду smtp AUTH.</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">authType </span>- тип авторизации. Рекомендуемое значение <span style="font-weight: bold;">Auto </span>- в этом случае будет выбран оптимальный способ авторизации в зависимости от содержимого ответа smtp сервера на команду EHLO. Так же есть возможность задать в качестве типа авторизации одно из этих значений <span style="font-weight: bold;">Auth-plain, Auth-login, Auth-cram-md5, Auth-cram-sha1, Auth-ntlm</span>.</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">login </span>- логин для smtp сервера.</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">password </span>- пароль для smtp сервера.</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">useLoginAsFromEmail </span>- использовать логин smtp сервера как обратный адрес при рассылке. По умолчанию включено т.к. почти всегда почтовые сервера требуют чтобы логин и обратный адрес совпадали. Если логин smtp сервера не в ввиде email адреса, но вы хотите задать нужный вам обратный адрес для smtp сервера - укажите этот адрес в логине, отделив его от логина тремя двоеточиями. Например, <a href="mailto:pmtauser:::from@mydomain.com" class="weblink">pmtauser:::from@mydomain.com</a></p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">sslOptions </span>- объект содержит настройки защищенного SSL/TLS соединения:</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">sslEnabled </span>- если true то защищенное соединение включено.</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">sslMode </span>- режим защищенного соединения. Возможные значения:</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 120px;"><span style="font-weight: bold;">Auto </span>- режим выбирается автоматически в зависимости от номера порта smtp сервера. Рекомендуемое значение.</p>
<p style="margin: 0px 0px 0px 120px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 120px;"><span style="font-weight: bold;">SslConnection </span>- устанавливается защищенное соединение, обычно если номер порта 465.</p>
<p style="margin: 0px 0px 0px 120px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 120px;"><span style="font-weight: bold;">StartTls </span>- вначале устанавливается обычное соединение, а потом переводится в защищенное с помощью команды smtp STARTTLS. Обычно если номер порта 25 или 587.</p>
<p style="margin: 0px 0px 0px 120px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">throttleOptions </span>- объект содержит настройки ограничения скорости отправки через этот smtp сервер.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">throttleEnabled </span>- если true то ограничение скорости включено.</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">msgNumber </span>- максимальное число писем, которые могут быть отправлены за указанное время.</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">perSeconds </span>- число секунд за которые может быть отправлено не больше писем, чем указано в параметре msgNumber.</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">additionalOptions </span>- объект с дополнительными настройками smtp сервера:</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">socksRelayLink </span>- с помощью этого параметра вы можете жестко связать smtp сервер с некоторым прокси сервером. В качестве значения можно передать IP адрес прокси - 1.1.1.1 или IP:Port - 1.1.1.1:1080 или маску прокси 1.1.1.* &nbsp;- если указана маска - будет выбран случайный прокси из числа подходящих под маску. Чтобы связка работала - должна быть разрешена рассылка через прокси - commonOptions.useProxy=true и выбранный список прокси должен содержать прокси чей IP или IP:Port вы указали.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">customHelo </span>- в этом параметре можно задать строку для smtp команды HELO, которая будет использоваться только с этим smtp сервером. Обратите внимание, что при этом параметр commonOptions.heloMode должен содержать значение UseRelaysHelo.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">customFromName </span>- в этом параметре можно задать имя отправителя, которое будет использоваться только с этим smtp сервером и переопределит значение, заданное в Учетной записи отправителя.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">comment </span>- любой пользовательский комментарий (строка), привязанный к этому smtp серверу. Во время рассылки значение комментария может быть подставлено в любое место тела или заголовка письма с помощью макроса [%%PSmtpServerComment%%]</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">customMsgBodyFileName </span>- для каждого smtp сервера можно задать свое тело письма. В этом параметре задается имя файла c телом письма, например MyRelayBody1.html. При этом папка, в которой выполняется поиск указанного файла задается в редакторе писем с помощью макроса [%%OMessageBodyByRelay%%]</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">advancedRelaysOptions </span>- объект содержит дополнительные настройки, общие для режима отправки через smtp сервера:</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">relaysResendingOptions </span>- объект содержит настройки по переотправке письма через другой smtp сервер в случае каких-либо ошибок:</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">enableResendViaRandomRelay </span>- если true то в случае ошибок доставки программа попытается повторно отправить письмо через любой случайный smtp сервер из перечня доступных.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">resendViaRandomRelayAttempts </span>- число попыток переотправить письмо через случайный smtp сервер. Для каждой попытки выбирается новый случайный smtp сервер из перечня доступных.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">enableResendViaBuiltInServer </span>- если true то в случае ошибок отправки программа попытается переотправить письмо через встроенный smtp сервер. Для работы этой опции параметр deliveryMode должен содержать RelaysAndBuiltInServerOnErrors.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">resendViaBuiltInServerAttempts </span>- число попыток переотправить письмо через встроенный smtp сервер. </p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">relaysAutoExclusionMode </span>- объект содержит настройки по автоматическому исключению smtp сервера из рассылки в случае множества ошибок доставки:</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">enableAutoExclusion </span>- если true то авто исключение smtp серверов включено.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">excludeOnErrorsCount </span>- число ошибок отправки подряд после которых smtp сервер будет исключен из рассылки.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">excludeForSeconds </span>- число секунд на которые smtp сервер будет исключен из рассылки.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">markRelayAsBadOnExclusionOrAuthErrors </span>- если true и во время рассылки smtp сервер выдал ошибку авторизации или был исключен из рассылки из-за множества ошибок - он будет помечен как "Плохой" и отключен в профиле отправки. В результате при следующем запуске рассылки данный smtp сервер в нее не попадет пока не будет снова включен пользователем в профиле отправки.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">relaysRotationOptions </span>- объект содержит настройки ротации smtp серверов.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">enableRelaysRotation </span>- если true то ротация smtp серверов включена.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">rotationPoolSize </span>- размер пула ротации. Т.е. сколько smtp серверов (из числа доступных) будут использоваться в ротации.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">rotationPoolSwitchInterval </span>- число писем после обработки которых smtp сервер уходит из пула ротации, а вместо него в пул попадает новый smtp сервер. Под обработкой понимается попытка отправить письмо без учета результата отправки.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">alwaysUseRelaysForDomains </span>- массив с доменами, письма на которые будут отправляться только через smtp сервера в случае если используется смешанный режим рассылки т.е. параметр deliveryMode содержит RelaysAndBuiltInServerOnErrors или BuiltInServerAndRelaysOnErrors.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">relaysSpeedThrottleForTargetDomains</span> - объект содержит настройки скоростных ограничений рассылки на заданные домены получателей (например, на <a href="mailto:@gmail.com" class="weblink">@gmail.com</a> и <a href="mailto:@hotmai.com" class="weblink">@hotmai.com</a> отправлять медленнее чем на остальные домены в списке рассыкли).</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">domainsThrottleUsageMode </span>- режим ограничения скорости. Возможные значения:</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">ShareBetweenRelays </span>- заданные лимиты для целевых доменов являются общими для всех smtp серверов в профиле отправки. Т.е. через ВСЕ smtp сервера нельзя отправлять быстрее чем задано.</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">IndividualPerRelay </span>- каждый smtp сервер работает со своей копией скоростных лимитов для целевых доменов. Т.е. через КАЖДЫЙ smtp сервер нельзя отправлять быстрее чем задано.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">domainsThrottleList </span>- массив содержит домены получателей и настройки по скоростным лимитам для каждого домена.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">domainName </span>- имя домена получателя для которого нужно ограничить скорость отправки.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">throttleOptions </span>- объект с настройкой скоростного лимита для указанного домена:</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">msgNumber </span>- максимальное число писем, которые могут быть отправлены за указанное время.</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">perMinutes </span>- число минут за которые может быть отправлено не больше писем, чем указано в параметре msgNumber</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">builtInServerOptions - </span>объект содержит настройки отправки через встроенный smtp сервер:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">builtInServerThreads </span>- число потоков отправки через встроенный smtp сервер.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">maxBccSize </span>- размер BCC пакета т.е. число получателей для одного тела письма если sendingMethod<span style="font-weight: bold;"> = </span>To или Cc или Bcc.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">maxThreadsPerTargetDomain - </span>максимальное число потоков на MX серверы целевых доменов. Например, если ваш список рассылки содержит адреса только от 2-3 доменов (gmail.com, hotmail.com, yahoo.com) - то при использовании 150-200 потоков отправки вы будете получать ошибки вида "to may connections from IP" т.к. MX сервера могут содержать лимиты на максимальное число одновременных подключений с одного IP адреса. С помощью этого параметра вы можете ограничить максимальное число одновременных подключений для ВСЕХ доменов получателей. Если значение параметра 0 - ограничения нет.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">builtInServerResendingOptions </span>- объект содержит настройки переотправки писем через внешние smtp серверы если отправить через встроенный smtp сервер не удалось из-за каких-либо ошибок. Настройка принимается во внимание только если deliveryMode=BuiltInServerAndRelaysOnErrors.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">enableResendViaRandomRelayOnErrors </span>- если true то переотправка через случайный smtp сервер из перечня доступных разрешена.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">resendViaRandomRelayAttempts </span>- число попыток переотправить письмо через случайный smtp сервер. Для каждой попытки выбирается новый случайный smtp сервер из перечня доступных (заданных в массиве relaysOptions.relaysList).</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">alwaysUseBuiltInServerForDomains </span>- массив с доменами, письма на которые будут отправляться только через встроенный smtp сервер в случае если используется смешанный режим рассылки т.е. параметр deliveryMode содержит RelaysAndBuiltInServerOnErrors или BuiltInServerAndRelaysOnErrors.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">builtInServerTargetDomainsThrottleList </span>- массив содержит настройки скоростных ограничений рассылки через встроенный smtp сервер на заданные домены получателей (например, на <a href="mailto:@gmail.com" class="weblink">@gmail.com</a> и <a href="mailto:@hotmai.com" class="weblink">@hotmai.com</a> отправлять медленнее чем на остальные домены в списке рассылки).</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">domainName </span>- имя целевого домена, для которого нужно установить скоростной лимит.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">limitSendingThreads </span>- если true то будет введено ограничение на число одновременных соединений (потоков отправки) на MX сервер указанного домена.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">maxSendingThreads </span>- если limitSendingThreads=true - в этом параметре передается число одновременных соединений (потоков отправки), которое нельзя превышать.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">throttleOptions </span>- объект содержит настройки ограничений скорости отправки на указанный домен:</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">throttleEnabled </span>- если true то ограничение скорости включено.</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">msgNumber </span>- максимальное число писем, которые могут быть отправлены за указанное время.</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">perMinutes </span>- число минут за которые может быть отправлено не больше писем, чем указано в параметре msgNumber.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"id":18,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"name":"Example preset",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"deliveryMode":"RelaysOnly",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"commonOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "dnsResolverAttempts":2,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "sendingAttempts":3,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "netTimeout":60,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "maxMessagesPerSmtpSession":2,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "sendingMethod":"PersonalCopy",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "useProxy":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "proxyListID":1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "advancedProxyOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"maxThreadsPerProxy":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"proxyRotationOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enableProxyRotation":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "rotationPoolSize":10,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "rotationPoolSwitchInterval":100,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "syncProxyRotationWithRelaysRoation":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "restartSyncRotationIfAllProxiesUsed":false</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"proxyAutoExclusionOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enableAutoExclusion":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "proxyExclusionMode":"ByNumberOfFailedConnections",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "proxyExclusionValue":50,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "proxyExclusionTime":20</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "useMultiHomeIP":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "muiltiHomeIpList":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  </span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; ],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "heloMode":"Default",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "globalSpeedThrottle":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"throttleEnabled":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"msgNumber":10,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"perSeconds":60</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"relaysOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "relaysList":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "uniqID":"9TMdmnerZUeOpRSdm_lhKA",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "primaryOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"serverName":"smtp.mailserver.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"port":25,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"threads":3,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"bccSize":10,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"authOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enableAuthentication":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "authType":"Auto",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "login":"from@mailserver.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "password":"mailboxpass",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "useLoginAsFromEmail":true</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"sslOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "sslEnabled":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "sslMode":"Auto"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"throttleOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "throttleEnabled":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "msgNumber":25,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "perSeconds":120</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "additionalOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"socksRelayLink":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"customHelo":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"customFromName":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"comment":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"customMsgBodyFileName":""</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "speedThrottleListForTargetDomains":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "domainName":"gmail.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "throttleOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"msgNumber":100,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"perMinutes":5</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ]</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; ],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "advancedRelaysOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"relaysResendingOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enableResendViaRandomRelay":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "resendViaRandomRelayAttempts":2,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enableResendViaBuiltInServer":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "resendViaBuiltInServerAttempts":2</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"relaysAutoExclusionOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enableAutoExclusion":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "excludeOnErrorsCount":5,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "excludeForSeconds":300,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "markRelayAsBadOnExclusionOrAuthErrors":true</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"relaysRotationOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enableRelaysRotation":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "rotationPoolSize":3,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "rotationPoolSwitchInterval":20</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"alwaysUseRelaysForDomains":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "domain1.com"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;]</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "relaysSpeedThrottleForTargetDomains":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"domainsThrottleUsageMode":"ShareBetweenRelays",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"domainsThrottleList":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"domainName":"hotmail.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"throttleOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "msgNumber":100,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "perMinutes":10</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;]</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"builtInServerOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "builtInServerThreads":100,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "maxBccSize":10,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "maxThreadsPerTargetDomain":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "builtInServerResendingOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"enableResendViaRandomRelayOnErrors":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"resendViaRandomRelayAttempts":2</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "alwaysUseBuiltInServerForDomains":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"domain2.com"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; ],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "builtInServerTargetDomainsThrottleList":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "domainName":"yahoo.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "limitSendingThreads":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "maxSendingThreads":3,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "throttleOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"throttleEnabled":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"msgNumber":100,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"perMinutes":10</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; ]</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apitogglerelaysinpreset"></a><span class="f_Heading1">toggleRelaysInPreset</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px; border:solid 1px #000000;"><p>Команда предназначена для включения/выключения одного или множества Smtp аккаунтов профиле отправки. Позволяет выполнить поиск подходящих Smtp более простым способом чем при использовании команды editDeliveryPreset. Сразу после изменения состояния Smtp аккаунтов профиль отправки сохраняется в базу данных. Чтобы запущенные рассылки, использующие данный профиль отправки, увидели изменения - вы можете воспользоваться командой restartRunningMailings</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">presetID</span> - ID профиля отправки, в котором нужно включить или выключить Smtp аккаунты. Обязательный параметр.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">toggleEnabled </span>- включить (true) или выключить (false) Smtp аккаунты. Обязательный параметр.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">relaysUniqIDs </span>- массив с уникальными идентификаторами Smtp аккаунтов, состояние которых нужно изменить. Получить значения uniqID можно с помощью команды getDeliveryPreset или getRelaysSendingStates.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">relaysSmtpNames - </span>массив с именами smtp серверов, состояние которых нужно изменить. Будет выполнен поиск Smtp аккаунтов по полю Имя Smtp сервера по точному или частичному совпадению (см параметр smtpLoginsAndNamesPartialCompare).</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">relaysSmtpLogins</span> - массив с логинами Smtp аккаунтов, состояние которых нужно изменить. Будет выполнен поиск Smtp аккаунтов по полю Логин по точному или частичному совпадению (см параметр smtpLoginsAndNamesPartialCompare).</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">smtpLoginsAndNamesPartialCompare </span>- если true то при поиске значений из массивов relaysSmtpNames и relaysSmtpLogins будет использоваться частичное сравнение (info@some-domain.com содержит some-domain), а если false - до будет использоваться точное совпадение (info@some-domain.com равен <a href="mailto:info@some-domain.com" class="weblink">info@some-domain.com</a>)</p>
<p>&nbsp;</p>
<p>Необходимо передать хотя бы один массив - relaysUniqIDs, и/или relaysSmtpNames, и/или relaysSmtpLogins c хотя бы одним значением. Так же можно передать все массивы и при этом каждый может содержать сколько угодно значений - в этом случае они будут обработаны последовательно.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"toggleRelaysInPreset",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"presetID":1026,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"toggleEnabled":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"smtpLoginsAndNamesPartialCompare":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"relaysUniqIDs":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "GoP5DTIGakmqe3oenX67Cw",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "IyJ6VzTQYkeAnQk2zRqHwA"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"relaysSmtpNames":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "smtp.amazonses.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "some-domain"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"relaysSmtpLogins":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "from@domain.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "some-domain"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"smtpLoginsAndNamesPartialCompare":true</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px; border:solid 1px #000000;"><p>Ответ содержит число Smtp аккаунтов, которые попали под условия поиска и были включены/выключены - matchedRelaysToggled или ошибку.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"matchedRelaysToggled":2</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apiaddamsweblink"></a><span class="f_Heading1">addAmswebLink</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:1288px; padding:0px;"><p>Команда добавляет ссылку на скрипт учета статистики по открытым письмам и кликам в настройки программы.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">url </span>- прямая ссылка на скрипт amsweb.php, установленный на вашем сайте. Обязательный параметр.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">password</span> - пароль доступа к скрипту (который вы задали внутри скрипта amsweb.php). Обязательный параметр.</p>
</td>
<td style="vertical-align:top; width:904px; padding:0px;"><p style="text-align: right;"><img src="./api_amsweblink.png" width="452" height="171" alt="api_amsweblink" style="border:none"></p>
</td>
</tr>
</tbody></table>
</div>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"addAmswebLink",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"url":"https://www.mysite.com/folder/amsweb.php",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"password":"mypass"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит ID добавленной ссылки или ошибку:</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"newResourceID":21</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apieditamsweblink"></a><span class="f_Heading1">editAmswebLink</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда редактирует ссылку на скрипт учета статистики по открытым письмам и кликам amsweb.php </p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id </span>- id ссылки, которую требуется отредактировать. Получить список имеющихся ссылок можно с помощью команды getAmswebLinks</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">url </span>- прямая ссылка на скрипт amsweb.php, установленный на вашем сайте.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">password</span> - пароль доступа к скрипту (который вы задали внутри скрипта amsweb.php).</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"editAmswebLink",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"id":10,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"url":"https://www.new-domain.com/folder/amsweb.php",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"password":"newpass"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит строку "ОК" или ошибку.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":"OK",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apideleteamsweblink"></a><span class="f_Heading1">deleteAmswebLink</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда удаляет ссылку на скрипт учета статистики по открытым письмам и кликам amsweb.php</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id </span>- id ссылки, которую требуется удалить, обязательный параметр. Получить список имеющихся ссылок можно с помощью команды getAmswebLinks.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"deleteAmswebLink",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"id":10</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит строку "ОК" или ошибку.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":"OK",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apigetamsweblinks"></a><span class="f_Heading1">getAmswebLinks</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:1732px; padding:0px;"><p>Команда возвращает список имеющихся ссылок на скрипт учета статистики по открытым письмам и кликам amsweb.php</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API.</p>
</td>
<td style="vertical-align:top; width:460px; padding:0px;"><p style="text-align: right;"><img src="./api_amsweblinks_zoom62.png" width="449" height="307" alt="api_amsweblinks" style="border:none"></p>
</td>
</tr>
</tbody></table>
</div>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"getAmswebLinks",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат содержит массив с имеющимися ссылками на скрипт amsweb.php:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id </span>- id ссылки на amsweb.php</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">url </span>- url ссылки.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">status </span>- текущее состояние ссылки, может содержать ошибку если статистику не удалось получить по каким-то причинам</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "id":9,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "url":"https:\/\/www.mysite.com\/stat\/amsweb.php",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "status":"Statistics received"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "id":11,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "url":"https:\/\/new-domain.com\/folder\/amsweb.php",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "status":"Error: connection refused"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; ],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apiadddkimsignature"></a><span class="f_Heading1">addDkimSignature</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:1795px; padding:0px;"><p>Команда добавляет DKIM подпись для домена.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">enabled </span>- если true - подпись включена. Значение по умолчанию true.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">domain</span> - имя домена, для которого создается подпись. Обязательный параметр.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">privateKey </span>- приватный RSA ключ для DKIM подписи, из нее будет автоматически извлечен и публичный ключ. Если параметр не задан - будет автоматически сгенерирована новая пара RSA ключей.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">selector </span>- имя селектора DKIM подписи, обязательный параметр.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">useInDeliveryMode </span>- параметр определяет в каком режиме рассылки будет использоваться создаваемая DKIM подпись. Возможные значения:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">BuiltInServerOnly</span> - подпись будет использоваться только при рассылке в режиме встроенного Smtp сревера.</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">RemoteRelaysOnly </span>- подпись будет использовать только при рассылке через smtp сервера (релеи).</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">AnyDeliveryMode </span>- подпись будет использоваться при любых режимах рассылки. Значение по умолчанию.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p><span style="font-weight: bold;">signatureAppearance </span>- опциональный объект, в котором вы можете задать внешний вид подписи (чтобы по ее виду нельзя было определить, что она была создана в программе рассылки AMS).</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">signatureAppearance.lineBreaksInSignature </span>- параметр определяет, будет ли подпись содержать переносы строк или она будет выглядеть как одна длинная строка. Возможные значения:</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">Enabled </span>- переносы разрешены, значение по умолчанию.</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">Disabled </span>- переносы запрещены</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">Random </span>- для каждого письма включение/выключение переносов будет выбираться случайным образом.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">signatureAppearance.dkimTagsMode </span>- параметр определяет набор и порядок следования DKIM тэгов в подписи. Возможные значения:</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">Default </span>- используется набор и порядок тегов по умлочанию</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">Random </span>- для каждого письма используется случайный набор и порядок тегов в DKIM подписи.</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">Custom </span>- используется набор и порядок DKIM тэгов заданный пользователем в массиве customTags. Некоторые тэги обязательно должны быть включены, а некоторые опциональны. Используйте с осторожностью ! Рекомендуется задать нужный набор тэгов в интерфейсе AMS, получить json представление подписи с помощью команды getDkimSignature и использовать полученный массив customTags как образец при создании ваших подписей с желаемыми настройками.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">customTags</span> - пользовательский набор DKIM тэгов для подписи. Тэги используются в том порядке, как заданы в этом массиве.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">customTags.tagName </span>- имя DKIM тэга.</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">customTags.enabled </span>- если true тэг включен.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
</td>
<td style="vertical-align:top; width:397px; padding:0px;"><p style="text-align: right;"><img src="./api_adddkim_zoom65.png" width="395" height="347" alt="api_adddkim" style="border:none"><img src="./api_dkimopts_zoom59.png" width="395" height="364" alt="api_dkimopts" style="border:none"></p>
</td>
</tr>
</tbody></table>
</div>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"addDkimSignature",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"enabled":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"domain":"my-domain.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;; word-break:break-all;"> &nbsp; &nbsp; &nbsp;"privateKey":"-----BEGIN RSA PRIVATE KEY-----\r\nMIICWwIBAAKBgQCj3eOUrvB\/dfhv6ZkeXIZKmvG6XCRoUWKi26BZ\/YITDPFwqtxd\r\nr141oyv+i9bBqXa6iz6+RHErqTu2xqlpRqn+BQp\/bqnTCNHb+6fECKACtkHQWVeE\r\nwsZIKVtCiKDG407S8lVXZO0JJyp1wHgz6M031fYghMBM5esGPrvMi9qVSQIDAQAB\r\nAoGAeYfOCm54JT\/8AhwQmIjsfBZQIvPFeKyrZ7dVRIiUWManpfTCPKUcTNF4hm91\r\n1el2CcHNxdUCzevUQqkx6ccjuPZz9GCx5I3a5GSJXayrCrtOuRc6+c+cBjUrKMqi\r\nLceeZYewT3fukXGCm+x\/qHEUIjT\/bP4Npqe1pvw0S7JHSNECQQDPvqpTiMcSCtsp\r\nYAbFGW+ad3u7u2+k8sK4tHM4yKR86+Tq5mBbadZ\/CK+YfeF4i1N+aw7fN3y50mN6\r\nY9U37\/N9AkEAye4Pg1Q2vPm7r2i27W2qRqkxriRtgNs06aRZsQZe6F+wmaUPnIis\r\nbER8eJMp9Uga\/xOFEbrd09on1lAeb+e6vQJAQrHDnO3cez5g\/feGNODlo4GYh7y1\r\nKw+E1CealjBUHobdB0zOwopIAqCXPy2qpTiVpZBZRfBaao3Qwgoq+bpfQQJABQgS\r\niOIzTvgmDhPc4wOlh4c1vrIXrGtJ4TyAI6IWAVJJEzsCrZLWQQhf1Z1NIVh\/m7V\/\r\nzlZKqrm33mY2q\/EpPQJARUrduKkT5GdEOpwZeXC404nYGO2FaTYzs6qej+aKiv+x\r\nI\/vldM4vc2u5WjYy+cMbq88MXVBYA8eCYwX5ic3Byw==\r\n-----END RSA PRIVATE KEY-----\r\n",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"selector":"mail",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"useInDeliveryMode":"AnyDeliveryMode",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"signatureAppearance":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "lineBreaksInSignature":"Random",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "dkimTagsMode":"Custom",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "customTags":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"b",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"bh",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"a",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"d",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"i",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":false</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"s",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"c",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"x",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"q",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"t",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"h",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"v",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; ]</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит ID добавленной DKIM подписи или ошибку:</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"newResourceID":21</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apieditdkimsignature"></a><span class="f_Heading1">editDkimSignature</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда редактирует DKIM подпись</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id </span>- id подписи, которую нужно отредактировать. Обязательный параметр. Список имеющихся подписей можно получить с помощью команды getDkimSignatures</p>
<p>&nbsp;</p>
<p>Все остальные параметры могут быть такими же как и у команды addDkimSignature, но не обязательно передавать их все если нужно изменить только какую-то конкретную настройку. Например, если вы хотите только изменить имя селектора DKIM подписи - достаточно будет передать параметр selector и больше ничего. Те объекты, которые не передавались в параметрах команды - останутся без изменений.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p>{</p>
<p> &nbsp; "jsonrpc":"2.0",</p>
<p> &nbsp; "method":"editDkimSignature",</p>
<p> &nbsp; "params":{</p>
<p> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</p>
<p> &nbsp; &nbsp; &nbsp;"id":1,</p>
<p> &nbsp; &nbsp; &nbsp;"enabled":true,</p>
<p> &nbsp; &nbsp; &nbsp;"domain":"new-domain.com",</p>
<p><span style="font-family: &#39;Courier New&#39;; word-break:break-all;"> &nbsp; &nbsp; &nbsp;"privateKey":"-----BEGIN RSA PRIVATE KEY-----\r\nMIICWwIBAAKBgQCj3eOUrvB\/dfhv6ZkeXIZKmvG6XCRoUWKi26BZ\/YITDPFwqtxd\r\nr141oyv+i9bBqXa6iz6+RHErqTu2xqlpRqn+BQp\/bqnTCNHb+6fECKACtkHQWVeE\r\nwsZIKVtCiKDG407S8lVXZO0JJyp1wHgz6M031fYghMBM5esGPrvMi9qVSQIDAQAB\r\nAoGAeYfOCm54JT\/8AhwQmIjsfBZQIvPFeKyrZ7dVRIiUWManpfTCPKUcTNF4hm91\r\n1el2CcHNxdUCzevUQqkx6ccjuPZz9GCx5I3a5GSJXayrCrtOuRc6+c+cBjUrKMqi\r\nLceeZYewT3fukXGCm+x\/qHEUIjT\/bP4Npqe1pvw0S7JHSNECQQDPvqpTiMcSCtsp\r\nYAbFGW+ad3u7u2+k8sK4tHM4yKR86+Tq5mBbadZ\/CK+YfeF4i1N+aw7fN3y50mN6\r\nY9U37\/N9AkEAye4Pg1Q2vPm7r2i27W2qRqkxriRtgNs06aRZsQZe6F+wmaUPnIis\r\nbER8eJMp9Uga\/xOFEbrd09on1lAeb+e6vQJAQrHDnO3cez5g\/feGNODlo4GYh7y1\r\nKw+E1CealjBUHobdB0zOwopIAqCXPy2qpTiVpZBZRfBaao3Qwgoq+bpfQQJABQgS\r\niOIzTvgmDhPc4wOlh4c1vrIXrGtJ4TyAI6IWAVJJEzsCrZLWQQhf1Z1NIVh\/m7V\/\r\nzlZKqrm33mY2q\/EpPQJARUrduKkT5GdEOpwZeXC404nYGO2FaTYzs6qej+aKiv+x\r\nI\/vldM4vc2u5WjYy+cMbq88MXVBYA8eCYwX5ic3Byw==\r\n-----END RSA PRIVATE KEY-----\r\n",</span></p>
<p> &nbsp; &nbsp; &nbsp;"selector":"new-selector",</p>
<p> &nbsp; &nbsp; &nbsp;"useInDeliveryMode":"AnyDeliveryMode",</p>
<p> &nbsp; &nbsp; &nbsp;"signatureAppearance":{</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; "lineBreaksInSignature":"Random",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; "dkimTagsMode":"Custom",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; "customTags":[</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"b",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"bh",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"a",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"d",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"i",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":false</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"s",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"c",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"x",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"q",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"t",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"h",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"v",</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; ]</p>
<p> &nbsp; &nbsp; &nbsp;}</p>
<p> &nbsp; },</p>
<p> &nbsp; "id":"1"</p>
<p>}</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит строку "ОК" или ошибку.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":"OK",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apideletedkimsignature"></a><span class="f_Heading1">deleteDkimSignature</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда удаляет DKIM подпись.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id </span>- id DKIM подписи, которую требуется удалить, обязательный параметр. Получить список имеющихся подписей можно с помощью команды getDkimSignatures.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"deleteDkimSignature",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"id":2</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит строку "ОК" или ошибку.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":"OK",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apigetdkimsignatures"></a><span class="f_Heading1">getDkimSignatures</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:1591px; padding:0px;"><p>Команда возвращает список имеющихся DKIM подписей.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API</p>
</td>
<td style="vertical-align:top; width:601px; padding:0px;"><p style="text-align: right;"><img src="./api_dkimlist_zoom85.png" width="596" height="295" alt="api_dkimlist" style="border:none"></p>
</td>
</tr>
</tbody></table>
</div>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"getDkimSignatures",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат содержит массив с имеющимися DKIM подписями:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id </span>- id DKIM подписи</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">enabled </span>- если true то DKIM подпись включена.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">domain </span>- домен, для которого эта подпись.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">selector </span>- имя селектора DKIM подписи</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">useInDeliveryMode </span>- режим рассылки, для которого будет использоваться данная подпись. Возможные значения:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">BuiltInServerOnly</span> - подпись будет использоваться только при рассылке в режиме встроенного Smtp сревера.</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">RemoteRelaysOnly </span>- подпись будет использовать только при рассылке через smtp сервера (релеи).</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">AnyDeliveryMode </span>- подпись будет использоваться при любых режимах рассылки. </p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "id":1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "domain":"my-domain.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "selector":"mail",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "useInDeliveryMode":"AnyDeliveryMode"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "id":2,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "domain":"domain2.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "selector":"newdkim",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "useInDeliveryMode":"BuiltInServerOnly"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; ],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apigetdkimsignature"></a><span class="f_Heading1">getDkimSignature</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда возвращает подробную информацию о DKIM подписи</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id </span>- id DKIM подписи, информацию о которой нужно получить, обязательный параметр. Получить список имеющихся подписей можно с помощью команды getDkimSignatures.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"getDkimSignature",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат содержит объект с JSON представлением настроек нужной подписи. Данный объект можно использовать как образец для команд addDkimSignature, editDkimSignature:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id </span>- id DKIM подписи</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">enabled </span>- если true - подпись включена. Значение по умолчанию true.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">domain</span> - имя домена, для которого создается подпись. Обязательный параметр.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">publicKey </span>- публичный RSA ключ DKIM подписи.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">privateKey </span>- приватный RSA ключ для DKIM подписи, из нее будет автоматически извлечен и публичный ключ. Если параметр не задан - будет автоматически сгенерирована новая пара RSA ключей.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">selector </span>- имя селектора DKIM подписи, обязательный параметр.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">dnsRecord </span>- данные для размещения публичного ключа DKIM подписи в виде TXT записи в DNS зоне вашего домена.</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">dnsRecord.recordName</span> - имя TXT записи для DKIM.</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">dnsRecord.recordValue</span> - содержимое TXT записи.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">useInDeliveryMode </span>- параметр определяет в каком режиме рассылки будет использоваться создаваемая DKIM подпись. Возможные значения:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">BuiltInServerOnly</span> - подпись будет использоваться только при рассылке в режиме встроенного Smtp сревера.</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">RemoteRelaysOnly </span>- подпись будет использовать только при рассылке через smtp сервера (релеи).</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">AnyDeliveryMode </span>- подпись будет использоваться при любых режимах рассылки. Значение по умолчанию.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p><span style="font-weight: bold;">signatureAppearance </span>- опциональный объект, в котором вы можете задать внешний вид подписи (чтобы по ее виду нельзя было определить, что она была создана в программе рассылки AMS).</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">signatureAppearance.lineBreaksInSignature </span>- параметр определяет, будет ли подпись содержать переносы строк или она будет выглядеть как одна длинная строка. Возможные значения:</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">Enabled </span>- переносы разрешены, значение по умолчанию.</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">Disabled </span>- переносы запрещены</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">Random </span>- для каждого письма включение/выключение переносов будет выбираться случайным образом.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">signatureAppearance.dkimTagsMode </span>- параметр определяет набор и порядок следования DKIM тэгов в подписи. Возможные значения:</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">Default </span>- используется набор и порядок тегов по умлочанию</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">Random </span>- для каждого письма используется случайный набор и порядок тегов в DKIM подписи.</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">Custom </span>- используется набор и порядок DKIM тэгов заданный пользователем в массиве customTags. Некоторые тэги обязательно должны быть включены, а некоторые опциональны. Используйте с осторожностью ! Рекомендуется задать нужный набор тэгов в интерфейсе AMS, получить json представление подписи с помощью команды getDkimSignature и использовать полученный массив customTags как образец при создании ваших подписей с желаемыми настройками.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">customTags</span> - пользовательский набор DKIM тэгов для подписи. Тэги используются в том порядке, как заданы в этом массиве.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">customTags.tagName </span>- имя DKIM тэга.<br>
<span style="font-weight: bold;">customTags.requiredTag </span>- если true то этот тэг обязателен для формирования dkim подписи.</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">customTags.enabled </span>- если true тэг включен.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"id":1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"enabled":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"domain":"my-domain.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;; word-break:break-all;"> &nbsp; &nbsp; &nbsp;"publicKey":"-----BEGIN PUBLIC KEY-----\r\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCj3eOUrvB\/dfhv6ZkeXIZKmvG6\r\nXCRoUWKi26BZ\/YITDPFwqtxdr141oyv+i9bBqXa6iz6+RHErqTu2xqlpRqn+BQp\/\r\nbqnTCNHb+6fECKACtkHQWVeEwsZIKVtCiKDG407S8lVXZO0JJyp1wHgz6M031fYg\r\nhMBM5esGPrvMi9qVSQIDAQAB\r\n-----END PUBLIC KEY-----\r\n",</span></p>
<p><span style="font-family: &#39;Courier New&#39;; word-break:break-all;"> &nbsp; &nbsp; &nbsp;"privateKey":"-----BEGIN RSA PRIVATE KEY-----\r\nMIICWwIBAAKBgQCj3eOUrvB\/dfhv6ZkeXIZKmvG6XCRoUWKi26BZ\/YITDPFwqtxd\r\nr141oyv+i9bBqXa6iz6+RHErqTu2xqlpRqn+BQp\/bqnTCNHb+6fECKACtkHQWVeE\r\nwsZIKVtCiKDG407S8lVXZO0JJyp1wHgz6M031fYghMBM5esGPrvMi9qVSQIDAQAB\r\nAoGAeYfOCm54JT\/8AhwQmIjsfBZQIvPFeKyrZ7dVRIiUWManpfTCPKUcTNF4hm91\r\n1el2CcHNxdUCzevUQqkx6ccjuPZz9GCx5I3a5GSJXayrCrtOuRc6+c+cBjUrKMqi\r\nLceeZYewT3fukXGCm+x\/qHEUIjT\/bP4Npqe1pvw0S7JHSNECQQDPvqpTiMcSCtsp\r\nYAbFGW+ad3u7u2+k8sK4tHM4yKR86+Tq5mBbadZ\/CK+YfeF4i1N+aw7fN3y50mN6\r\nY9U37\/N9AkEAye4Pg1Q2vPm7r2i27W2qRqkxriRtgNs06aRZsQZe6F+wmaUPnIis\r\nbER8eJMp9Uga\/xOFEbrd09on1lAeb+e6vQJAQrHDnO3cez5g\/feGNODlo4GYh7y1\r\nKw+E1CealjBUHobdB0zOwopIAqCXPy2qpTiVpZBZRfBaao3Qwgoq+bpfQQJABQgS\r\niOIzTvgmDhPc4wOlh4c1vrIXrGtJ4TyAI6IWAVJJEzsCrZLWQQhf1Z1NIVh\/m7V\/\r\nzlZKqrm33mY2q\/EpPQJARUrduKkT5GdEOpwZeXC404nYGO2FaTYzs6qej+aKiv+x\r\nI\/vldM4vc2u5WjYy+cMbq88MXVBYA8eCYwX5ic3Byw==\r\n-----END RSA PRIVATE KEY-----\r\n",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"selector":"mail",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"dnsRecord":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "recordName":"mail._domainkey.my-domain.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;; word-break:break-all;"> &nbsp; &nbsp; &nbsp; &nbsp; "recordValue":"v=DKIM1;t=s;p=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCj3eOUrvB\/dfhv6ZkeXIZKmvG6XCRoUWKi26BZ\/YITDPFwqtxdr141oyv+i9bBqXa6iz6+RHErqTu2xqlpRqn+BQp\/bqnTCNHb+6fECKACtkHQWVeEwsZIKVtCiKDG407S8lVXZO0JJyp1wHgz6M031fYghMBM5esGPrvMi9qVSQIDAQAB"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"useInDeliveryMode":"AnyDeliveryMode",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"signatureAppearance":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "lineBreaksInSignature":"Random",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "dkimTagsMode":"Custom",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "customTags":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"b",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "requiredTag":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"bh",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "requiredTag":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"a",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "requiredTag":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"d",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "requiredTag":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"i",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "requiredTag":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":false</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"s",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "requiredTag":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"c",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "requiredTag":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"x",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "requiredTag":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"q",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "requiredTag":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"t",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "requiredTag":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"h",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "requiredTag":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tagName":"v",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "requiredTag":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enabled":true</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; ]</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apiaddpostmasteraccount"></a><span class="f_Heading1">addPostmasterAccount</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:1704px; padding:0px;"><p>Команда добавляет новый аккаунт сервиса postmaster.mail.ru, который может использоваться рассылками для контроля доставляемости писем, а так же автоматической остановки рассылки если письма стали идти в Спам.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">accountName </span>- желаемое имя аккаунта, обязательный параметр.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">refreshToken</span> - refresh токен для получения доступа к статистики postmaster.mail.ru. Обязательный параметр. Получить refresh токен можно на этой странице: <a href="https://help.mail.ru/postmaster/api#authorization" target="_blank" class="weblink">https://help.mail.ru/postmaster/api#authorization</a></p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">useProxy </span>- если true - использовать прокси для получения статистики с postmaster.mail.ru</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">proxyListID </span>- id прокси листа с прокси, которые будут использованы для получения статистики. Получить список имеющихся прокси листов можно с помощью команды getProxyLists</p>
</td>
<td style="vertical-align:top; width:488px; padding:0px;"><p style="text-align: right;"><img src="./api_addpostmaster.png" width="486" height="203" alt="api_addpostmaster" style="border:none"></p>
</td>
</tr>
</tbody></table>
</div>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"addPostmasterAccount",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"accountName":"My account",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"refreshToken":"8cad56e3bf57f7aab9a7dc54dcf5467b4df9085a3537363331",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"useProxy":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"proxyListID":12</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит ID добавленного аккаунта postmaster.mail.ru подписи или ошибку:</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"newResourceID":21</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apieditpostmasteraccount"></a><span class="f_Heading1">editPostmasterAccount</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда редактирует аккаунт postmater.mail.ru</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id </span>- id аккаунта, который нужно отредактировать. Получить список имеющихся аккаунтов можно с помощью команды getPostmasterAccounts.</p>
<p>&nbsp;</p>
<p>Все остальные параметры могут быть такими же как и у команды addPostmasterAccount, но не обязательно передавать их все если нужно изменить только какую-то конкретную настройку. Например, если вы хотите только изменить имя аккаунта - достаточно будет передать параметр accountName и больше ничего. Те объекты, которые не передавались в параметрах команды - останутся без изменений.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"editPostmasterAccount",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"id":7,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"accountName":"New account name",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"refreshToken":"8cad56e3bf57f7aab9a7dc54dcf5467b4df9085a3537363331",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"useProxy":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"proxyListID":12</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит строку "ОК" или ошибку.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":"OK",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apideletepostmasteraccount"></a><span class="f_Heading1">deletePostmasterAccount</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда удаляет аккаунт postmaster.mail.ru</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id </span>- id аккаунта, который нужно удалить. Получить список имеющихся аккаунтов можно с помощью команды getPostmasterAccounts.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"deletePostmasterAccount",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"id":7</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит строку "ОК" или ошибку.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":"OK",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apigetpostmasteraccounts"></a><span class="f_Heading1">getPostmasterAccounts</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:1656px; padding:0px;"><p>Команда возвращает список имеющихся аккаунтов postmaster.mail.ru</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API</p>
</td>
<td style="vertical-align:top; width:536px; padding:0px;"><p style="text-align: right;"><img src="./api_getpostmasteraccs_zoom61.png" width="537" height="218" alt="api_getpostmasteraccs" style="border:none"></p>
</td>
</tr>
</tbody></table>
</div>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"getPostmasterAccounts",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат содержит массив с имеющимися аккаунтами postmaster.mail.ru:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id </span>- id аккаунта postmaster.mail.ru</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">accountName </span>- имя аккаунта</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">status </span>- состояние обмена данными с сервисом postmaster.mail.ru или ошибка</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">useProxy </span>- если true то для приема данных используется прокси.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">proxyListID </span>- id прокси листа, чьи прокси используются для приема данных.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">lastUpdateTime </span>- дата/время последнего сеанса связи с сервисом postmaster.mail.ru</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">domains </span>- массив с доменами, которые привязаны к этому аккаунту в сервисе postmaster.mail.ru</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "id":4,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "accountName":"My account",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "status":"Statistics received 13:13:43, 08.03.2024",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "useProxy":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "proxyListID":921,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "lastUpdateTime":"2024-03-08T13:13:43.472",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "domains":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"domain1.ru",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"domain2.ru",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"domain3.ru"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; ]</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "id":6,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "accountName":"new account",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "status":"Statistics received 13:13:27, 08.03.2024",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "useProxy":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "proxyListID":1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "lastUpdateTime":"2024-03-08T13:13:27.512",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "domains":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"domain4.ru",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"domain5.ru"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; ]</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; ],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apiaddproxylist"></a><span class="f_Heading1">addProxyList</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:1766px; padding:0px;"><p>Команда создает список прокси.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">proxyListName</span> - желаемое имя списка прокси, обязательный параметр.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">connectMode </span>- режим соединения, который будет использоваться для прокси в этом списки. Возможные значения:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">Normal </span>- обычный режим соединения (прокси передается имя целевого хоста и преобразования имя хоста-&gt;IP выполняет прокси).</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">Fast </span>- быстрый режим соединения (преобразование имя хоста-&gt;IP выполняет AMS и прокси передается уже IP целевого хоста). Значение по умолчанию.</p>
</td>
<td style="vertical-align:top; width:426px; padding:0px;"><p style="text-align: right;"><img src="./api_addproxylist.png" width="414" height="180" alt="api_addproxylist" style="border:none"></p>
</td>
</tr>
</tbody></table>
</div>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"addProxyList",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"proxyListName":"My proxy list",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"connectMode":"Fast"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит ID добавленного списка прокси или ошибку:</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"newResourceID":21</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apieditproxylist"></a><span class="f_Heading1">editProxyList</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда редактирует параметры списка прокси.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id </span>- id списка прокси, который нужно отредактировать. Получить список имеющихся списков прокси можно с помощью команды getProxyLists</p>
<p>&nbsp;</p>
<p>Все остальные параметры могут быть такими же как и у команды addProxyList, но не обязательно передавать их все если нужно изменить только какую-то конкретную настройку. Например, если вы хотите только изменить имя списка прокси - достаточно будет передать параметр proxyListName и больше ничего. Те объекты, которые не передавались в параметрах команды - останутся без изменений.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"editProxyList",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"id":3,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"proxyListName":"New list name",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"connectMode":"Normal"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит строку "ОК" или ошибку.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":"OK",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apideleteproxylist"></a><span class="f_Heading1">deleteProxyList</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда удаляет список прокси.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id </span>- id списка прокси, который нужно удалить. Получить список имеющихся списков прокси можно с помощью команды getProxyLists. Нельзя удалить список прокси, который используется в запущенных рассылках !</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"deleteProxyList",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"id":3</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит строку "ОК" или ошибку.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":"OK",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apiupdateproxylist"></a><span class="f_Heading1">updateProxyList</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда задает содержимое списка прокси (т.е. позволяет загрузить прокси в список).</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id </span>- id списка прокси, содержимое которого нужно задать, обязательный параметр.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">allowDuplicates </span>- если true - разрешает добавление дубликатов прокси в целевой список. Значение по умолчанию false.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">updateMode </span>- режим добавления прокси в список. Возможные значения:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">Append </span>- новые прокси будут добавлены в конец целевого списка. Значение по умолчанию.</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">Overwrite </span>- перед загрузкой новых прокси целевой список будет очищен (из него будут удалены все прокси, которые там есть на момент вызова команды).</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p><span style="font-weight: bold;">proxies </span>- массив с прокси, которые нужно загрузить в список. Обязательный параметр.</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">enabled </span>- если true - прокси включен и будет использован в рассылках. По умолчанию true.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">ip </span>- ip адрес прокси. Должен быть в виде IPv4 или IPv6. Имена хостов не поддерживаются. Обязательный параметр.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">outIp</span> - если выходной IP прокси отличается от входного и при этом вы его знаете - вы можете передать выходной IP в этом параметре. Если прокси содержит выходной IP - он будет использован во время проверки прокси по RBL блок-листам.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">port</span> - номер порта прокси. Обязательный параметр.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">type </span>- тип прокси, обязательный параметр. Возможные значения:</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">Socks5 </span>- прокси типа Socks5</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">Http </span>- это http прокси (туннель)</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">Ssh </span>- это ssh туннель. Для работы прокси в режиме ssh туннеля - порт прокси должен быть 22 или 222 или 2222 или 22222.</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">Auto </span>- тип прокси будет определен автоматически во время проверки.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">host </span>- имя хоста (содержимое PTR записи), привязанное к IP адресу прокси. Если задан - будет использоваться в качестве аргумента Smtp команды HELO во время рассылки (если в профиле отправки выбрана опция HELO "Использовать имена хостов прокси")</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">comment </span>- любая пользовательская строка, которую можно подставить в любое место письма с помощью макроса [%%PProxyComment%%]</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">authOptions </span>- если прокси требует авторизацию по логину-паролю вы можете передать их в этом объекте:</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">enableAuthentication </span>- значение должно быть true если прокси требует авторизацию.</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">login </span>- логин прокси.</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">password</span> - пароль прокси.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">throttleOptions </span>- если требуется ограничить скорость отправки через этот прокси - вы можете передать в этом объекте настройки скоростного лимита:</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">throttleEnabled </span>- если true то ограничение скорости включено.</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">msgNumber </span>- число писем, которые можно отправить за заданный период времени.</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">perSeconds </span>- число секунд, в течении которых должно быть отправлено не больше писем, чем указано в параметре msgNumber.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"updateProxyList",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"id":1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"updateMode":"Append",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"allowDuplicates":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"proxies":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; {</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"enabled":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"ip":"125.46.24.62",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"outIp":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"port":1080,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"type":"Socks5",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"host":"some.host.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"comment":"my test comment",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"authOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enableAuthentication":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "login":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "password":""</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"throttleOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "throttleEnabled":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "msgNumber":1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "perSeconds":5</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; {</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"enabled":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"ip":"123.16.44.12",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"outIp":"66.22.14.41",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"port":22345,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"type":"Socks5",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"host":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"comment":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"authOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enableAuthentication":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "login":"user",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "password":"pass"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"throttleOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "throttleEnabled":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "msgNumber":100,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "perSeconds":5000</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;]</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат содержит число добавленных прокси и, если параметр allowDuplicates=false, число обнаруженных дубликатов:</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"recordsAdded":1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"duplicatesFound":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apigetproxylists"></a><span class="f_Heading1">getProxyLists</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда возвращает список имеющихся списков прокси.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"getProxyLists",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; height:14px; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит массив с имеющимися списками прокси:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id </span>- id списка прокси.</p>
<p><span style="font-weight: bold;">name </span>- имя списка прокси.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "id":1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "name":"Default proxy list"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "id":2,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "name":"My proxy list"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; ],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apigetproxylist"></a><span class="f_Heading1">getProxyList</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда возвращает подробную информацию о списке прокси, а так же его содержимое.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id </span>- id списка прокси, информацию и содержимое которого нужно получить.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"getProxyList",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит информацию о списке прокси и его содержимое:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">id -</span> id списка прокси.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">proxyListName </span>- имя списка прокси.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">connectionMode </span>- режим соединения, который будет использоваться для прокси в этом списки. Возможные значения:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">Normal </span>- обычный режим соединения (прокси передается имя целевого хоста и преобразования имя хоста-&gt;IP выполняет прокси).</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">Fast </span>- быстрый режим соединения (преобразование имя хоста-&gt;IP выполняет AMS и прокси передается уже IP целевого хоста). Значение по умолчанию.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p><span style="font-weight: bold;">proxies </span>- массив с прокси, который содержит список прокси.</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">enabled </span>- если true - прокси включен.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">ip </span>- ip адрес прокси. </p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">outIp</span> - выходной IP прокси, если известен.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">port</span> - номер порта прокси.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">type </span>- тип прокси, возможные значения:</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">Socks5 </span>- прокси типа Socks5</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">Http </span>- это http прокси (туннель)</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">Ssh </span>- это ssh туннель. </p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">Auto </span>- тип прокси будет определен автоматически во время проверки.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">host </span>- имя хоста (содержимое PTR записи), привязанное к IP адресу прокси.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">comment </span>- любая пользовательская строка, которую можно подставить в любое место письма с помощью макроса [%%PProxyComment%%]</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">authOptions </span>- объект с настройками авторизации прокси:</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">enableAuthentication </span>- если true то авторизация включена.</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">login </span>- логин прокси.</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">password</span> - пароль прокси.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">throttleOptions </span>- объект с настройками ограничения скорости отправки через прокси.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">throttleEnabled </span>- если true то ограничение скорости включено.</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">msgNumber </span>- число писем, которые можно отправить за заданный период времени.</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">perSeconds </span>- число секунд, в течении которых должно быть отправлено не больше писем, чем указано в параметре msgNumber.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"id":"1",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"proxyListName":"Default proxy list",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"connectMode":"Fast",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"proxies":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; {</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"enabled":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"ip":"123.16.44.12",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"outIp":"66.22.14.41",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"port":22345,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"type":"Socks5",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"host":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"comment":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"checkResult":"Unknown",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"rblCheckResult":"Unchecked",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"authOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enableAuthentication":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "login":"user",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "password":"pass"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"throttleOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "throttleEnabled":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "msgNumber":100,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "perSeconds":5000</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; {</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"enabled":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"ip":"125.46.24.62",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"outIp":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"port":1080,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"type":"Socks5",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"host":"some.host.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"comment":"my test comment",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"checkResult":"Unknown",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"rblCheckResult":"Unchecked",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"authOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "enableAuthentication":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "login":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "password":""</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"throttleOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "throttleEnabled":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "msgNumber":1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "perSeconds":5</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;]</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apigetrelayssendingstates"></a><span class="f_Heading1">getRelaysSendingStates</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="border:none; border-spacing:0px;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:1668px; padding:0px;"><p>Команда возвращает состояния Smtp серверов у активной рассылки.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">mailingID </span>- id рассылки, у которой запрашиваются состояния Smtp серверов. Обязательный параметр. Получить список рассылок можно с помощью команды getMailings. Запросить состояния Smtp серверов можно только у работающих рассылок, у которых state=working</p>
</td>
<td style="vertical-align:top; width:524px; padding:0px;"><p style="text-align: right;"><img src="./api_getrelayssendingstate_zoom68.png" width="520" height="288" alt="api_getrelayssendingstate" style="border:none"></p>
</td>
</tr>
</tbody></table>
</div>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p>{</p>
<p> &nbsp; "jsonrpc":"2.0",</p>
<p> &nbsp; "method":"getRelaysSendingStates",</p>
<p> &nbsp; "params":{</p>
<p> &nbsp; &nbsp; &nbsp;"apiKey":"B62ABC84-BA11-4DA9-BD1A-9F975B55DC8D",</p>
<p> &nbsp; &nbsp; &nbsp;"mailingID":186</p>
<p> &nbsp; },</p>
<p> &nbsp; "id":"1"</p>
<p>}</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат содержит массив с Smtp серверами и их состояниями, используемыми в заданной рассылке:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">relayInfo </span>- объект с информацией о релее.</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">id </span>- текущий индекс релея в рассылки. При следующем запуске рассылки у релея может быть другой id если список релеев в профиле отправки редактировался. Т.е. этот id является валидным только пока работает рассылка.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">uniqID </span>- уникальный, постоянный ID релея, который не меняется при редактировании профиля отправки.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">serverName </span>- имя smtp сервера.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">serverPort </span>- порт smtp сервера.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">sslOptions </span>- объект с настройками SSL/TLS соединения у этого smtp сервера.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">sslEnabled </span>- если true то поддержка SSL/TLS включена.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">sslMode </span>- режим ssl/tls соединения, возможные значения:</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">Auto </span>- режим выбирается автоматически в зависимости от номера порта и ответа smtp команды EHLO.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">SslConnection </span>- режим ssl соединение, обычно когда номер порта 465.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">StartTls </span>- защищенное соединение устанавливаться с помощью команды Smtp STARTTLS.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">login</span> - логин smtp сервера.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">socksRelayLink </span>- если включена жесткая связка Smtp сервера с некоторым прокси - здесь будет IP этого прокси.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">customFromName </span>- кастомное имя отправителя (для поля From:), связанное с этим smtp сервером.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">comment </span>- пользовательский комментарий, заданный для этого smtp сервера.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">customBodyFile - </span>если для этого smtp сервера используется кастомное тело письма (с помощью макроса [%%OMessageBodyByRelay%%] - в этом поле будет имя файла с кастомным телом письма.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">speedThrottle </span>- в этом объекте хранятся настройки ограничения скорости рассылки для этого smtp сервера.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">throttleEnabled </span>- если true то ограничение скорости включено.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">msgNumber </span>- число писем, которое может быть отправлено за заданный период времени.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">perSeconds </span>- интервал в секундах, за который может быть отправлено не больше писем чем указано в параметре msgNumber.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">sendingState </span>- объект, в котором хранится статистика отправки и прогресс для этого smtp сервера.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">sent </span>- число писем, который отправил данный smtp сервер с последнего перезапуска рассылки с начала (или с последнего запуска рассылки если в окне Настройки-&gt;Доп. настройки не включено сохранение состояний релеев при остановке рассылки).</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">errors </span>- число ошибок отправки у данного smtp сервера с последнего перезапуска рассылки с начала (или с последнего запуска рассылки если в окне Настройки-&gt;Доп. настройки не включено сохранение состояний релеев при остановке рассылки).</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">errorsInRow </span>- число ошибок отправки подряд. При успешной отправки письма это число сбрасывается в 0. Таким образом, если в этом параметре больше число - данный smtp сервер уже давно не может ничего отправить.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">lastDeliveryErrors </span>- последние ошибки отправки у этого smtp сервера.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">errorTime </span>- дата/время возникновения ошибки доставки.</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">error </span>- текст ошибки.</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">toDomain </span>- на какой домен получателя выполнялась отправка когда произошла ошибка.</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">fromDomain </span>- с какого домена (имеется ввиду домен обратного (From:) адреса) была отправка когда произошла ошибка.</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">enabled </span>- если true то smtp сервер включен и отправляет письма.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">excluded </span>- если true то smtp сервер временно исключен из рассылки из-за множества ошибок доставки (настройка автоматического исключения задается в Профиле отправки или задается вручную с помощью команды changeRelaySendingOption).</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">inThrottlePause </span>- если true то smtp сервер находится в состоянии паузы из-за включенного ограничения скорости отправки.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">throttleSecondsleft </span>- сколько еще секунд smtp сервер будет находится в состоянии паузы из-за включенного ограничения скорости отправки.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">rotationState </span>- объект содержит информацию о состоянии ротации этого smtp сервера.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">rotationEnabled </span>- если true то ротация smtp серверов включена.</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">inActiveRotationPool -</span> если true то smtp сервер находится в активном пуле ротации и отправляет письма.</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 96px;"><span style="font-weight: bold;">waitingForRotation </span>- если true то smtp сервер ожидает когда до него дойдет очередь ротации.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "relayInfo":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"id":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"uniqID":"NjqNWkP2BkarFD1R4OvFzg",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"serverName":"smtp.my-domain.ru",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"serverPort":587,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"sslOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "sslEnabled":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "sslMode":"Auto"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"login":"pmtauser:::from@my-domain.ru",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"socksRelayLink":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"customFromName":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"customHelo":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"comment":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"customBodyFile":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"speedThrottle":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "throttleEnabled":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "msgNumber":11,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "perSeconds":2</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "sendingState":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"sent":21190,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"errors":7,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"errorsInRow":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"lastDeliveryErrors":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"errorTime":"2024-03-08T17:09:49.191",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"error":"500 mail.mydomain.ru says invalid EHLO argument",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"toDomain":"gmail.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"fromDomain":"mydomain.ru"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"errorTime":"2024-03-08T17:09:49.191",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"error":"550 to many recipients",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"toDomain":"gmail.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"fromDomain":"mydomain.ru"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"enabled":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"excluded":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"excludeSecondsLeft":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"inThrottlePause":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"throttlePauseSecondsLeft":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"rotationState":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "rotationEnabled":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "inActiveRotationPool":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "waitingForRotation":false</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "relayInfo":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"id":1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"uniqID":"1uzWQq4S4EKhWHZm4xszxA",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"serverName":"220.129.17.61",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"serverPort":587,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"sslOptions":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "sslEnabled":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "sslMode":"Auto"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"login":"from@second-domain.ru",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"socksRelayLink":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"customFromName":"My Company.Com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"customHelo":"second-domain.ru",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"comment":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"customBodyFile":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"speedThrottle":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "throttleEnabled":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "msgNumber":11,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "perSeconds":2</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "sendingState":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"sent":21285,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"errors":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"errorsInRow":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"lastDeliveryErrors":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"enabled":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"excluded":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"excludeSecondsLeft":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"inThrottlePause":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"throttlePauseSecondsLeft":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"rotationState":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "rotationEnabled":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "inActiveRotationPool":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "waitingForRotation":false</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; ],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apichangerelaysendingoption"></a><span class="f_Heading1">changeRelaySendingOption</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда позволяет изменить параметры заданного smtp сервера у запущенной рассылки.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">mailingID </span>- id рассылки, у которой нужно изменить параметры у некоторого smtp сервера. Обязательный параметр. Получить список рассылок можно с помощью команды getMailings. Изменить параметры smtp сервера можно только у работающих рассылок, у которых state=working</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">relayID </span>- id (индекс) smtp сервера, параметры которого нужно изменить. Обязательный параметр. Получить список smtp серверов у активной рассылки можно с помощью команды getRelaysSendingStates</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">optionName </span>- имя параметра smtp сервера, который нужно изменить. Обязательный параметр. Возможные значения:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">toggleEnabled </span>- включить/включить smtp сервер.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">toggleExcluded </span>- исключить smtp сервер из рассылки на заданное время.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">toggleSpeedThrottle </span>- изменить скоростной лимит для smtp сервера.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p><span style="font-weight: bold;">optionParams </span>- объект, в котором передаются настройки опции, заданные в параметре optionName:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;">Если optionName=toggleEnabled:</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">relayEnabled </span>- если true включить smtp сервер, если false то выключить.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;">Если optionName=toggleExcluded:</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">relayExcluded </span>- если true - исключить smtp сервер из рассылки, если false - вернуть ранее исключенный smtp сервер в рассылку.</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">excludeDurationSeconds </span>- число секунд, на которые smtp сервер должен быть исключен из рассылки.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;">Если optionName=toggleSpeedThrottle:</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">throttleEnabled </span>- если true то ограничение скорости для smtp сервера будет включено, если false то выключено.</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">msgNumber </span>- число писем, которое может быть отправлено за заданный период времени.</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">perSeconds </span>- интервал в секундах, за который smtp сервер может отправить не больше писем чем указано в параметре msgNumber.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Примеры вызова:</p>
<p>&nbsp;</p>
<p>Для отключения smtp сервера:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"changeRelaySendingOption",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"mailingID":134,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"relayID":1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"optionName":"toggleEnabled",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"optionParams":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "relayEnabled":false</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
<p>&nbsp;</p>
<p>Для исключения smtp сервера из рассылки на заданное время:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"changeRelaySendingOption",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"mailingID":134,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"relayID":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"optionName":"toggleExcluded",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"optionParams":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "relayExcluded":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "excludeDurationSeconds":900</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
<p>&nbsp;</p>
<p>Для изменения скоростного лимита у smtp сервера:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"changeRelaySendingOption",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"mailingID":134,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"relayID":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"optionName":"toggleSpeedThrottle",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"optionParams":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "throttleEnabled":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "msgNumber":1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "perSeconds":600</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит строку "ОК" или ошибку.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":"OK",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apigetproxiessendingstates"></a><span class="f_Heading1">getProxiesSendingStates</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="border:none; border-spacing:0px;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:1566px; padding:0px;"><p>Команда возвращает состояния прокси у активной рассылки.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">mailingID </span>- id рассылки, у которой запрашиваются состояния прокси. Обязательный параметр. Получить список рассылок можно с помощью команды getMailings. Запросить состояния прокси можно только у работающих рассылок, у которых state=working</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
</td>
<td style="vertical-align:top; width:626px; padding:0px;"><p style="text-align: right;"><img src="./api_proxymanager_zoom66.png" width="621" height="312" alt="api_proxymanager" style="border:none"></p>
</td>
</tr>
</tbody></table>
</div>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"getProxiesSendingStates",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"B62ABC84-BA11-4DA9-BD1A-9F975B55DC8D",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"mailingID":186</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат содержит массив с прокси и их состояниями, используемыми в заданной рассылке:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">proxyInfo </span>- объект с информацией о прокси:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">id </span>- id прокси.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">ip </span>- IP адрес прокси.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">outIP </span>- выходной IP адрес прокси (если известен).</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">port</span> - номер порта прокси.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">login </span>- логин прокси если требуется авторизация.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">hostName </span>- имя хоста, которое привязано к IP адресу прокси и было получено через DNS PTR запрос во время проверки списка прокси.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">comment </span>- пользовательский комментарий, заданный для этого прокси.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">speedThrottle - </span>в этом объекте хранятся настройки ограничения скорости рассылки для этого прокси.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">throttleEnabled </span>- если true то ограничение скорости включено.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">msgNumber </span>- число писем, которое может быть отправлено за заданный период времени.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">perSeconds </span>- интервал в секундах, за который может быть отправлено не больше писем чем указано в параметре msgNumber.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">sendingState</span> - объект, в котором хранится статистика отправки и прогресс для этого прокси.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">enabled </span>- если true - прокси включен и через него отправляются письма.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">connectAttempts </span>- число попыток установить соединение через этот прокси с целевыми smtp серверами.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">errorsTotal </span>- общее число ошибок установления соединения через этот прокси.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">errorsInRow </span>- число ошибок соединения подряд. При успешном соединение это число сбрасывается в 0. Таким образом, если в этом параметре больше число - через этот прокси уже давно не удается соединиться с целевыми smtp серверами.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">totalErrors </span>- общее число ошибок отправки через этот прокси (т.е. тут сумма ошибок соединения и других ошибок, из-за которых не удалось отправить письмо, например из-за блокировки IP адреса прокси спам фильтрами и т.д.).</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">sent </span>- число писем, отправленных через этот прокси.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">notSentInRow </span>- число не отправленных писем подряд. При успешной отправки это число сбрасывается в 0. Таким образом, если в этом параметре большое число - через этот прокси уже давно не удается отправить письма.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">lastDeliveryErrors </span>- массив, содержащий последние ошибки отправки через этот прокси:</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">errorTime </span>- дата/время возникновения ошибки.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">error </span>- текст ошибки.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">toDomain </span>- на какой домен получателя выполнялась отправка когда произошла ошибка.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">fromDomain </span>- с какого домена (имеется ввиду домен обратного (From:) адреса) была отправка когда произошла ошибка.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">targetHost </span>- c каким целевым smtp сервером устанавливалось соединение через этот прокси когда произошла ошибка.</p>
<p style="margin: 0px 0px 0px 72px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">effeciencyPercent </span>- эффективность прокси (отношение успешных соединений к ошибкам соединения).</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">currentSendingThreads </span>- сколько потоков отправки (сколько параллельных соединений) сейчас работает через данный прокси.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">assicoatedRelayID </span>- ID (индекс) связанного с прокси Smtp сервера если в настройках Smtp используется связка Socks&lt;-&gt;Relay или в настройках ротации прокси включена синхронизация ротации прокси с Smtp серверами.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">excluded </span>- если true то прокси был автоматически исключен из рассылки на некоторое время из-за множества ошибок соединения или отправки писем.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">excludeSecondsLeft </span>- сколько еще секунд прокси будет исключен из рассылки.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">inThrottlePause </span>- если true то прокси находится в состоянии паузы из-за включенного ограничения скорости отправки.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">throttlePauseSecondsLeft</span> - сколько еще секунд прокси будет находится в состоянии паузы из-за включенного ограничения скорости отправки.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">rotationState </span>- объект содержит состояние ротации прокси:</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">rotationEnabled </span>- если true то ротация прокси включена.</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">inActiveRotationPool -</span> если true то данный прокси находится в активном пуле ротации и отправляет письма.</p>
<p style="margin: 0px 0px 0px 96px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 72px;"><span style="font-weight: bold;">waitingForRotation </span>- если true то данный прокси ожидает когда до него дойдет очередь ротации.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "proxyInfo":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"id":676,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"ip":"188.160.22.91",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"outIP":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"port":8250,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"type":"Socks5",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"login":"user",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"hostName":"vs3605.ip-91-22-160.eu",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"comment":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"speedThrottle":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "throttleEnabled":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "msgNumber":1000,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "perSeconds":300</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "sendingState":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"enabled":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"connectAttempts":1269,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"connectErrorsTotal":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"connectErrorsInRow":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"totalErrors":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"sent":1269,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"notSentInRow":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"lastDeliveryErrors":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"effeciencyPercent":100,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"currentSendingThreads":11,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"associatedRelayID":-1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"excluded":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"excludeSecondsLeft":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"inThrottlePause":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"throttlePauseSecondsLeft":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"rotationState":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "rotationEnabled":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "inActiveRotationPool":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "waitingForRotation":false</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "proxyInfo":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"id":677,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"ip":"118.125.96.97",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"outIP":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"port":57416,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"type":"Socks5",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"login":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"hostName":"vs3605.ip-97-96-125.eu",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"comment":"",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"speedThrottle":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "throttleEnabled":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "msgNumber":20,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "perSeconds":300</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "sendingState":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"enabled":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"connectAttempts":15,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"connectErrorsTotal":15,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"connectErrorsInRow":15,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"totalErrors":15,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"sent":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"notSentInRow":1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"lastDeliveryErrors":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"errorTime":"2024-03-10T11:22:16.758",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"error":"500 Connect error - Winsock - Connection timed out (#10060)",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"toDomain":"gmail.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"fromDomain":"mydomain.ru",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"targetHost":"mx.google.com"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"errorTime":"2024-03-10T11:22:16.758",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"error":"500 Connect error - Winsock - Connection timed out (#10060)",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"toDomain":"gmail.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"fromDomain":"mydomain.ru",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"targetHost":"mx.google.com"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"effeciencyPercent":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"currentSendingThreads":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"associatedRelayID":-1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"excluded":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"excludeSecondsLeft":928,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"inThrottlePause":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"throttlePauseSecondsLeft":0,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"rotationState":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "rotationEnabled":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "inActiveRotationPool":false,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "waitingForRotation":false</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; ],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apichangeproxysendingoption"></a><span class="f_Heading1">changeProxySendingOption</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда позволяет изменить параметры заданного прокси у запущенной рассылки.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">mailingID </span>- id рассылки, у которой нужно изменить параметры у некоторого прокси. Обязательный параметр. Получить список рассылок можно с помощью команды getMailings. Изменить параметры прокси можно только у работающих рассылок, у которых state=working</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">proxyID </span>- id прокси, параметры которого нужно изменить. Обязательный параметр. Получить список прокси у активной рассылки можно с помощью команды getProxiesSendingStates</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">optionName </span>- имя параметра прокси, который нужно изменить. Обязательный параметр. Возможные значения:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">toggleEnabled </span>- включить/включить прокси.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">toggleExcluded </span>- исключить прокси из рассылки на заданное время.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">toggleSpeedThrottle </span>- изменить скоростной лимит для прокси.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p><span style="font-weight: bold;">optionParams </span>- объект, в котором передаются настройки опции, заданные в параметре optionName:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;">Если optionName=toggleEnabled:</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">relayEnabled </span>- если true включить прокси, если false то выключить.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;">Если optionName=toggleExcluded:</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">relayExcluded </span>- если true - исключить прокси из рассылки, если false - вернуть ранее исключенный прокси в рассылку.</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">excludeDurationSeconds </span>- число секунд, на которые прокси должен быть исключен из рассылки.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;">Если optionName=toggleSpeedThrottle:</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">throttleEnabled </span>- если true то ограничение скорости для прокси будет включено, если false то выключено.</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">msgNumber </span>- число писем, которое может быть отправлено за заданный период времени.</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">perSeconds </span>- интервал в секундах, за который прокси может отправить не больше писем чем указано в параметре msgNumber.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p>Для отключения прокси:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"changeProxySendingOption",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"B62ABC84-BA11-4DA9-BD1A-9F975B55DC8D",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"mailingID":186,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"proxyID":676,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"optionName":"toggleEnabled",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"optionParams":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "proxyEnabled":false</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">Для исключения прокси из рассылки на заданное время:</span></p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"changeProxySendingOption",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"B62ABC84-BA11-4DA9-BD1A-9F975B55DC8D",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"mailingID":186,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"proxyID":676,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"optionName":"toggleExcluded",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"optionParams":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "proxyExcluded":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "excludeDurationSeconds":900</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
<p>&nbsp;</p>
<p>Для изменения скоростного лимита у прокси:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"changeProxySendingOption",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"B62ABC84-BA11-4DA9-BD1A-9F975B55DC8D",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"mailingID":186,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"proxyID":676,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"optionName":"toggleSpeedThrottle",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"optionParams":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "throttleEnabled":true,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "msgNumber":1,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "perSeconds":600</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит строку "ОК" или ошибку.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":"OK",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apipostsendingjob"></a><span class="f_Heading1">postSendingJob</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда добавляет задание на отправку в очередь отправки транзакционной рассылки.</p>
<p>&nbsp;</p>
<p>Транзакционная рассылка - это особый тип рассылки, для которой нельзя выбрать список получателей и которая отправляет письма исключительно на перечни контактов, переданные вместе с командой API postSendingJob<span style="font-weight: bold;"> </span>из вашего ПО. Транзакционные рассылки запускаются автоматически при старте AMS &nbsp;и ожидают команд на отправку от сервера API. У транзакционной рассылки нет прогресса работы т.к. заранее не известно сколько получателей придет вместе с командами postSendingJob. По умолчанию отправляется письмо, выбранное для транзакционной рассылки на главном окне AMS. Однако, если вместе с командой передается параметр <span style="font-weight: bold;">customMessage</span> - содержимое письма, переданное в этом параметре переопределяет содержимое письма, выбранного для рассылки на главном окне AMS. </p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">jobID </span>- опциональный параметр для вашего идентификатора задания. Может быть удобным если ID изначально формируется на стороне вашего ПО и хранится где-то в вашей БД чтобы в последствии можно было получить результат выполнения задания с помощью команды getSendingJobID. Максимальная длинна идентификатора 38 символов. Если параметр отсутствует - уникальный идентификатор (GUID) будет сформирован автоматически и возвращен вам в результате вызова команды postSendingJob. Если идентификатор задания формируется на вашей стороне - желательно чтобы он был уникальным, в противном случае вы не сможете получить результат выполнения задания - функция getSendingJobResult вернет результат для первого задания с совпадающим jobID.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">mailingID </span>- ID транзакционной рассылки, в чью очередь отправки будет добавлено данное задание. Обязательный параметр. Список ID имеющихся рассылок можно получить с помощью команды getTransactionalMailings или getMailings. У транзакционных рассылок параметр <span style="font-weight: bold;">type =</span> <span style="font-weight: bold;">transactional</span></p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">contacts</span> - массив с получателями, куда нужно отправить письмо. Обязательный параметр. При формировании элементов массива придерживайтесь следующих правил:</p>
<p>&nbsp;</p>
<p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 24px;"><span style="font-size:10pt; font-family: &#39;Arial Unicode MS&#39;,&#39;Lucida Sans Unicode&#39;,&#39;Arial&#39;;color:#000000;display:inline-block;width:13px;margin-left:-13px">•</span>Каждый элемент массива должен содержать как минимум обязательные поля <span style="font-weight: bold;">ID</span>, <span style="font-weight: bold;">Email</span>, <span style="font-weight: bold;">FullName</span>, при этом поле Email не должно быть пустым.</p><p>&nbsp;</p>
<p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 24px;"><span style="font-size:10pt; font-family: &#39;Arial Unicode MS&#39;,&#39;Lucida Sans Unicode&#39;,&#39;Arial&#39;;color:#000000;display:inline-block;width:13px;margin-left:-13px">•</span>В поле ID вы можете передать уникальный ID контакта из вашей БД (чтобы потом была возможность сделать выборку по результатам рассылок с join по ID контакта). Поле ID может содержать пустое значение. Макс. длинна ID – 38 символов (хватит для GUID).</p><p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 24px;"><span style="font-size:10pt; font-family: &#39;Arial Unicode MS&#39;,&#39;Lucida Sans Unicode&#39;,&#39;Arial&#39;;color:#000000;display:inline-block;width:13px;margin-left:-13px">•</span>В поле FullName вы можете передать имя получателя (которое будет подставлено в поле To: отправляемых писем). Значения поля может быть пустым. Макс длинна 100 символов.</p><p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 24px;"><span style="font-size:10pt; font-family: &#39;Arial Unicode MS&#39;,&#39;Lucida Sans Unicode&#39;,&#39;Arial&#39;;color:#000000;display:inline-block;width:13px;margin-left:-13px">•</span>После обязательных полей ID, Email, FullName – вы можете передать любое количество других полей и их значений. Не должно быть полей с одинаковыми именами. Все поля можно использовать в теле письма в подстановках через макросы [%%FИмяПоля%%]. Желательно чтобы имена полей состояли только из английских букв и цифр.</p><p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 24px;"><span style="font-size:10pt; font-family: &#39;Arial Unicode MS&#39;,&#39;Lucida Sans Unicode&#39;,&#39;Arial&#39;;color:#000000;display:inline-block;width:13px;margin-left:-13px">•</span>Все элементы массива contacts должны содержать одинаковый набор полей в одинаковой последовательности ! Т.е. не может быть, что у одного контакта есть поле City, а у другого нет (может быть пустое значение поля, но само поле должно быть). Вы можете менять набор полей от задания к заданию, но внутри задания поля должны быть одинаковыми, в одинаковой последовательности.</p><p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 24px;"><span style="font-size:10pt; font-family: &#39;Arial Unicode MS&#39;,&#39;Lucida Sans Unicode&#39;,&#39;Arial&#39;;color:#000000;display:inline-block;width:13px;margin-left:-13px">•</span>Значения всех полей контакта должны передаваться в виде строк (например, передавать не число 10, а строку “10”)<br>
&nbsp;</p><p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 24px;"><span style="font-size:10pt; font-family: &#39;Arial Unicode MS&#39;,&#39;Lucida Sans Unicode&#39;,&#39;Arial&#39;;color:#000000;display:inline-block;width:13px;margin-left:-13px">•</span>Если массив contacts содержит более одного элемента – метод их отправки будет определяться настройкой профиля отправки. Например, если режим Personal copy – это будет отправка по одному письму, если BCC – то в пакетном режиме (одно тело письма – много получателей). При этом если настройка размера BCC в профиле не соответствует числу контактов в массиве contacts – софт это правильно обработает, разобьет задание на под-задания и отправит корректным образом, не допуская чтобы в поле To: одного письма находились адреса из разных команд postSendingJob.</p><p>&nbsp;</p>
<p><span style="font-weight: bold;">customMessage </span>- объект, в котором можно передать тему и содержимое письма, которое нужно отправить на список получателей из параметра contacts. Если объект <span style="font-weight: bold;">customMessage </span>отсутствует - будет отправлено "письмо по умолчанию", выбранное для транзакционной рассылки на главном окне AMS.</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">subject</span> - тема письма. Должна в виде строки в кодировке UTF-8, дополнительно закодированной в base64.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">htmlPart</span> - содержимое Html части письма. Это должен быть Html код в кодировке UTF-8 (желательно чтобы html код содержал META тэг с указанием кодировки). Html код должен передаваться в виде строки закодированной в base64.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">textPart </span>- текстовая часть письма. Должна быть в кодировке UTF-8 и передаваться в виде строки, закодированной в base64. Значение параметра должно быть задано если messageType=Text или textPartMode=CustomTextPart</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">messageType</span> - тип письма. Возможны два варианта: <span style="font-weight: bold;">Html </span>или <span style="font-weight: bold;">Text. </span>Если messageType=Html - параметр htmlPart<span style="font-weight: bold;"> </span>не должен быть пустым. Если messageType=Text - параметр <span style="font-weight: bold;">textPart</span> не должен быть пустым. Данный параметр имеет ту же логику, что и эта настройка в редакторе писем:<br>
&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><img src="./apimsgtype.png" width="250" height="125" alt="apimsgtype" style="border:none"></p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">textPartMode</span> - режим использования текстовой части Html писем. Возможные значения:</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">ExtractFromHtml </span>- автоматически сформировать текстовую часть путем извлечения текста из html части</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">CustomTextPart </span>- задать свою текстовую часть, текст которой будет отличаться от html части.</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">NoTextPart </span>- отключить текстовую часть, в этом случае типа письма будет text/html вместо multipart/alternative.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;">Данный параметр повторяет логику работы этой настройки в редакторе писем:</p>
<p style="margin: 0px 0px 0px 48px;"><img src="./apitextpartmode.png" width="657" height="171" alt="apitextpartmode" style="border:none"></p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">attachments </span>- массив, в котором передаются вложения.</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">fileName </span>- имя приложенного файла.</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">fileContent </span>- содержимое приложенного файла. Должно быть закодировано в base64.</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">htmlAttachments</span> - если письмо содержит встроенные картинки - они передаются в этом массиве.</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">fileName </span>- имя файла картинки. Например, если html код вашего письма содержит &lt;img src="NetworkIcon.png"&gt; и при этом массив htmlAttachments.fileName содержит имя файла NetworkIcon.png &nbsp;- то при сборке письма IMG тэг поменяется на &lt;img <a href="mailto:src=%22cid:b3f106b5009ed27a741cb6030@domain.com%22" class="weblink">src="cid:b3f106b5009ed27a741cb6030@domain.com"</a>&gt; и картинка будет встроено в письмо как вложение.</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-weight: bold;">fileContent </span>- содержимое файла картинки. Должно быть закодировано в base64</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">customHeaderLines</span> - опциональный массив строк, который необходимо добавить в конец стандартного заголовка письма. Строки добавляются в заголовок "как есть", без какого либо кодирования. Если параметр отсутствует - письмо отправляется со стандартным заголовком. Данный параметр является аналогом этой настройки Редактора писем:</p>
<p style="margin: 0px 0px 0px 24px;"><img src="./apicustomheaders_zoom76.png" width="428" height="288" alt="apicustomheaders" style="border:none"></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"postSendingJob",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"jobID":"MyJob_ID_43455353",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"mailingID":78,</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"contacts":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; {</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"ID":"1",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"Email":"billgates@microsoft.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"FullName":"Bill Gates",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"City":"Redmont"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; {</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"ID":"2",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"Email":"jeffbezos@amazon.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"FullName":"Jeff Bezos",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"City":"New York"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"customMessage":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "subject":"VGhpcyBpcyBhIHRlc3Qgc3ViamVjdA==",</span></p>
<p><span style="font-family: &#39;Courier New&#39;; word-break:break-all;"> &nbsp; &nbsp; &nbsp; &nbsp; "htmlPart":"PGh0bWw+PGhlYWQ+DQo8bWV0YSBjb250ZW50PSJ0ZXh0L2h0bWw7IGNoYXJzZXQ9LVtDSEFSU0VUXS0iIGh0dHAtZXF1aXY9Q29udGVudC1UeXBlPg0KPG1ldGEgbmFtZT1HRU5FUkFUT1IgY29udGVudD0iLVtPVVRMT09LX1ZFUl0tIj48L2hlYWQ+DQo8Ym9keSBib3R0b21NYXJnaW49NSBiZ0NvbG9yPSIjZmZmZmZmIiBsZWZ0TWFyZ2luPTUgdG9wTWFyZ2luPTUgcmlnaHRNYXJnaW49NT48Zm9udCBjb2xvcj0iIzAwMDAwMCIgc2l6ZT0yIGZhY2U9QXJpYWw+DQo8ZGl2PlRoaXMgaXMgYSBtZXNzYWdlIGJvZHkgd2l0aCBpbWFnZTwvZGl2Pg0KPGRpdj48aW1nIGJvcmRlcj0wIGhzcGFjZT0wIGFsdD0iIiBzcmM9Ik5ldHdvcmtJY29uLnBuZyIgd2lkdGg9MTYgaGVpZ2h0PTE2PjwvZGl2PjwvZm9udD48L2JvZHk+PC9odG1sPg0K",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "textPart":"77u\/VGhpcyBpcyBhIG1lc3NhZ2UgYm9keSB3aXRoIGltYWdl",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "messageType":"Html",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "textPartMode":"ExtractFromHtml",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "attachments":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "fileName":"ExampleAttachment.txt",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "fileContent":"Q29udGVudCBvZiBhdHRhY2hlZCB0ZXh0IGZpbGU="</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; ],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "htmlAttachments":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "fileName":"NetworkIcon.png",</span></p>
<p><span style="font-family: &#39;Courier New&#39;; word-break:break-all;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "fileContent":"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8\/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAg1JREFUeNqkU01rE1EUPS+Thnx0nBnTIlMXLgRFAkHp2q1uKqiUFMWVLgxUFPwPWetCF91kpe3OjwpVdwF3GiEE1JWtBktbJzNvzHwk0Xx43ziOSa246IXDu2\/eu+edc+c9NhwOsZ+IFwqF0fk5gv6fmi3Cs4hgdKXdbuvlcnnJcRx0Oh00mx5ct4dMZhLaQQ1T2SyKxYVFSZKwJ4GIXq8Hy7Jg2zZMy4NDBJqmIp5gUJTMX3KkXC43VlytVmcYY8cMw8DnTx\/RNL7gm70Dm2\/j+dqTl5zzh7FYbPNfCmZLpdJcZMFyYDttpDKpQMXcxYWzN4vXVmnf64hgMBhE1SIfs2A74J4HWZURSwwgK8lgDyn8Y0HX9eA0Ad\/3Wa1WO0xN+mVhYx3W1214nMO1ONaerr5oNBor3W5383cNy+fzoz24ValU7kYWeAumayORjkPVFGTpT8yfOX+bFNyJLNTr9SBJJpPUZUUes9BqwfA5MmoSTFg4kIJpmrJYEweIYCMNPEIk83QzD\/X7\/WCN8pnApyRtUeeHofcdui+PaFzfTaASUtG3XAJ49\/1GmN+jfOzOEfhugvFYnl7Chx+zQX5i4i0uG9f3fAuEKcJRwknCKcJxgoxlFxfKlwKCx1dXxFAlCG8bYf6G8F4omAilT4ZIC9tYTF\/BNDsdHGMMX+G+\/2BEvhPCZ\/t9zj8FGAAyaftHYMhilQAAAABJRU5ErkJggg=="</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; ]</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"customHeaderLines":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "Precedense: Bulk",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "X-Mailer: [%%ORandText,XMailers%%]"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;]</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит идентификатор помещенного в очередь задания или ошибку. Обратите внимание, что если параметр jobID был не пуст - функция вернет значение, переданное вами в параметре jobID. Если же параметр jobID был не задан или пуст - результат будет содержать уникальный идентификатор (GUID), сформированный программой.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":"MyJob_ID_43455353",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apigetsendingjobresult"></a><span class="f_Heading1">getSendingJobResult</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда возвращает результат выполнения задания на отправку, которое было помещено в очередь транзакционной рассылки с помощью команды postSendingJob.</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">jobID </span>- id задания, результат выполнения которого вы хотите получить. Этот id вы получили в результате отправки задания с помощью команды postSendingJob. См. описание параметра jobID и результата выполнения команды postSendingJob.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">mailingID </span>- ID транзакционной рассылки, в чью очередь было ранее отправлено задание. Обязательный параметр. Список ID имеющихся рассылок можно получить с помощью команды getTransactionalMailings или getMailings. У транзакционных рассылок параметр <span style="font-weight: bold;">type =</span> <span style="font-weight: bold;">transactional</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"getSendingJobResult",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"jobID":"MyJob_ID_43455353",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"mailingID":133</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит массив с результатами отправки для каждого получателя из массива contacts задания, полученного c командой postSendingJob:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">ID </span>- id контакта, который был передан в массиве contacts исходного задания.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">Email </span>- email адрес, который был передан в массиве contacts исходного задания.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">sendResult </span>- результат отправки на данный email адрес. Возможные значения:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">pending</span> - задание еще находится в очереди или по нему еще не завершена отправка письма. Вы можете запросить результат повторно позднее.</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">sent </span>- письмо было успешно отправлено.</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">failed </span>- письмо не было отправлено по причине ошибки доставки. Текст ошибки будет передан в параметре lastReply.</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">excluded</span> - письмо не было отправлено т.к. Email находился в Списке исключений или попал под Правила Исключений.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p><span style="font-weight: bold;">lastReply </span>- последний ответ сервера. Будет содержать ошибку доставки если sendResult = failed</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">failCategory </span>- если письмо не было отправлено (sendResult = failed) - данный параметр содержит категорию ошибки отправки. Возможные значения:</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">bad email </span>- адрес получателя определился как "плохой" исходя из ошибки почтового сервера (ошибка содержала строку типа "user not found", полный перечень ошибок определения плохих адресов задается в окне Настройки-&gt;Smtp правила).</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">refused content or IP </span>- письмо не было доставлено из-за ошибки, связанной с блокировкой содержимого вашего письма или IP адреса. Полный перечень ошибок задается в окне Настройки-&gt;Smtp правила.</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">other </span>- ошибка отправки, связанная с не возможностью установить соединение, таймаутом соединения, или с ошибкой тип которой не удалось распознать с помощью правил, заданных в окне Настройки-&gt;Smtp правила.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":[</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "ID":"1",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "Email":"billgates@microsoft.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "sendResult":"sent",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "lastReply":"250 &nbsp;DATA received; Message accepted"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "ID":"2",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "Email":"jeffbezos@amazon.com",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "sendResult":"failed",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "lastReply":"500 Connect error - Winsock - Connection refused (#10061)",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp; &nbsp; "failCategory":"other"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;}</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; ],</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apiisschedulerrunning"></a><span class="f_Heading1">isSchedulerRunning</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда возвращает статус работы Планировщика рассылок. Может использоваться, к примеру, для контроля работы Планировщика после перезагрузки и/или обновлении операционной системы на сервере, где установлен AMS. Если Планировщик не запущен - запуск рассылок по расписанию не будет работать !</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp;"jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp;"method":"isSchedulerRunning",</span></p>
<p><span style="width:48px">&nbsp;</span><span style="font-family: &#39;Courier New&#39;;"> "params": {"apiKey": "38091FE7-5516-4F5B-9455-4A340BFEC875"},</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит состояние запуска Планировщика рассылок: true если запущен, false если нет:</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>{</p>
<p> &nbsp; "jsonrpc":"2.0",</p>
<p> &nbsp; "result":true,</p>
<p> &nbsp; "id":1</p>
<p>}</p>
</td>
</tr>
</tbody></table>
</div>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table style="width:100%; border:none; border-spacing:0px; border-collapse:collapse;">
<tbody><tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><h1 class="p_Heading1" style="text-align: center;"><a id="apirunscheduler"></a><span class="f_Heading1">runScheduler</span></h1>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Команда запускает Планировщик рассылок. Т.к. если Планировщик не запущен - запуск рассылок по расписанию не будет работать !</p>
<p>&nbsp;</p>
<p>Описание параметров:</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">apiKey </span>-<span style="font-weight: bold;"> </span>ключ доступа к API</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Пример вызова:</p>
<p>&nbsp;</p>
<p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "method":"runScheduler",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "params":{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; &nbsp; &nbsp;"apiKey":"38091FE7-5516-4F5B-9455-4A340BFEC875"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; },</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":"1"</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p>Результат вызова содержит строку "ОК" или ошибку.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:2px; border:solid 1px #000000;"><p><span style="font-family: &#39;Courier New&#39;;">{</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "jsonrpc":"2.0",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "result":"OK",</span></p>
<p><span style="font-family: &#39;Courier New&#39;;"> &nbsp; "id":1</span></p>
<p><span style="font-family: &#39;Courier New&#39;;">}</span></p>
</td>
</tr>
</tbody></table>
</div>

<!--ZOOMSTOP--> 

</div></div> 

<script type="text/javascript">
var togglesStart = togglesCount = HMToggles.length;
var doJump = setInterval(function() {
	togglesCount = HMToggles.length;
	if (togglesCount > togglesStart) {
		togglesStart = togglesCount;
		} else {
		togglesReady = true;
		}
	if (togglesReady && tablesReady) {
	$("body").css("visibility","visible");
	clearInterval(doJump);
	toggleJump(false);
	if (typeof doResize == 'function') doResize();
	$("div#idcontent").focus();
	}
},200);
</script>

</body></html>