# üîç –ê–ù–ê–õ–ò–ó: –ü–æ—á–µ–º—É Postal –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –¥–∞–ª—å—à–µ –æ—Å–Ω–æ–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã

## üìã –û–ë–ù–ê–†–£–ñ–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

### –ü—Ä–æ–±–ª–µ–º–∞ #1: postal.yml —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ –ø–æ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ ‚ùå

**–û–±–Ω–∞—Ä—É–∂–µ–Ω–æ –≤ `config/postal.yml`:**
```yaml
password: ${MARIADB_PASSWORD}   # ‚Üê –ù–ï –ó–ê–ú–ï–ù–ï–ù–û!
password: ${RABBITMQ_PASSWORD}  # ‚Üê –ù–ï –ó–ê–ú–ï–ù–ï–ù–û!
secret_key: ${SECRET_KEY_BASE}  # ‚Üê –ù–ï –ó–ê–ú–ï–ù–ï–ù–û!
```

**–ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞:**
- Postal –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ YAML —Ñ–∞–π–ª–µ –Ω–∞–ø—Ä—è–º—É—é
- –û–Ω —á–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª –∫–∞–∫ –µ—Å—Ç—å –∏ –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ MariaDB —Å –ø–∞—Ä–æ–ª–µ–º –±—É–∫–≤–∞–ª—å–Ω–æ `${MARIADB_PASSWORD}`
- –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ—à–∏–±–∫–µ "Access denied for user 'postal'@'%'"
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** Postal –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ë–î, –ø–æ—ç—Ç–æ–º—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç –¥–∞–Ω–Ω—ã–µ

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π HTML)
- –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –æ—à–∏–±–∫–∏
- –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞: –æ—à–∏–±–∫–∏ AJAX –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API
- –í –ª–æ–≥–∞—Ö Postal: `Access denied for user 'postal'@'%'`

---

### –ü—Ä–æ–±–ª–µ–º–∞ #2: Nginx location –º–æ–∂–µ—Ç –Ω–µ –ø–æ–∫—Ä—ã–≤–∞—Ç—å –≤—Å–µ –ø–æ–¥–ø—É—Ç–∏ Postal ‚ùå

**–¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
```nginx
location /postal/ {
    proxy_pass http://postal_backend/;
    ...
}
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- Postal –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SPA (Single Page Application) —Å –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–º —Ä–æ—É—Ç–∏–Ω–≥–æ–º
- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –¥–æ–ª–∂–Ω—ã –∏–¥—Ç–∏ —á–µ—Ä–µ–∑ `/postal/`, –Ω–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–ø—É—Ç–∏ –º–æ–≥—É—Ç –Ω–µ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- AJAX –∑–∞–ø—Ä–æ—Å—ã Postal –º–æ–≥—É—Ç –∏–¥—Ç–∏ –Ω–∞ `/api/` –∏–ª–∏ –¥—Ä—É–≥–∏–µ –ø—É—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –ø—Ä–æ–∫—Å–∏—Ä—É—é—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- AJAX –∑–∞–ø—Ä–æ—Å—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 404 –∏–ª–∏ –∏–¥—É—Ç –Ω–µ —Ç—É–¥–∞

---

### –ü—Ä–æ–±–ª–µ–º–∞ #3: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö Postal –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ ‚ùå

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ï—Å–ª–∏ –ë–î –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞, —Ç–∞–±–ª–∏—Ü—ã –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç
- Postal –Ω–µ –º–æ–∂–µ—Ç –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –∏–ª–∏ –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–°–∏–º–ø—Ç–æ–º—ã:**
- –í—Ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç (–ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ë–î users)
- –ù–æ –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—É—Å—Ç—ã–µ –∏–ª–∏ —Å –æ—à–∏–±–∫–∞–º–∏
- –í –ª–æ–≥–∞—Ö: `Table 'postal.organizations' doesn't exist`

---

## ‚úÖ –†–ï–®–ï–ù–ò–Ø

### –†–µ—à–µ–Ω–∏–µ 1: –ò—Å–ø—Ä–∞–≤–∏—Ç—å postal.yml (–ö–†–ò–¢–ò–ß–ù–û!)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `${MARIADB_PASSWORD}` –Ω–µ –ø–æ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã

**–†–µ—à–µ–Ω–∏–µ:**

```bash
cd /home/user/Postal

# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ .env —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
test -f .env && echo "‚úÖ .env exists" || echo "‚ùå .env missing"

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –≤ .env
grep MARIADB_PASSWORD .env
grep RABBITMQ_PASSWORD .env
grep SECRET_KEY_BASE .env

# 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å envsubst –µ—Å–ª–∏ –Ω–µ—Ç
sudo apt-get install -y gettext-base

# 4. –°–æ–∑–¥–∞—Ç—å backup
cp config/postal.yml config/postal.yml.backup

# 5. –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å postal.yml
source .env
envsubst < config/postal.yml.example > config/postal.yml

# 6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ–¥—Å—Ç–∞–≤–∏–ª–∏—Å—å
echo "=== –ü—Ä–æ–≤–µ—Ä–∫–∞ ==="
grep "password:" config/postal.yml | head -3

# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –†–ï–ê–õ–¨–ù–´–ï –∑–Ω–∞—á–µ–Ω–∏—è, –ù–ï ${...}
# –ü—Ä–∞–≤–∏–ª—å–Ω–æ: password: a3f9d2e1c4b8...
# –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ: password: ${MARIADB_PASSWORD}
```

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Postal
docker compose restart postal

# –ü–æ–¥–æ–∂–¥–∞—Ç—å 10 —Å–µ–∫—É–Ω–¥
sleep 10

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker compose logs postal --tail=50 | grep -i error
```

---

### –†–µ—à–µ–Ω–∏–µ 2: –£–ª—É—á—à–∏—Ç—å Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è Postal

**–¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å:**

```nginx
# –¢–µ–∫—É—â–∞—è (—Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—É—á—à–µ):
location /postal/ {
    proxy_pass http://postal_backend/;
    ...
}

# –£–ª—É—á—à–µ–Ω–Ω–∞—è (–ø–æ–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ –ø–æ–¥–ø—É—Ç–∏):
location ~ ^/postal(/.*)?$ {
    proxy_pass http://postal_backend$request_uri;
    proxy_http_version 1.1;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-Proto https;
    # NOTE: Do NOT send X-Forwarded-Host - it causes 403 errors in Postal
    proxy_set_header Connection "";
    
    proxy_connect_timeout 30s;
    proxy_send_timeout 60s;
    proxy_read_timeout 60s;
    
    # –î–ª—è SPA - –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç –Ω–∞ index.html
    try_files $uri $uri/ /postal/;
}
```

**–ù–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —Ç–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å**, –µ—Å–ª–∏ postal.yml –∏—Å–ø—Ä–∞–≤–ª–µ–Ω.

---

### –†–µ—à–µ–Ω–∏–µ 3: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö Postal

**–ï—Å–ª–∏ –ë–î –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞:**

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –µ—Å—Ç—å –ª–∏ —Ç–∞–±–ª–∏—Ü—ã
docker compose exec mariadb mysql -upostal -p${MARIADB_PASSWORD} postal -e "SHOW TABLES;"

# –ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü –Ω–µ—Ç –∏–ª–∏ –º–∞–ª–æ - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å:
docker compose exec postal postal initialize

# –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ "database already exists" - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –µ—Å—Ç—å –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
docker compose exec mariadb mysql -upostal -p${MARIADB_PASSWORD} postal -e "SELECT email FROM users;"

# –ï—Å–ª–∏ –Ω–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π - —Å–æ–∑–¥–∞—Ç—å:
docker compose exec postal postal make-user

# –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º:
# Email: admin@linenarrow.com
# First Name: Admin
# Last Name: User
# Password: –≤–∞—à_–±–µ–∑–æ–ø–∞—Å–Ω—ã–π_–ø–∞—Ä–æ–ª—å
```

---

## üîß –ü–û–®–ê–ì–û–í–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å postal.yml

```bash
cd /home/user/Postal

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
grep -E "\$\{" config/postal.yml

# –ï—Å–ª–∏ –Ω–∞—Ö–æ–¥–∏—Ç ${MARIADB_PASSWORD} - –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å (—Å–º. –†–µ—à–µ–Ω–∏–µ 1)
```

### –®–∞–≥ 2: –ò—Å–ø—Ä–∞–≤–∏—Ç—å postal.yml (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

```bash
source .env
envsubst < config/postal.yml.example > config/postal.yml
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ Postal –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è
docker compose exec postal bash
mysql -h mariadb -u postal -p
# –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∏–∑ postal.yml

# –ï—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è
exit
exit
```

### –®–∞–≥ 4: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ë–î (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

```bash
docker compose exec postal postal initialize
docker compose exec postal postal make-user
```

### –®–∞–≥ 5: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã

```bash
docker compose restart postal nginx
```

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: Postal –æ—Ç–≤–µ—á–∞–µ—Ç
curl -I http://localhost:5000
# –û–∂–∏–¥–∞–µ—Ç—Å—è: HTTP/1.1 200 OK

# –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: –ß–µ—Ä–µ–∑ nginx
curl -I https://your-domain/postal/
# –û–∂–∏–¥–∞–µ—Ç—Å—è: HTTP/1.1 200 OK

# –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: –õ–æ–≥–∏ –±–µ–∑ –æ—à–∏–±–æ–∫
docker compose logs postal --tail=50 | grep -i "error\|denied"
# –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
```

---

## üß™ –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: postal.yml –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω?

```bash
cat config/postal.yml | grep -E "password:|secret_key:"

# –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ (—Ä–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è):
# password: f3a2d9e8c1b4...
# password: a8b3c2d1e9f4...
# secret_key: d1e2f3a4b5c6...

# –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ –∑–∞–º–µ–Ω–µ–Ω—ã):
# password: ${MARIADB_PASSWORD}
# password: ${RABBITMQ_PASSWORD}
# secret_key: ${SECRET_KEY_BASE}
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: Postal –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ MariaDB?

```bash
docker compose logs postal --tail=50 | grep -i "mysql\|database\|connection"

# –ò—â–∏—Ç–µ:
# - "Can't connect to MySQL server" ‚Üí –ø—Ä–æ–±–ª–µ–º–∞ —Å –ë–î
# - "Access denied" ‚Üí –Ω–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å –≤ postal.yml
# - "Connected to database" ‚Üí –≤—Å—ë —Ö–æ—Ä–æ—à–æ
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞?

```bash
docker compose exec mariadb mysql -upostal -p${MARIADB_PASSWORD} postal -e "SHOW TABLES;" | head -20

# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ç–∞–±–ª–∏—Ü—ã:
# - users
# - organizations
# - servers
# - domains
# - –∏ —Ç.–¥. (–º–Ω–æ–≥–æ —Ç–∞–±–ª–∏—Ü)
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 4: –ï—Å—Ç—å –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏?

```bash
docker compose exec mariadb mysql -upostal -p${MARIADB_PASSWORD} postal -e "SELECT email FROM users;"

# –ï—Å–ª–∏ –Ω–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π - —Å–æ–∑–¥–∞—Ç—å:
docker compose exec postal postal make-user
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 5: Nginx –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ?

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ nginx
docker compose logs nginx --tail=50 | grep postal

# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ /postal/ –∏ –ø–æ–¥–ø—É—Ç—è–º
```

---

## üìä –ü–†–ò–û–†–ò–¢–ï–¢ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

### üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ (—Å–¥–µ–ª–∞—Ç—å –ø–µ—Ä–≤—ã–º):
1. ‚úÖ **–ò—Å–ø—Ä–∞–≤–∏—Ç—å postal.yml** - –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
   - –≠—Ç–æ –æ—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ –ø–æ—á–µ–º—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
   - –ë–µ–∑ —ç—Ç–æ–≥–æ Postal –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ë–î

### üü° –í–∞–∂–Ω–æ (—Å–¥–µ–ª–∞—Ç—å –≤—Ç–æ—Ä—ã–º):
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ë–î –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –µ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞

### üü¢ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–º–æ–∂–Ω–æ –ø–æ–∑–∂–µ):
4. –£–ª—É—á—à–∏—Ç—å nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (—Ç–µ–∫—É—â–∞—è –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å)

---

## üéØ –ë–´–°–¢–†–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è)

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å, —Å–¥–µ–ª–∞–π—Ç–µ —Ç–æ–ª—å–∫–æ —ç—Ç–æ:

```bash
cd /home/user/Postal

# 1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å postal.yml (5 –º–∏–Ω—É—Ç)
source .env
envsubst < config/postal.yml.example > config/postal.yml

# 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Postal
docker compose restart postal

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker compose logs postal --tail=50 | grep -i error
```

**–≠—Ç–æ –¥–æ–ª–∂–Ω–æ —Ä–µ—à–∏—Ç—å 90% –ø—Ä–æ–±–ª–µ–º!**

---

## ‚úÖ –ü–†–û–í–ï–†–ö–ê –ü–û–°–õ–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Postal –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
   - –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø: `http://your-server-ip:5000`
   - –ß–µ—Ä–µ–∑ nginx: `https://your-domain/postal/`

2. **–í–æ–π–¥–∏—Ç–µ —Å —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏**

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–≤–∏–≥–∞—Ü–∏—é:**
   - –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –¥–æ–ª–∂–Ω—ã –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
   - –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
   - –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä—ã
   - –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (F12)

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   ```bash
   docker compose logs postal --tail=20
   # –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
   ```

---

**–ì–æ—Ç–æ–≤–æ!** –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è postal.yml Postal –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é. üéâ
